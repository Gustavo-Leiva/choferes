import{A as q,Aa as ge,B as N,Ba as be,C as b,Ca as he,E as H,G as o,H as K,I as O,N as Z,Q as J,R as $,S as Y,T as Q,Y as W,_ as B,a as k,b as D,c as G,e as P,f as S,fa as X,g as A,h as L,ha as ee,i as _,ia as ie,j as V,k as z,ka as ae,l as x,la as ne,m as I,ma as te,n as F,na as m,o as R,oa as oe,p as U,pa as re,q as j,r as s,s as g,sa as le,t as u,ta as se,u as c,ua as ce,v as t,va as me,w as n,wa as de,x as p,xa as ue,ya as pe,za as fe}from"./chunk-XDI6FCTQ.js";var E=class a{constructor(e){this.http=e}ruta="https://restcountries.com/v3.1/all";transformarPais(e){return{nombre:this.obtenerNombreEnEspa\u00F1ol(e),banderaUrl:e.flags?.png||"",codigo:e.cca2,continente:e.region||"Desconocido"}}traerPaises(){return this.http.get(this.ruta).pipe(S(e=>e.map(i=>this.transformarPais(i))),A(e=>(console.error("Error al obtener pa\xEDses:",e),P([]))))}obtenerNombreEnEspa\u00F1ol(e){let i=e.name?.translations?.spa?.common||e.name?.common||"Desconocido";return this.traducirNombrePais(i)}obtenerPaisesPorContinente(e){return this.traerPaises().pipe(S(i=>i.filter(r=>r.continente===e)),A(i=>(console.error("Error al obtener pa\xEDses por continente:",i),P([]))))}obtenerPaisesEnEspa\u00F1ol(){return this.traerPaises().pipe(S(e=>e.map(i=>i.nombre)))}traducirNombrePais(e){return this.traducciones[e]||e}traducciones={Afghanistan:"Afganist\xE1n",Albania:"Albania",Algeria:"Argelia",Andorra:"Andorra",Angola:"Angola","Antigua and Barbuda":"Antigua y Barbuda",Argentina:"Argentina",Armenia:"Armenia",Australia:"Australia",Austria:"Austria",Azerbaijan:"Azerbaiy\xE1n",Bahamas:"Bahamas",Bahrain:"Bar\xE9in",Bangladesh:"Banglad\xE9s",Barbados:"Barbados",Belarus:"Bielorrusia",Belgium:"B\xE9lgica",Belize:"Belice",Benin:"Ben\xEDn",Bhutan:"But\xE1n",Bolivia:"Bolivia","Bosnia and Herzegovina":"Bosnia y Herzegovina",Botswana:"Botsuana",Brazil:"Brasil",Brunei:"Brun\xE9i",Bulgaria:"Bulgaria","Burkina Faso":"Burkina Faso",Burundi:"Burundi","Caribbean Netherlands":"Caribe Holandes","Cayman Islands":"Isla Caiman","Cabo Verde":"Cabo Verde",Cambodia:"Camboya",Cameroon:"Camer\xFAn",Canada:"Canad\xE1","Central African Republic":"Rep\xFAblica Centroafricana",Chad:"Chad",Chile:"Chile",China:"China",Colombia:"Colombia",Comoros:"Comoras","Congo, Democratic Republic of the":"Rep\xFAblica Democr\xE1tica del Congo","Congo, Republic of the":"Rep\xFAblica del Congo","Costa Rica":"Costa Rica",Croatia:"Croacia",Cuba:"Cuba",Cyprus:"Chipre","Czech Republic":"Rep\xFAblica Checa",Denmark:"Dinamarca",Djibouti:"Yibuti",Dominica:"Dominica","Dominican Republic":"Rep\xFAblica Dominicana",Ecuador:"Ecuador",Egypt:"Egipto","El Salvador":"El Salvador","Equatorial Guinea":"Guinea Ecuatorial",Eritrea:"Eritrea",Estonia:"Estonia",Eswatini:"Esuatini",Ethiopia:"Etiop\xEDa",Fiji:"Fiyi",Finland:"Finlandia",France:"Francia",Gabon:"Gab\xF3n",Gambia:"Gambia",Georgia:"Georgia",Germany:"Alemania",Ghana:"Ghana",Greece:"Grecia",Grenada:"Granada",Guatemala:"Guatemala",Guinea:"Guinea","Guinea-Bissau":"Guinea-Bis\xE1u",Guyana:"Guyana",Haiti:"Hait\xED",Honduras:"Honduras",Hungary:"Hungr\xEDa",Iceland:"Islandia",India:"India",Indonesia:"Indonesia",Iran:"Ir\xE1n",Iraq:"Irak",Ireland:"Irlanda",Israel:"Israel",Italy:"Italia",Jamaica:"Jamaica",Japan:"Jap\xF3n",Jordan:"Jordania",Kazakhstan:"Kazajist\xE1n",Kenya:"Kenia",Kiribati:"Kiribati",Kuwait:"Kuwait",Kyrgyzstan:"Kirguist\xE1n",Laos:"Laos",Latvia:"Letonia",Lebanon:"L\xEDbano",Lesotho:"Lesoto",Liberia:"Liberia",Libya:"Libia",Liechtenstein:"Liechtenstein",Lithuania:"Lituania",Luxembourg:"Luxemburgo",Madagascar:"Madagascar",Malawi:"Malawi",Malaysia:"Malasia",Maldives:"Maldivas",Mali:"Mal\xED",Malta:"Malta","Marshall Islands":"Islas Marshall",Mauritania:"Mauritania",Mauritius:"Mauricio",Mexico:"M\xE9xico",Micronesia:"Micronesia",Moldova:"Moldavia",Monaco:"M\xF3naco",Mongolia:"Mongolia",Montenegro:"Montenegro",Morocco:"Marruecos",Mozambique:"Mozambique",Myanmar:"Birmania",Namibia:"Namibia",Nauru:"Nauru",Nepal:"Nepal",Netherlands:"Pa\xEDses Bajos","New Zealand":"Nueva Zelanda",Nicaragua:"Nicaragua",Niger:"N\xEDger",Nigeria:"Nigeria","North Korea":"Corea del Norte","North Macedonia":"Macedonia del Norte",Norway:"Noruega",Oman:"Om\xE1n",Pakistan:"Pakist\xE1n",Palau:"Palaos",Palestine:"Palestina",Panama:"Panam\xE1","Papua New Guinea":"Pap\xFAa Nueva Guinea",Paraguay:"Paraguay",Peru:"Per\xFA",Philippines:"Filipinas",Poland:"Polonia",Portugal:"Portugal",Qatar:"Catar",Romania:"Ruman\xEDa",Russia:"Rusia",Rwanda:"Ruanda","Saint Kitts and Nevis":"San Crist\xF3bal y Nieves","Sint Maarten":"Isla de San Martin(Frances)","Saint Martin":"Isla de San Martin (Holandes)","Saint Pierre and Miquelon":"San Pedro y Miquelon","Saint Vincent and the Grenadines":"San Vicente y las Granadinas",Samoa:"Samoa","San Marino":"San Marino","Saint Barth\xE9lemy":"San Bartolome","Sao Tome and Principe":"Santo Tom\xE9 y Pr\xEDncipe","Saudi Arabia":"Arabia Saudita",Senegal:"Senegal",Serbia:"Serbia",Seychelles:"Seychelles","Sierra Leone":"Sierra Leona",Singapore:"Singapur",Slovakia:"Eslovaquia",Slovenia:"Eslovenia","Solomon Islands":"Islas Salom\xF3n",Somalia:"Somalia","South Africa":"Sud\xE1frica","South Korea":"Corea del Sur","South Sudan":"Sud\xE1n del Sur",Spain:"Espa\xF1a","Sri Lanka":"Sri Lanka",Sudan:"Sud\xE1n",Suriname:"Surinam",Sweden:"Suecia",Switzerland:"Suiza",Syria:"Siria",Taiwan:"Taiw\xE1n",Tajikistan:"Tayikist\xE1n",Tanzania:"Tanzania",Thailand:"Tailandia",Togo:"Togo",Tonga:"Tonga","Trinidad and Tobago":"Trinidad y Tobago",Tunisia:"T\xFAnez",Turkey:"Turqu\xEDa",Turkmenistan:"Turkmenist\xE1n",Tuvalu:"Tuvalu",Uganda:"Uganda",Ukraine:"Ucrania","United Arab Emirates":"Emiratos \xC1rabes Unidos","United Kingdom":"Reino Unido","United States":"Estados Unidos","United States Virgin Islands":"Islas Virgenes de los Estados Unidos",Uruguay:"Uruguay",Uzbekistan:"Uzbekist\xE1n",Vanuatu:"Vanuatu","Vatican City":"Ciudad del Vaticano",Venezuela:"Venezuela",Vietnam:"Vietnam",Yemen:"Yemen",Zambia:"Zambia",Zimbabwe:"Zimbabue"};static \u0275fac=function(i){return new(i||a)(V(Q))};static \u0275prov=L({token:a,factory:a.\u0275fac,providedIn:"root"})};var Se=()=>["/bienvenida"];function _e(a,e){a&1&&(t(0,"div",29),o(1," Este campo es obligatorio. "),n())}function xe(a,e){a&1&&(t(0,"div",29),o(1," Este campo es obligatorio. "),n())}function Ee(a,e){a&1&&(t(0,"div",29),o(1," El DNI debe ser un n\xFAmero v\xE1lido de 8 d\xEDgitos. "),n())}function ye(a,e){a&1&&(t(0,"div",29),o(1," Este campo es obligatorio. "),n())}function Me(a,e){a&1&&(t(0,"div",29),o(1," Debe ser mayor de 18 y menor de 50 a\xF1os. "),n())}function Pe(a,e){a&1&&(t(0,"div",29),o(1," El n\xFAmero de licencia debe tener un minimo de 7 d\xEDgitos. "),n())}function Ae(a,e){a&1&&(t(0,"div",29),o(1," Debe ser un n\xFAmero v\xE1lido. "),n())}function Ie(a,e){if(a&1&&(t(0,"option",30),o(1),n()),a&2){let i=e.$implicit;c("value",i.codigo),s(),K(i.nombre)}}function Fe(a,e){a&1&&(t(0,"div",31),o(1," Debe seleccionar un pa\xEDs de origen. "),n())}function Ne(a,e){if(a&1){let i=q();t(0,"form",11),N("ngSubmit",function(){I(i);let d=b();return F(d.altaChofer())}),t(1,"div",12)(2,"label",13),o(3,"Nombre:"),n(),p(4,"input",14),u(5,_e,2,0,"div",10),n(),t(6,"div",12)(7,"label",15),o(8,"DNI:"),n(),p(9,"input",16),u(10,xe,2,0,"div",10)(11,Ee,2,0,"div",10),n(),t(12,"div",12)(13,"label",17),o(14,"Edad:"),n(),p(15,"input",18),u(16,ye,2,0,"div",10)(17,Me,2,0,"div",10),n(),t(18,"div",12)(19,"label",19),o(20,"N\xFAmero de Licencia:"),n(),p(21,"input",20),u(22,Pe,2,0,"div",10)(23,Ae,2,0,"div",10),n(),t(24,"div",12)(25,"label",21),o(26,"\xBFTiene Licencia Profesional:?"),n(),p(27,"input",22),n(),t(28,"div",12)(29,"label",23),o(30,"Pa\xEDs de origen:"),n(),t(31,"select",24),N("change",function(d){I(i);let f=b();return F(f.onPaisChange(d))}),t(32,"option",25),o(33,"Selecciona un pa\xEDs"),n(),u(34,Ie,2,2,"option",26),n(),u(35,Fe,2,0,"div",27),n(),t(36,"button",28),o(37,"Alta Chofer"),n()()}if(a&2){let i,r,d,f,h,C,w,v,l=b();c("formGroup",l.choferForm),s(5),c("ngIf",((i=l.choferForm.get("nombre"))==null?null:i.invalid)&&(((i=l.choferForm.get("nombre"))==null?null:i.touched)||l.submitted)),s(5),c("ngIf",((r=l.choferForm.get("dni"))==null?null:r.invalid)&&(((r=l.choferForm.get("dni"))==null?null:r.touched)||l.submitted)),s(),c("ngIf",(d=l.choferForm.get("dni"))==null?null:d.hasError("pattern")),s(5),c("ngIf",((f=l.choferForm.get("edad"))==null?null:f.invalid)&&(((f=l.choferForm.get("edad"))==null?null:f.touched)||l.submitted)),s(),c("ngIf",((h=l.choferForm.get("edad"))==null?null:h.hasError("min"))||((h=l.choferForm.get("edad"))==null?null:h.hasError("max"))),s(5),c("ngIf",((C=l.choferForm.get("nrolicencia"))==null?null:C.invalid)&&(((C=l.choferForm.get("nrolicencia"))==null?null:C.touched)||l.submitted)),s(),c("ngIf",(w=l.choferForm.get("nrolicencia"))==null?null:w.hasError("pattern")),s(11),c("ngForOf",l.paises),s(),c("ngIf",((v=l.choferForm.get("paisOrigen"))==null?null:v.invalid)&&((v=l.choferForm.get("paisOrigen"))==null?null:v.touched))}}function Oe(a,e){if(a&1&&(t(0,"div",32)(1,"h3"),o(2,"Pa\xEDs Seleccionado:"),n(),t(3,"p")(4,"strong"),o(5,"Nombre:"),n(),o(6),n(),t(7,"p")(8,"strong"),o(9,"Continente:"),n(),o(10),n(),p(11,"img",33),n()),a&2){let i=b();s(6),O(" ",i.paisSeleccionado.nombre,""),s(4),O(" ",i.paisSeleccionado.continente,""),s(),H("alt","Bandera de ",i.paisSeleccionado.banderaUrl,""),c("src",i.paisSeleccionado.banderaUrl,j)}}function Be(a,e){a&1&&(t(0,"div",34),p(1,"div",35),n())}function Te(a,e){a&1&&(t(0,"div",36)(1,"p"),o(2,"\u{1F60A}Chofer dado de alta satisfactoriamente. \xA1Carga terminada! \u{1F60A}"),n()())}function we(a,e){a&1&&(t(0,"p",29),o(1,"Por favor completa todos los campos obligatorios."),n())}var y=class a{constructor(e,i,r,d){this.paisService=e;this.fb=i;this.authService=r;this.firestore=d;this.choferForm=this.fb.group({nombre:["",[m.required,m.pattern("^[a-zA-Z ]+$")]],dni:["",[m.required,m.pattern("^[0-9]{8}$")]],edad:["",[m.required,m.min(18),m.max(50)]],nrolicencia:["",[m.required,m.minLength(7),m.pattern("^[0-9]+$")]],licencia:[!1],paisOrigen:["",m.required]})}paises=[];paisSeleccionado=null;choferForm;submitted=!1;isLoading=!1;completed=!1;ngOnInit(){this.paisService.obtenerPaisesPorContinente("Americas").subscribe(e=>{this.paises=e,console.log(this.paises)})}cargarPaises(){this.paisService.traerPaises().subscribe(e=>{this.paises=e,console.log(this.paises)})}seleccionarPais(e){this.paisSeleccionado=e,this.choferForm.patchValue({paisOrigen:e.codigo})}altaChofer(){return G(this,null,function*(){if(this.submitted=!0,this.choferForm.markAllAsTouched(),this.choferForm.invalid)return;let e=this.authService.getUser()?.uid;if(e){this.isLoading=!0;try{let i=ie(this.firestore,"choferes"),r=this.choferForm.value.licencia?"s\xED":"no";yield ee(i,D(k({},this.choferForm.value),{licencia:r,usuarioId:e,timestamp:new Date})),this.choferForm.reset(),this.submitted=!1,this.paisSeleccionado=null,this.completed=!0,setTimeout(()=>{this.isLoading=!1,this.completed=!0},1e3)}catch(i){this.isLoading=!1,console.error("Error al dar de alta chofer: ",i)}}else console.warn("No hay usuario logueado")})}onPaisChange(e){let i=e.target;if(i){let r=i.value,d=this.paises.find(f=>f.codigo===r);d&&(this.paisSeleccionado=d,this.choferForm.patchValue({paisOrigen:r}))}else console.error("El elemento select no se encontr\xF3")}static \u0275fac=function(i){return new(i||a)(g(E),g(ge),g(ae),g(X))};static \u0275cmp=z({type:a,selectors:[["app-alta-chofer"]],decls:14,vars:7,consts:[[1,"button",3,"routerLink"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"altas-choferes-container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","pais-seleccionado",4,"ngIf"],["class","spinner-overlay",4,"ngIf"],["class","confirmation-message",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["id","nombre","formControlName","nombre","required","",1,"form-control"],["for","dni"],["id","dni","type","number","formControlName","dni","required","",1,"form-control"],["for","edad"],["id","edad","type","number","formControlName","edad","required","",1,"form-control"],["for","nrolicencia"],["id","nrolicencia","formControlName","nrolicencia","required","",1,"form-control"],["for","licencia"],["id","licencia","type","checkbox","formControlName","licencia"],["for","paisOrigen"],["id","paisOrigen","formControlName","paisOrigen",1,"form-select",3,"change"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["type","submit",1,"submit-btn"],[1,"error-message"],[3,"value"],[1,"error"],[1,"pais-seleccionado"],["width","50",3,"src","alt"],[1,"spinner-overlay"],[1,"spinner"],[1,"confirmation-message"]],template:function(i,r){i&1&&(t(0,"div")(1,"a",0)(2,"div",1)(3,"span",2),R(),t(4,"svg",3),p(5,"path",4),n()()()()(),U(),t(6,"div",5)(7,"h2"),o(8,"Alta de Chofer"),n(),u(9,Ne,38,10,"form",6)(10,Oe,12,5,"div",7),n(),u(11,Be,2,0,"div",8)(12,Te,3,0,"div",9)(13,we,2,0,"p",10)),i&2&&(s(),c("routerLink",Z(6,Se)),s(8),c("ngIf",!r.completed),s(),c("ngIf",r.paisSeleccionado),s(),c("ngIf",r.isLoading),s(),c("ngIf",r.completed),s(),c("ngIf",r.submitted&&r.choferForm.invalid))},dependencies:[J,$,W,le,ue,pe,te,se,ne,de,oe,re,fe,ce,me],styles:[".button-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;top:30px;left:30px;background-color:#00000080;padding:10px;border-radius:50px;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease,box-shadow .3s ease}.button-box[_ngcontent-%COMP%]:hover{background-color:#000000b3;box-shadow:0 6px 12px #0003}.button-elem[_ngcontent-%COMP%]{display:block;width:24px;height:24px;margin:0 12px;transform:rotate(180deg);fill:#fff;transition:fill .3s ease,transform .3s ease}.button-elem[_ngcontent-%COMP%]:hover{fill:#00bcd4;transform:rotate(180deg) scale(1.1)}.altas-choferes-container[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;border-radius:8px;background-color:#f9f9f9;box-shadow:0 4px 10px #0000001a;font-family:Arial,sans-serif}h2[_ngcontent-%COMP%]{text-align:center;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#555}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.pais-seleccionado[_ngcontent-%COMP%]{margin-top:20px;padding:10px;border:1px solid #007bff;border-radius:4px;background-color:#e9f5ff}.pais-seleccionado[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#007bff}.pais-seleccionado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:5px;border-radius:4px}.error-message[_ngcontent-%COMP%]{font-size:12px;color:red;margin-top:5px}.confirmation-message[_ngcontent-%COMP%]{text-align:center;font-size:18px;color:#28a745;font-weight:700;margin-top:20px}.confirmation-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #ffffff;border-radius:50%;width:60px;height:60px;animation:spin 1s linear infinite}"]})};var ke=[{path:"alta-chofer",component:y}],M=class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=x({type:a});static \u0275inj=_({imports:[B.forChild(ke),B]})};var Ce=class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=x({type:a});static \u0275inj=_({imports:[Y,M,he,be]})};export{Ce as ChoferesModule};
