var hS=Object.defineProperty,fS=Object.defineProperties;var pS=Object.getOwnPropertyDescriptors;var G_=Object.getOwnPropertySymbols,gS=Object.getPrototypeOf,mS=Object.prototype.hasOwnProperty,yS=Object.prototype.propertyIsEnumerable,vS=Reflect.get;var W_=(t,e,n)=>e in t?hS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})mS.call(e,n)&&W_(t,n,e[n]);if(G_)for(var n of G_(e))yS.call(e,n)&&W_(t,n,e[n]);return t},re=(t,e)=>fS(t,pS(e));var er=(t,e,n)=>vS(gS(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(d){i(d)}},o=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function K_(t,e){return Object.is(t,e)}var Le=null,bc=!1,Cc=1,wn=Symbol("SIGNAL");function de(t){let e=Le;return Le=t,e}function Q_(){return Le}var Mo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sh(t){if(bc)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(t);let e=Le.nextProducerIndex++;if(Nc(Le),e<Le.producerNode.length&&Le.producerNode[e]!==t&&No(Le)){let n=Le.producerNode[e];Rc(n,Le.producerIndexOfThis[e])}Le.producerNode[e]!==t&&(Le.producerNode[e]=t,Le.producerIndexOfThis[e]=No(Le)?X_(t,Le,e):0),Le.producerLastReadVersion[e]=t.version}function _S(){Cc++}function Y_(t){if(!(No(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cc)){if(!t.producerMustRecompute(t)&&!Nh(t)){t.dirty=!1,t.lastCleanEpoch=Cc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Cc}}function J_(t){if(t.liveConsumerNode===void 0)return;let e=bc;bc=!0;try{for(let n of t.liveConsumerNode)n.dirty||IS(n)}finally{bc=e}}function Z_(){return Le?.consumerAllowSignalWrites!==!1}function IS(t){t.dirty=!0,J_(t),t.consumerMarkedDirty?.(t)}function Sc(t){return t&&(t.nextProducerIndex=0),de(t)}function Rh(t,e){if(de(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(No(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Rc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nh(t){Nc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Y_(n),r!==n.version))return!0}return!1}function Mh(t){if(Nc(t),No(t))for(let e=0;e<t.producerNode.length;e++)Rc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function X_(t,e,n){if(eI(t),t.liveConsumerNode.length===0&&tI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=X_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Rc(t,e){if(eI(t),t.liveConsumerNode.length===1&&tI(t))for(let r=0;r<t.producerNode.length;r++)Rc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Nc(i),i.producerIndexOfThis[r]=e}}function No(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Nc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function eI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tI(t){return t.producerNode!==void 0}function nI(t){let e=Object.create(wS);e.computation=t;let n=()=>{if(Y_(e),Sh(e),e.value===Ac)throw e.error;return e.value};return n[wn]=e,n}var Ch=Symbol("UNSET"),Ah=Symbol("COMPUTING"),Ac=Symbol("ERRORED"),wS=re(k({},Mo),{value:Ch,dirty:!0,error:null,equal:K_,producerMustRecompute(t){return t.value===Ch||t.value===Ah},producerRecomputeValue(t){if(t.value===Ah)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ah;let n=Sc(t),r;try{r=t.computation()}catch(i){r=Ac,t.error=i}finally{Rh(t,n)}if(e!==Ch&&e!==Ac&&r!==Ac&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function ES(){throw new Error}var rI=ES;function iI(){rI()}function sI(t){rI=t}var DS=null;function oI(t){let e=Object.create(cI);e.value=t;let n=()=>(Sh(e),e.value);return n[wn]=e,n}function xh(t,e){Z_()||iI(),t.equal(t.value,e)||(t.value=e,TS(t))}function aI(t,e){Z_()||iI(),xh(t,e(t.value))}var cI=re(k({},Mo),{equal:K_,value:void 0});function TS(t){t.version++,_S(),J_(t),DS?.()}function Q(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Mc=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(s){e=s instanceof Mc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{uI(s)}catch(o){e=e??[],o instanceof Mc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Mc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)uI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hr(n,e)}remove(e){let{_finalizers:n}=this;n&&Hr(n,e),e instanceof t&&e._removeParent(this)}};be.EMPTY=(()=>{let t=new be;return t.closed=!0,t})();var Ph=be.EMPTY;function xc(t){return t instanceof be||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function uI(t){Q(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(t,e,...n){let{delegate:r}=Fi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Pc(t){Fi.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function xo(){}var lI=Oh("C",void 0,void 0);function dI(t){return Oh("E",void 0,t)}function hI(t){return Oh("N",t,void 0)}function Oh(t,e,n){return{kind:t,value:e,error:n}}var zr=null;function Li(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!zr;if(e&&(zr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zr;if(zr=null,n)throw r}}else t()}function fI(t){Ft.useDeprecatedSynchronousErrorHandling&&zr&&(zr.errorThrown=!0,zr.error=t)}var qr=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xc(e)&&e.add(this)):this.destination=AS}static create(e,n,r){return new Vi(e,n,r)}next(e){this.isStopped?Fh(hI(e),this):this._next(e)}error(e){this.isStopped?Fh(dI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fh(lI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bS=Function.prototype.bind;function kh(t,e){return bS.call(t,e)}var Lh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Oc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Oc(r)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Oc(n)}}},Vi=class extends qr{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kh(e.next,s),error:e.error&&kh(e.error,s),complete:e.complete&&kh(e.complete,s)}):i=e}this.destination=new Lh(i)}};function Oc(t){Ft.useDeprecatedSynchronousErrorHandling?fI(t):Pc(t)}function CS(t){throw t}function Fh(t,e){let{onStoppedNotification:n}=Ft;n&&Fi.setTimeout(()=>n(t,e))}var AS={closed:!0,next:xo,error:CS,complete:xo};var Ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(t){return t}function Vh(...t){return Uh(t)}function Uh(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=RS(n)?n:new Vi(n,r,i);return Li(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=pI(r),new r((i,s)=>{let o=new Vi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ui](){return this}pipe(...n){return Uh(n)(this)}toPromise(n){return n=pI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function pI(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function SS(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function RS(t){return t&&t instanceof qr||SS(t)&&xc(t)}function jh(t){return Q(t?.lift)}function ue(t){return e=>{if(jh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new Bh(t,e,n,r,i)}var Bh=class extends qr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ji(){return ue((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Bi=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return ji()(this)}};var gI=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new kc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gI}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ph:(this.currentObservers=null,s.push(n),new be(()=>{this.currentObservers=null,Hr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new kc(e,n),t})(),kc=class extends Ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ph}};var qe=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $h={now(){return($h.delegate||Date).now()},delegate:void 0};var Fc=class extends be{constructor(e,n){super()}schedule(e,n=0){return this}};var Po={setInterval(t,e,...n){let{delegate:r}=Po;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Po;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var $i=class extends Fc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Po.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Po.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Hi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Hi.now=$h.now;var zi=class extends Hi{constructor(e,n=Hi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Hh=new zi($i);var Lc=class extends $i{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Vc=class extends zi{};var zh=new Vc(Lc);var vt=new ie(t=>t.complete());function mI(t){return t&&Q(t.schedule)}function yI(t){return t[t.length-1]}function Uc(t){return Q(yI(t))?t.pop():void 0}function tr(t){return mI(yI(t))?t.pop():void 0}function qh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _I(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function vI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gr(t){return this instanceof Gr?(this.v=t,this):new Gr(t)}function II(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function c(I,A){r[I]&&(i[I]=function(N){return new Promise(function(R,F){s.push([I,N,R,F])>1||u(I,N)})},A&&(i[I]=A(i[I])))}function u(I,A){try{d(r[I](A))}catch(N){_(s[0][3],N)}}function d(I){I.value instanceof Gr?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function wI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vI=="function"?vI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var jc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Bc(t){return Q(t?.then)}function $c(t){return Q(t[Ui])}function Hc(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function zc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qc=NS();function Gc(t){return Q(t?.[qc])}function Wc(t){return II(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Gr(n.read());if(i)return yield Gr(void 0);yield yield Gr(r)}}finally{n.releaseLock()}})}function Kc(t){return Q(t?.getReader)}function Ne(t){if(t instanceof ie)return t;if(t!=null){if($c(t))return MS(t);if(jc(t))return xS(t);if(Bc(t))return PS(t);if(Hc(t))return EI(t);if(Gc(t))return OS(t);if(Kc(t))return kS(t)}throw zc(t)}function MS(t){return new ie(e=>{let n=t[Ui]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xS(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function PS(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Pc)})}function OS(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function EI(t){return new ie(e=>{FS(t,e).catch(n=>e.error(n))})}function kS(t){return EI(Wc(t))}function FS(t,e){var n,r,i,s;return _I(this,void 0,void 0,function*(){try{for(n=wI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ft(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function nr(t,e=0){return ue((n,r)=>{n.subscribe(se(r,i=>ft(r,t,()=>r.next(i),e),()=>ft(r,t,()=>r.complete(),e),i=>ft(r,t,()=>r.error(i),e)))})}function rr(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function DI(t,e){return Ne(t).pipe(rr(e),nr(e))}function TI(t,e){return Ne(t).pipe(rr(e),nr(e))}function bI(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function CI(t,e){return new ie(n=>{let r;return ft(n,e,()=>{r=t[qc](),ft(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function Qc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{ft(n,e,()=>{let r=t[Symbol.asyncIterator]();ft(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function AI(t,e){return Qc(Wc(t),e)}function SI(t,e){if(t!=null){if($c(t))return DI(t,e);if(jc(t))return bI(t,e);if(Bc(t))return TI(t,e);if(Hc(t))return Qc(t,e);if(Gc(t))return CI(t,e);if(Kc(t))return AI(t,e)}throw zc(t)}function Ee(t,e){return e?SI(t,e):Ne(t)}function z(...t){let e=tr(t);return Ee(t,e)}function qi(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Gh(t){return!!t&&(t instanceof ie||Q(t.lift)&&Q(t.subscribe))}var En=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:LS}=Array;function VS(t,e){return LS(e)?t(...e):t(e)}function Yc(t){return Y(e=>VS(t,e))}var{isArray:US}=Array,{getPrototypeOf:jS,prototype:BS,keys:$S}=Object;function Jc(t){if(t.length===1){let e=t[0];if(US(e))return{args:e,keys:null};if(HS(e)){let n=$S(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function HS(t){return t&&typeof t=="object"&&jS(t)===BS}function Zc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Oo(...t){let e=tr(t),n=Uc(t),{args:r,keys:i}=Jc(t);if(r.length===0)return Ee([],e);let s=new ie(zS(r,e,i?o=>Zc(i,o):yt));return n?s.pipe(Yc(n)):s}function zS(t,e,n=yt){return r=>{RI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)RI(e,()=>{let d=Ee(t[u],e),f=!1;d.subscribe(se(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function RI(t,e,n){t?ft(n,t,e):e()}function NI(t,e,n,r,i,s,o,c){let u=[],d=0,f=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},I=N=>d<r?A(N):u.push(N),A=N=>{s&&e.next(N),d++;let R=!1;Ne(n(N,f++)).subscribe(se(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(d--;u.length&&d<r;){let F=u.shift();o?ft(e,o,()=>A(F)):A(F)}_()}catch(F){e.error(F)}}))};return t.subscribe(se(e,I,()=>{g=!0,_()})),()=>{c?.()}}function Me(t,e,n=1/0){return Q(e)?Me((r,i)=>Y((s,o)=>e(r,s,i,o))(Ne(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>NI(r,i,t,n)))}function Gi(t=1/0){return Me(yt,t)}function MI(){return Gi(1)}function Wi(...t){return MI()(Ee(t,tr(t)))}function Xc(t){return new ie(e=>{Ne(t()).subscribe(e)})}function Wh(...t){let e=Uc(t),{args:n,keys:r}=Jc(t),i=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,d=o;for(let f=0;f<o;f++){let g=!1;Ne(n[f]).subscribe(se(s,_=>{g||(g=!0,d--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?Zc(r,c):c),s.complete())}))}});return e?i.pipe(Yc(e)):i}function pt(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Dn(t){return ue((e,n)=>{let r=null,i=!1,s;r=e.subscribe(se(n,void 0,void 0,o=>{s=Ne(t(o,Dn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function xI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,d=0;s.subscribe(se(o,f=>{let g=d++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Tn(t,e){return Q(e)?Me(t,e,1):Me(t,1)}function ir(t){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bn(t){return t<=0?()=>vt:ue((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Kh(t){return Y(()=>t)}function eu(t=qS){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qS(){return new En}function Wr(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):yt,bn(1),n?ir(e):eu(()=>new En))}function Ki(t){return t<=0?()=>vt:ue((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):yt,Ki(1),n?ir(e):eu(()=>new En))}function Yh(t,e){return ue(xI(t,e,arguments.length>=2,!0))}function Jh(...t){let e=tr(t);return ue((n,r)=>{(e?Wi(t,n,e):Wi(t,n)).subscribe(r)})}function gt(t,e){return ue((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let d=0,f=s++;Ne(t(u,f)).subscribe(i=se(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Zh(t){return ue((e,n)=>{Ne(t).subscribe(se(n,()=>n.complete(),xo)),!n.closed&&e.subscribe(n)})}function xe(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(se(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):yt}var vw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(ku(e,n)),this.code=e}};function ku(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ho(t){return{toString:t}.toString()}var tu="__parameters__";function GS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function _w(t,e,n){return Ho(()=>{let r=GS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let g=u.hasOwnProperty(tu)?u[tu]:Object.defineProperty(u,tu,{value:[]})[tu];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ff=globalThis;function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function WS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function PI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KS=ye({__forward_ref__:ye});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return at(this())},t}function ot(t){return Iw(t)?t():t}function Iw(t){return typeof t=="function"&&t.hasOwnProperty(KS)&&t.__forward_ref__===_t}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fu(t){return OI(t,Ew)||OI(t,Dw)}function ww(t){return Fu(t)!==null}function OI(t,e){return t.hasOwnProperty(e)?t[e]:null}function QS(t){let e=t&&(t[Ew]||t[Dw]);return e||null}function kI(t){return t&&(t.hasOwnProperty(FI)||t.hasOwnProperty(YS))?t[FI]:null}var Ew=ye({\u0275prov:ye}),FI=ye({\u0275inj:ye}),Dw=ye({ngInjectableDef:ye}),YS=ye({ngInjectorDef:ye}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Tw(t){return t&&!!t.\u0275providers}var JS=ye({\u0275cmp:ye}),ZS=ye({\u0275dir:ye}),XS=ye({\u0275pipe:ye}),eR=ye({\u0275mod:ye}),du=ye({\u0275fac:ye}),Fo=ye({__NG_ELEMENT_ID__:ye}),LI=ye({__NG_ENV_ID__:ye});function Lu(t){return typeof t=="string"?t:t==null?"":String(t)}function tR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Lu(t)}function nR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function rp(t,e){throw new j(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),pf;function bw(){return pf}function bt(t){let e=pf;return pf=t,e}function Cw(t,e,n){let r=Fu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&X.Optional)return null;if(e!==void 0)return e;rp(t,"Injector")}var rR={},Lo=rR,gf="__NG_DI_FLAG__",hu="ngTempTokenPath",iR="ngTokenPath",sR=/\n/gm,oR="\u0275",VI="__source",Xi;function aR(){return Xi}function sr(t){let e=Xi;return Xi=t,e}function cR(t,e=X.Default){if(Xi===void 0)throw new j(-203,!1);return Xi===null?Cw(t,void 0,e):Xi.get(t,e&X.Optional?null:void 0,e)}function B(t,e=X.Default){return(bw()||cR)(ot(t),e)}function M(t,e=X.Default){return B(t,Vu(e))}function Vu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mf(t){let e=[];for(let n=0;n<t.length;n++){let r=ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){let c=r[o],u=uR(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(B(i,s))}else e.push(B(r))}return e}function Aw(t,e){return t[gf]=e,t.prototype[gf]=e,t}function uR(t){return t[gf]}function lR(t,e,n,r){let i=t[hu];throw e[VI]&&i.unshift(e[VI]),t.message=dR(`
`+t.message,i,n,r),t[iR]=i,t[hu]=null,t}function dR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==oR?t.slice(2):t;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):at(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sR,`
  `)}`}var Je=Aw(_w("Optional"),8);var ip=Aw(_w("SkipSelf"),4);function ts(t,e){let n=t.hasOwnProperty(du);return n?t[du]:null}function sp(t,e){t.forEach(n=>Array.isArray(n)?sp(n,e):e(n))}function Sw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function fR(t,e,n){let r=zo(t,e);return r>=0?t[r|1]=n:(r=~r,hR(t,r,e,n)),r}function Xh(t,e){let n=zo(t,e);if(n>=0)return t[n|1]}function zo(t,e){return pR(t,e,1)}function pR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ns={},Ct=[],rs=new L(""),Rw=new L("",-1),Nw=new L(""),pu=class{get(e,n=Lo){if(n===Lo){let r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return n}},Mw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mw||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{}),cr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(cr||{});function gR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function yf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];mR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function xw(t){return t===3||t===4||t===6}function mR(t){return t.charCodeAt(0)===64}function Vo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?UI(t,n,i,null,e[++r]):UI(t,n,i,null,null))}}return t}function UI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Pw="ng-template";function yR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(op(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function op(t){return t.type===4&&t.value!==Pw}function vR(t,e,n){let r=t.type===4&&!n?Pw:t.value;return e===r}function _R(t,e,n){let r=4,i=t.attrs,s=i!==null?ER(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Lt(r)&&!Lt(u))return!1;if(o&&Lt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!vR(t,u,n)||u===""&&e.length===1){if(Lt(r))return!1;o=!0}}else if(r&8){if(i===null||!yR(t,i,u,n)){if(Lt(r))return!1;o=!0}}else{let d=e[++c],f=IR(u,i,op(t),n);if(f===-1){if(Lt(r))return!1;o=!0;continue}if(d!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Lt(r))return!1;o=!0}}}}return Lt(r)||o}function Lt(t){return(t&1)===0}function IR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return DR(e,t)}function wR(t,e,n=!1){for(let r=0;r<e.length;r++)if(_R(t,e[r],n))return!0;return!1}function ER(t){for(let e=0;e<t.length;e++){let n=t[e];if(xw(n))return e}return t.length}function DR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function jI(t,e){return t?":not("+e.trim()+")":e}function TR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Lt(o)&&(e+=jI(s,i),i=""),r=o,s=s||!Lt(r);n++}return i!==""&&(e+=jI(s,i)),e}function bR(t){return t.map(TR).join(",")}function CR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Lt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ow(t){return Ho(()=>{let e=Uw(t),n=re(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||Ct,_:null,schemas:t.schemas||null,tView:null,id:""});jw(n);let r=t.dependencies;return n.directiveDefs=$I(r,!1),n.pipeDefs=$I(r,!0),n.id=RR(n),n})}function AR(t){return ur(t)||kw(t)}function SR(t){return t!==null}function nn(t){return Ho(()=>({type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function BI(t,e){if(t==null)return ns;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=cr.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==cr.None?[r,c]:r,e[s]=o):n[s]=r}return n}function De(t){return Ho(()=>{let e=Uw(t);return jw(e),e})}function ur(t){return t[JS]||null}function kw(t){return t[ZS]||null}function Fw(t){return t[XS]||null}function Lw(t){let e=ur(t)||kw(t)||Fw(t);return e!==null?e.standalone:!1}function Vw(t,e){let n=t[eR]||null;if(!n&&e===!0)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return n}function Uw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ns,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BI(t.inputs,e),outputs:BI(t.outputs),debugInfo:null}}function jw(t){t.features?.forEach(e=>e(t))}function $I(t,e){if(!t)return null;let n=e?Fw:AR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SR)}function RR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Rt(t){return{\u0275providers:t}}function NR(...t){return{\u0275providers:Bw(!0,t),\u0275fromNgModule:!0}}function Bw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return sp(e,o=>{let c=o;vf(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&$w(i,s),n}function $w(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ap(i,s=>{e(s,r)})}}function vf(t,e,n,r){if(t=ot(t),!t)return!1;let i=null,s=kI(t),o=!s&&ur(t);if(!s&&!o){let u=t.ngModule;if(s=kI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)vf(d,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{sp(s.imports,f=>{vf(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&$w(d,e)}if(!c){let d=ts(i)||(()=>new i);e({provide:i,useFactory:d,deps:Ct},i),e({provide:Nw,useValue:i,multi:!0},i),e({provide:rs,useValue:()=>B(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=t;ap(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function ap(t,e){for(let n of t)Tw(n)&&(n=n.\u0275providers),Array.isArray(n)?ap(n,e):e(n)}var MR=ye({provide:String,useValue:ye});function Hw(t){return t!==null&&typeof t=="object"&&MR in t}function xR(t){return!!(t&&t.useExisting)}function PR(t){return!!(t&&t.useFactory)}function is(t){return typeof t=="function"}function OR(t){return!!t.useClass}var Uu=new L(""),ou={},kR={},ef;function cp(){return ef===void 0&&(ef=new pu),ef}var ct=class{},Uo=class extends ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,If(e,o=>this.processProvider(o)),this.records.set(Rw,Qi(void 0,this)),i.has("environment")&&this.records.set(ct,Qi(void 0,this));let s=this.records.get(Uu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Nw,Ct,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=sr(this),r=bt(void 0),i;try{return e()}finally{sr(n),bt(r)}}get(e,n=Lo,r=X.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(LI))return e[LI](this);r=Vu(r);let i,s=sr(this),o=bt(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=jR(e)&&Fu(e);d&&this.injectableDefInScope(d)?u=Qi(_f(e),ou):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&X.Self?cp():this.parent;return n=r&X.Optional&&n===Lo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[hu]=c[hu]||[]).unshift(at(e)),s)throw c;return lR(c,e,"R3InjectorError",this.source)}else throw c}finally{bt(o),sr(s)}}resolveInjectorInitializers(){let e=de(null),n=sr(this),r=bt(void 0),i;try{let s=this.get(rs,Ct,X.Self);for(let o of s)o()}finally{sr(n),bt(r),de(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=ot(e);let n=is(e)?e:ot(e&&e.provide),r=LR(e);if(!is(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,ou,!0),i.factory=()=>mf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=de(null);try{return n.value===ou&&(n.value=kR,n.value=n.factory()),typeof n.value=="object"&&n.value&&UR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _f(t){let e=Fu(t),n=e!==null?e.factory:ts(t);if(n!==null)return n;if(t instanceof L)throw new j(204,!1);if(t instanceof Function)return FR(t);throw new j(204,!1)}function FR(t){if(t.length>0)throw new j(204,!1);let n=QS(t);return n!==null?()=>n.factory(t):()=>new t}function LR(t){if(Hw(t))return Qi(void 0,t.useValue);{let e=zw(t);return Qi(e,ou)}}function zw(t,e,n){let r;if(is(t)){let i=ot(t);return ts(i)||_f(i)}else if(Hw(t))r=()=>ot(t.useValue);else if(PR(t))r=()=>t.useFactory(...mf(t.deps||[]));else if(xR(t))r=()=>B(ot(t.useExisting));else{let i=ot(t&&(t.useClass||t.provide));if(VR(t))r=()=>new i(...mf(t.deps));else return ts(i)||_f(i)}return r}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VR(t){return!!t.deps}function UR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jR(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function If(t,e){for(let n of t)Array.isArray(n)?If(n,e):n&&Tw(n)?If(n.\u0275providers,e):e(n)}function Nt(t,e){t instanceof Uo&&t.assertNotDestroyed();let n,r=sr(t),i=bt(void 0);try{return e()}finally{sr(r),bt(i)}}function qw(){return bw()!==void 0||aR()!=null}function BR(t){if(!qw())throw new j(-203,!1)}function $R(t){return typeof t=="function"}var Rn=0,oe=1,K=2,ut=3,Vt=4,jt=5,gu=6,mu=7,Ut=8,ss=9,Jt=10,Ae=11,jo=12,HI=13,gs=14,Zt=15,os=16,Yi=17,as=18,ju=19,Gw=20,or=21,tf=22,At=23,Xt=25,Ww=1;var Qr=7,yu=8,vu=9,St=10,_u=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(_u||{});function ar(t){return Array.isArray(t)&&typeof t[Ww]=="object"}function Nn(t){return Array.isArray(t)&&t[Ww]===!0}function up(t){return(t.flags&4)!==0}function Bu(t){return t.componentOffset>-1}function $u(t){return(t.flags&1)===1}function lr(t){return!!t.template}function wf(t){return(t[K]&512)!==0}var Ef=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Kw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function rn(){return Qw}function Qw(t){return t.type.prototype.ngOnChanges&&(t.setInput=zR),HR}rn.ngInherit=!0;function HR(){let t=Jw(this),e=t?.current;if(e){let n=t.previous;if(n===ns)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zR(t,e,n,r,i){let s=this.declaredInputs[r],o=Jw(t)||qR(t,{previous:ns,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new Ef(d&&d.currentValue,n,u===ns),Kw(t,e,i,n)}var Yw="__ngSimpleChanges__";function Jw(t){return t[Yw]||null}function qR(t,e){return t[Yw]=e}var zI=null;var Kt=function(t,e,n){zI?.(t,e,n)},Zw="svg",GR="math";function en(t){for(;Array.isArray(t);)t=t[Rn];return t}function Xw(t,e){return en(e[t])}function Mt(t,e){return en(e[t.index])}function eE(t,e){return t.data[e]}function WR(t,e){return t[e]}function fr(t,e){let n=e[t];return ar(n)?n:n[Rn]}function lp(t){return(t[K]&128)===128}function KR(t){return Nn(t[ut])}function cs(t,e){return e==null?null:t[e]}function tE(t){t[Yi]=0}function nE(t){t[K]&1024||(t[K]|=1024,lp(t)&&zu(t))}function QR(t,e){for(;t>0;)e=e[gs],t--;return e}function Hu(t){return!!(t[K]&9216||t[At]?.dirty)}function Df(t){t[Jt].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),Hu(t)&&zu(t)}function zu(t){t[Jt].changeDetectionScheduler?.notify(0);let e=Yr(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!lp(e)));)e=Yr(e)}function rE(t,e){if((t[K]&256)===256)throw new j(911,!1);t[or]===null&&(t[or]=[]),t[or].push(e)}function YR(t,e){if(t[or]===null)return;let n=t[or].indexOf(e);n!==-1&&t[or].splice(n,1)}function Yr(t){let e=t[ut];return Nn(e)?e[ut]:e}var Z={lFrame:hE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var iE=!1;function JR(){return Z.lFrame.elementDepthCount}function ZR(){Z.lFrame.elementDepthCount++}function XR(){Z.lFrame.elementDepthCount--}function sE(){return Z.bindingsEnabled}function eN(){return Z.skipHydrationRootTNode!==null}function tN(t){return Z.skipHydrationRootTNode===t}function nN(){Z.skipHydrationRootTNode=null}function ge(){return Z.lFrame.lView}function Ze(){return Z.lFrame.tView}function Y4(t){return Z.lFrame.contextLView=t,t[Ut]}function J4(t){return Z.lFrame.contextLView=null,t}function Xe(){let t=oE();for(;t!==null&&t.type===64;)t=t.parent;return t}function oE(){return Z.lFrame.currentTNode}function rN(){let t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ti(t,e){let n=Z.lFrame;n.currentTNode=t,n.isParent=e}function dp(){return Z.lFrame.isParent}function aE(){Z.lFrame.isParent=!1}function iN(){return Z.lFrame.contextLView}function cE(){return iE}function qI(t){iE=t}function sN(){let t=Z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oN(t){return Z.lFrame.bindingIndex=t}function qu(){return Z.lFrame.bindingIndex++}function aN(t){let e=Z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cN(){return Z.lFrame.inI18n}function uN(t,e){let n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tf(e)}function lN(){return Z.lFrame.currentDirectiveIndex}function Tf(t){Z.lFrame.currentDirectiveIndex=t}function dN(t){let e=Z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function uE(t){Z.lFrame.currentQueryIndex=t}function hN(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[jt]:null}function lE(t,e,n){if(n&X.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&X.Host);)if(i=hN(s),i===null||(s=s[gs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Z.lFrame=dE();return r.currentTNode=e,r.lView=t,!0}function hp(t){let e=dE(),n=t[oe];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dE(){let t=Z.lFrame,e=t===null?null:t.child;return e===null?hE(t):e}function hE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fE(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pE=fE;function fp(){let t=fE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fN(t){return(Z.lFrame.contextLView=QR(t,Z.lFrame.contextLView))[Ut]}function ms(){return Z.lFrame.selectedIndex}function Jr(t){Z.lFrame.selectedIndex=t}function Gu(){let t=Z.lFrame;return eE(t.tView,t.selectedIndex)}function Z4(){Z.lFrame.currentNamespace=Zw}function X4(){pN()}function pN(){Z.lFrame.currentNamespace=null}function gN(){return Z.lFrame.currentNamespace}var gE=!0;function Wu(){return gE}function Ku(t){gE=t}function mN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Qw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Qu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function au(t,e,n){mE(t,e,3,n)}function cu(t,e,n,r){(t[K]&3)===n&&mE(t,e,n,r)}function nf(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function mE(t,e,n,r){let i=r!==void 0?t[Yi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Yi]+=65536),(c<s||s==-1)&&(yN(t,n,e,u),t[Yi]=(t[Yi]&4294901760)+u+2),u++}function GI(t,e){Kt(4,t,e);let n=de(null);try{e.call(t)}finally{de(n),Kt(5,t,e)}}function yN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[K]>>14<t[Yi]>>16&&(t[K]&3)===e&&(t[K]+=16384,GI(c,s)):GI(c,s)}var es=-1,Zr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function vN(t){return t instanceof Zr}function _N(t){return(t.flags&8)!==0}function IN(t){return(t.flags&16)!==0}var rf={},bf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vu(r);let i=this.injector.get(e,rf,r);return i!==rf||n===rf?i:this.parentInjector.get(e,n,r)}};function yE(t){return t!==es}function Iu(t){return t&32767}function wN(t){return t>>16}function wu(t,e){let n=wN(t),r=e;for(;n>0;)r=r[gs],n--;return r}var Cf=!0;function WI(t){let e=Cf;return Cf=t,e}var EN=256,vE=EN-1,_E=5,DN=0,Qt={};function TN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fo)&&(r=n[Fo]),r==null&&(r=n[Fo]=DN++);let i=r&vE,s=1<<i;e.data[t+(i>>_E)]|=s}function Eu(t,e){let n=IE(t,e);if(n!==-1)return n;let r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,sf(r.data,t),sf(e,null),sf(r.blueprint,null));let i=pp(t,e),s=t.injectorIndex;if(yE(i)){let o=Iu(i),c=wu(i,e),u=c[oe].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function sf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function IE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function pp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bE(i),r===null)return es;if(n++,i=i[gs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return es}function Af(t,e,n){TN(t,e,n)}function bN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(xw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function wE(t,e,n){if(n&X.Optional||t!==void 0)return t;rp(e,"NodeInjector")}function EE(t,e,n,r){if(n&X.Optional&&r===void 0&&(r=null),!(n&(X.Self|X.Host))){let i=t[ss],s=bt(void 0);try{return i?i.get(e,r,n&X.Optional):Cw(e,r,n&X.Optional)}finally{bt(s)}}return wE(r,e,n)}function DE(t,e,n,r=X.Default,i){if(t!==null){if(e[K]&2048&&!(r&X.Self)){let o=NN(t,e,n,r,Qt);if(o!==Qt)return o}let s=TE(t,e,n,r,Qt);if(s!==Qt)return s}return EE(e,n,r,i)}function TE(t,e,n,r,i){let s=SN(n);if(typeof s=="function"){if(!lE(e,t,r))return r&X.Host?wE(i,n,r):EE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&X.Optional))rp(n);else return o}finally{pE()}}else if(typeof s=="number"){let o=null,c=IE(t,e),u=es,d=r&X.Host?e[Zt][jt]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?pp(t,e):e[c+8],u===es||!QI(r,!1)?c=-1:(o=e[oe],c=Iu(u),e=wu(u,e)));c!==-1;){let f=e[oe];if(KI(s,c,f.data)){let g=CN(c,e,n,o,r,d);if(g!==Qt)return g}u=e[c+8],u!==es&&QI(r,e[oe].data[c+8]===d)&&KI(s,c,e)?(o=f,c=Iu(u),e=wu(u,e)):c=-1}}return i}function CN(t,e,n,r,i,s){let o=e[oe],c=o.data[t+8],u=r==null?Bu(c)&&Cf:r!=o&&(c.type&3)!==0,d=i&X.Host&&s===c,f=AN(c,o,n,u,d);return f!==null?us(e,o,f,c):Qt}function AN(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,d=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:d;for(let I=g;I<_;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&lr(I)&&I.type===n)return u}return null}function us(t,e,n,r){let i=t[n],s=e.data;if(vN(i)){let o=i;o.resolving&&nR(tR(s[n]));let c=WI(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?bt(o.injectImpl):null,f=lE(t,r,X.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&mN(n,s[n],e)}finally{d!==null&&bt(d),WI(c),o.resolving=!1,pE()}}return i}function SN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fo)?t[Fo]:void 0;return typeof e=="number"?e>=0?e&vE:RN:e}function KI(t,e,n){let r=1<<t;return!!(n[e+(t>>_E)]&r)}function QI(t,e){return!(t&X.Self)&&!(t&X.Host&&e)}var Kr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DE(this._tNode,this._lView,e,Vu(r),n)}};function RN(){return new Kr(Xe(),ge())}function sn(t){return Ho(()=>{let e=t.prototype.constructor,n=e[du]||Sf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[du]||Sf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Sf(t){return Iw(t)?()=>{let e=Sf(ot(t));return e&&e()}:ts(t)}function NN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[K]&2048&&!(o[K]&512);){let c=TE(s,o,n,r|X.Self,Qt);if(c!==Qt)return c;let u=s.parent;if(!u){let d=o[Gw];if(d){let f=d.get(n,Qt,r);if(f!==Qt)return f}u=bE(o),o=o[gs]}s=u}return i}function bE(t){let e=t[oe],n=e.type;return n===2?e.declTNode:n===1?t[jt]:null}function gp(t){return bN(Xe(),t)}function YI(t,e=null,n=null,r){let i=CE(t,e,n,r);return i.resolveInjectorInitializers(),i}function CE(t,e=null,n=null,r,i=new Set){let s=[n||Ct,NR(t)];return r=r||(typeof t=="object"?void 0:at(t)),new Uo(s,e||cp(),r||null,i)}var Ge=class t{static{this.THROW_IF_NOT_FOUND=Lo}static{this.NULL=new pu}static create(e,n){if(Array.isArray(e))return YI({name:""},n,e,"");{let r=e.name??"";return YI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=V({token:t,providedIn:"any",factory:()=>B(Rw)})}static{this.__NG_ELEMENT_ID__=-1}};var MN=new L("");MN.__NG_ELEMENT_ID__=t=>{let e=Xe();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&X.Optional)return null;throw new j(204,!1)};var xN="ngOriginalError";function of(t){return t[xN]}var AE=!0,mp=(()=>{class t{static{this.__NG_ELEMENT_ID__=PN}static{this.__NG_ENV_ID__=n=>n}}return t})(),Rf=class extends mp{constructor(e){super(),this._lView=e}onDestroy(e){return rE(this._lView,e),()=>YR(this._lView,e)}};function PN(){return new Rf(ge())}var pr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Nf=class extends Ue{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,qw()&&(this.destroyRef=M(mp,{optional:!0})??void 0,this.pendingTasks=M(pr,{optional:!0})??void 0)}emit(e){let n=de(null);try{super.next(e)}finally{de(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof be&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ce=Nf;function Du(...t){}function SE(t){let e,n;function r(){t=Du;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function JI(t){return queueMicrotask(()=>t()),()=>{t=Du}}var yp="isAngularZone",Tu=yp+"_ID",ON=0,fe=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ce(!1),this.onMicrotaskEmpty=new Ce(!1),this.onStable=new Ce(!1),this.onError=new Ce(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=AE}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,LN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,kN,Du,Du);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},kN={};function vp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function FN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){SE(()=>{t.callbackScheduled=!1,Mf(t),t.isCheckStableRunning=!0,vp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Mf(t)}function LN(t){let e=()=>{FN(t)},n=ON++;t._inner=t._inner.fork({name:"angular",properties:{[yp]:!0,[Tu]:n,[Tu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(VN(u))return r.invokeTask(s,o,c,u);try{return ZI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),XI(t)}},onInvoke:(r,i,s,o,c,u,d)=>{try{return ZI(t),r.invoke(s,o,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!UN(u)&&e(),XI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Mf(t),vp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Mf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ZI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XI(t){t._nesting--,vp(t)}var xf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ce,this.onMicrotaskEmpty=new Ce,this.onStable=new Ce,this.onError=new Ce}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function VN(t){return RE(t,"__ignore_ng_zone__")}function UN(t){return RE(t,"__scheduler_tick__")}function RE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&of(e);for(;n&&of(n);)n=of(n);return n||null}},jN=new L("",{providedIn:"root",factory:()=>{let t=M(fe),e=M(Cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function BN(){return Yu(Xe(),ge())}function Yu(t,e){return new on(Mt(t,e))}var on=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=BN}}return t})();function NE(t){return(t.flags&128)===128}var ME=new Map,$N=0;function HN(){return $N++}function zN(t){ME.set(t[ju],t)}function Pf(t){ME.delete(t[ju])}var ew="__ngContext__";function dr(t,e){ar(e)?(t[ew]=e[ju],zN(e)):t[ew]=e}function xE(t){return OE(t[jo])}function PE(t){return OE(t[Vt])}function OE(t){for(;t!==null&&!Nn(t);)t=t[Vt];return t}var Of;function kE(t){Of=t}function qN(){if(Of!==void 0)return Of;if(typeof document<"u")return document;throw new j(210,!1)}var _p=new L("",{providedIn:"root",factory:()=>GN}),GN="ng",Ip=new L(""),xt=new L("",{providedIn:"platform",factory:()=>"unknown"});var wp=new L("",{providedIn:"root",factory:()=>qN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var WN="h",KN="b";var QN=()=>null;function Ep(t,e,n=!1){return QN(t,e,n)}var FE=!1,YN=new L("",{providedIn:"root",factory:()=>FE});var nu;function JN(){if(nu===void 0&&(nu=null,ff.trustedTypes))try{nu=ff.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nu}function tw(t){return JN()?.createScriptURL(t)||t}var bu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vw})`}};function qo(t){return t instanceof bu?t.changingThisBreaksApplicationSecurity:t}function Dp(t,e){let n=ZN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${vw})`)}return n===e}function ZN(t){return t instanceof bu&&t.getTypeName()||null}var XN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function LE(t){return t=String(t),t.match(XN)?t:"unsafe:"+t}var Ju=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ju||{});function eM(t){let e=UE();return e?e.sanitize(Ju.URL,t)||"":Dp(t,"URL")?qo(t):LE(Lu(t))}function tM(t){let e=UE();if(e)return tw(e.sanitize(Ju.RESOURCE_URL,t)||"");if(Dp(t,"ResourceURL"))return tw(qo(t));throw new j(904,!1)}function nM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?tM:eM}function VE(t,e,n){return nM(e,n)(t)}function UE(){let t=ge();return t&&t[Jt].sanitizer}var rM=/^>|^->|<!--|-->|--!>|<!-$/g,iM=/(<|>)/g,sM="\u200B$1\u200B";function oM(t){return t.replace(rM,e=>e.replace(iM,sM))}function jE(t){return t instanceof Function?t():t}function aM(t){return(t??M(Ge)).get(xt)==="browser"}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),cM;function Tp(t,e){return cM(t,e)}function Ji(t,e,n,r,i){if(r!=null){let s,o=!1;Nn(r)?s=r:ar(r)&&(o=!0,r=r[Rn]);let c=en(r);t===0&&n!==null?i==null?qE(e,n,c):Cu(e,n,c,i||null,!0):t===1&&n!==null?Cu(e,n,c,i||null,!0):t===2?TM(e,c,o):t===3&&e.destroyNode(c),s!=null&&CM(e,t,s,n,i)}}function uM(t,e){return t.createText(e)}function lM(t,e,n){t.setValue(e,n)}function dM(t,e){return t.createComment(oM(e))}function BE(t,e,n){return t.createElement(e,n)}function hM(t,e){$E(t,e),e[Rn]=null,e[jt]=null}function fM(t,e,n,r,i,s){r[Rn]=i,r[jt]=e,Xu(t,r,n,1,i,s)}function $E(t,e){e[Jt].changeDetectionScheduler?.notify(9),Xu(t,e,e[Ae],2,null,null)}function pM(t){let e=t[jo];if(!e)return af(t[oe],t);for(;e;){let n=null;if(ar(e))n=e[jo];else{let r=e[St];r&&(n=r)}if(!n){for(;e&&!e[Vt]&&e!==t;)ar(e)&&af(e[oe],e),e=e[ut];e===null&&(e=t),ar(e)&&af(e[oe],e),n=e&&e[Vt]}e=n}}function gM(t,e,n,r){let i=St+r,s=n.length;r>0&&(n[i-1][Vt]=e),r<s-St?(e[Vt]=n[i],Sw(n,St+r,e)):(n.push(e),e[Vt]=null),e[ut]=n;let o=e[os];o!==null&&n!==o&&HE(o,e);let c=e[as];c!==null&&c.insertView(t),Df(e),e[K]|=128}function HE(t,e){let n=t[vu],r=e[ut];if(ar(r))t[K]|=_u.HasTransplantedViews;else{let i=r[ut][Zt];e[Zt]!==i&&(t[K]|=_u.HasTransplantedViews)}n===null?t[vu]=[e]:n.push(e)}function bp(t,e){let n=t[vu],r=n.indexOf(e);n.splice(r,1)}function kf(t,e){if(t.length<=St)return;let n=St+e,r=t[n];if(r){let i=r[os];i!==null&&i!==t&&bp(i,r),e>0&&(t[n-1][Vt]=r[Vt]);let s=fu(t,St+e);hM(r[oe],r);let o=s[as];o!==null&&o.detachView(s[oe]),r[ut]=null,r[Vt]=null,r[K]&=-129}return r}function zE(t,e){if(!(e[K]&256)){let n=e[Ae];n.destroyNode&&Xu(t,e,n,3,null,null),pM(e)}}function af(t,e){if(e[K]&256)return;let n=de(null);try{e[K]&=-129,e[K]|=256,e[At]&&Mh(e[At]),yM(t,e),mM(t,e),e[oe].type===1&&e[Ae].destroy();let r=e[os];if(r!==null&&Nn(e[ut])){r!==e[ut]&&bp(r,e);let i=e[as];i!==null&&i.detachView(t)}Pf(e)}finally{de(n)}}function mM(t,e){let n=t.cleanup,r=e[mu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[mu]=null);let i=e[or];if(i!==null){e[or]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function yM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Kt(4,c,u);try{u.call(c)}finally{Kt(5,c,u)}}else{Kt(4,i,s);try{s.call(i)}finally{Kt(5,i,s)}}}}}function vM(t,e,n){return _M(t,e.parent,n)}function _M(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Rn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Yt.None||s===Yt.Emulated)return null}return Mt(r,n)}}function Cu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qE(t,e,n){t.appendChild(e,n)}function nw(t,e,n,r,i){r!==null?Cu(t,e,n,r,i):qE(t,e,n)}function GE(t,e){return t.parentNode(e)}function IM(t,e){return t.nextSibling(e)}function wM(t,e,n){return DM(t,e,n)}function EM(t,e,n){return t.type&40?Mt(t,n):null}var DM=EM,rw;function Zu(t,e,n,r){let i=vM(t,r,e),s=e[Ae],o=r.parent||e[jt],c=wM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)nw(s,i,n[u],c,!1);else nw(s,i,n,c,!1);rw!==void 0&&rw(s,r,e,n,i)}function ko(t,e){if(e!==null){let n=e.type;if(n&3)return Mt(e,t);if(n&4)return Ff(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ko(t,r);{let i=t[e.index];return Nn(i)?Ff(-1,i):en(i)}}else{if(n&128)return ko(t,e.next);if(n&32)return Tp(e,t)()||en(t[e.index]);{let r=WE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yr(t[Zt]);return ko(i,r)}else return ko(t,e.next)}}}return null}function WE(t,e){if(e!==null){let r=t[Zt][jt],i=e.projection;return r.projection[i]}return null}function Ff(t,e){let n=St+t+1;if(n<e.length){let r=e[n],i=r[oe].firstChild;if(i!==null)return ko(r,i)}return e[Qr]}function TM(t,e,n){t.removeChild(null,e,n)}function Cp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&dr(en(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Cp(t,e,n.child,r,i,s,!1),Ji(e,t,i,c,s);else if(u&32){let d=Tp(n,r),f;for(;f=d();)Ji(e,t,i,f,s);Ji(e,t,i,c,s)}else u&16?bM(t,e,r,n,i,s):Ji(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Xu(t,e,n,r,i,s){Cp(n,r,t.firstChild,e,i,s,!1)}function bM(t,e,n,r,i,s){let o=n[Zt],u=o[jt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];Ji(e,t,i,f,s)}else{let d=u,f=o[ut];NE(r)&&(d.flags|=128),Cp(t,e,d,f,i,s,!0)}}function CM(t,e,n,r,i){let s=n[Qr],o=en(n);s!==o&&Ji(e,t,r,s,i);for(let c=St;c<n.length;c++){let u=n[c];Xu(u[oe],u,t,e,r,s)}}function AM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=An.Important),t.setStyle(n,r,i,s))}}function SM(t,e,n){t.setAttribute(e,"style",n)}function KE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function QE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&yf(t,e,r),i!==null&&KE(t,e,i),s!==null&&SM(t,e,s)}var gr={};function eW(t=1){YE(Ze(),ge(),ms()+t,!1)}function YE(t,e,n,r){if(!r)if((e[K]&3)===3){let s=t.preOrderCheckHooks;s!==null&&au(e,s,n)}else{let s=t.preOrderHooks;s!==null&&cu(e,s,0,n)}Jr(n)}function W(t,e=X.Default){let n=ge();if(n===null)return B(t,e);let r=Xe();return DE(r,n,ot(t),e)}function JE(){let t="invalid";throw new Error(t)}function ZE(t,e,n,r,i,s){let o=de(null);try{let c=null;i&cr.SignalBased&&(c=e[r][wn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&cr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Kw(e,c,r,s)}finally{de(o)}}function RM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Jr(~i);else{let s=i,o=n[++r],c=n[++r];uN(o,s);let u=e[s];c(2,u)}}}finally{Jr(-1)}}function el(t,e,n,r,i,s,o,c,u,d,f){let g=e.blueprint.slice();return g[Rn]=i,g[K]=r|4|128|8|64,(d!==null||t&&t[K]&2048)&&(g[K]|=2048),tE(g),g[ut]=g[gs]=t,g[Ut]=n,g[Jt]=o||t&&t[Jt],g[Ae]=c||t&&t[Ae],g[ss]=u||t&&t[ss]||null,g[jt]=s,g[ju]=HN(),g[gu]=f,g[Gw]=d,g[Zt]=e.type==2?t[Zt]:g,g}function Go(t,e,n,r,i){let s=t.data[e];if(s===null)s=NM(t,e,n,r,i),cN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=rN();s.injectorIndex=o===null?-1:o.injectorIndex}return ti(s,!0),s}function NM(t,e,n,r,i){let s=oE(),o=dp(),c=o?s:s&&s.parent,u=t.data[e]=kM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function XE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eD(t,e,n,r,i){let s=ms(),o=r&2;try{Jr(-1),o&&e.length>Xt&&YE(t,e,Xt,!1),Kt(o?2:0,i),n(r,i)}finally{Jr(s),Kt(o?3:1,i)}}function Ap(t,e,n){if(up(e)){let r=de(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{de(r)}}}function Sp(t,e,n){sE()&&(BM(t,e,n,Mt(n,e)),(n.flags&64)===64&&rD(t,e,n))}function Rp(t,e,n=Mt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function tD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Np(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Np(t,e,n,r,i,s,o,c,u,d,f){let g=Xt+r,_=g+i,I=MM(g,_),A=typeof d=="function"?d():d;return I[oe]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function MM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gr);return n}function xM(t,e,n,r){let s=r.get(YN,FE)||n===Yt.ShadowDom,o=t.selectRootElement(e,s);return PM(o),o}function PM(t){OM(t)}var OM=()=>null;function kM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return eN()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function iw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=cr.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?sw(r,n,d,c,u):sw(r,n,d,c)}return r}function sw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function FM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,I=_?_.inputs:null,A=_?_.outputs:null;u=iw(0,g.inputs,f,u,I),d=iw(1,g.outputs,f,d,A);let N=u!==null&&o!==null&&!op(e)?ZM(u,f,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function LM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Mp(t,e,n,r,i,s,o,c){let u=Mt(e,n),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(Pp(t,n,f,r,i),Bu(e)&&VM(n,e.index)):e.type&3?(r=LM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function VM(t,e){let n=fr(e,t);n[K]&16||(n[K]|=64)}function xp(t,e,n,r){if(sE()){let i=r===null?null:{"":-1},s=HM(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&nD(t,e,n,o,i,c),i&&zM(n,r,i)}n.mergedAttrs=Vo(n.mergedAttrs,n.attrs)}function nD(t,e,n,r,i,s){for(let d=0;d<r.length;d++)Af(Eu(n,e),t,r[d].type);GM(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=XE(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=Vo(n.mergedAttrs,f.hostAttrs),WM(t,n,e,u,f),qM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}FM(t,n,s)}function UM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;jM(o)!=c&&o.push(c),o.push(n,r,s)}}function jM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Bu(n)&&KM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Eu(n,e),dr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],d=us(e,t,c,n);if(dr(d,e),o!==null&&JM(e,c-i,d,u,n,o),lr(u)){let f=fr(n.index,e);f[Ut]=us(e,t,c,n)}}}function rD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=lN();try{Jr(s);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];Tf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&$M(u,d)}}finally{Jr(-1),Tf(o)}}function $M(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(wR(e,o.selectors,!1))if(r||(r=[]),lr(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Lf(t,e,u)}else r.unshift(o),Lf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Lf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function qM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function GM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ts(i.type,!0)),o=new Zr(s,lr(i),W);t.blueprint[r]=o,n[r]=o,UM(t,e,r,XE(t,n,i.hostVars,gr),i)}function KM(t,e,n){let r=Mt(e,t),i=tD(n),s=t[Jt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=tl(t,el(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function QM(t,e,n,r,i,s){let o=Mt(t,e);YM(e[Ae],o,s,t.value,n,r,i)}function YM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Lu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function JM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],g=o[c++];ZE(r,n,u,d,f,g)}}function ZM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function iD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sD(t,e){let n=t.contentQueries;if(n!==null){let r=de(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];uE(s),c.contentQueries(2,e[o],o)}}}finally{de(r)}}}function tl(t,e){return t[jo]?t[HI][Vt]=e:t[jo]=e,t[HI]=e,e}function Vf(t,e,n){uE(0);let r=de(null);try{e(t,n)}finally{de(r)}}function XM(t){return t[mu]??=[]}function ex(t){return t.cleanup??=[]}function oD(t,e){let n=t[ss],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function Pp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],d=e[o],f=t.data[o];ZE(f,d,r,c,u,i)}}function tx(t,e,n){let r=Xw(e,t);lM(t[Ae],r,n)}function nx(t,e){let n=fr(e,t),r=n[oe];rx(r,n);let i=n[Rn];i!==null&&n[gu]===null&&(n[gu]=Ep(i,n[ss])),Op(r,n,n[Ut])}function rx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Op(t,e,n){hp(e);try{let r=t.viewQuery;r!==null&&Vf(1,r,n);let i=t.template;i!==null&&eD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[as]?.finishViewCreation(t),t.staticContentQueries&&sD(t,e),t.staticViewQueries&&Vf(2,t.viewQuery,n);let s=t.components;s!==null&&ix(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,fp()}}function ix(t,e){for(let n=0;n<e.length;n++)nx(t,e[n])}function sx(t,e,n,r){let i=de(null);try{let s=e.tView,c=t[K]&4096?4096:16,u=el(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[os]=d;let f=t[as];return f!==null&&(u[as]=f.createEmbeddedView(s)),Op(s,u,n),u}finally{de(i)}}function ow(t,e){return!e||e.firstChild===null||NE(t)}function ox(t,e,n,r=!0){let i=e[oe];if(gM(i,e,t,n),r){let o=Ff(n,t),c=e[Ae],u=GE(c,t[Qr]);u!==null&&fM(i,t[jt],c,e,u,o)}let s=e[gu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Au(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(en(s)),Nn(s)&&ax(s,r);let o=n.type;if(o&8)Au(t,e,n.child,r);else if(o&32){let c=Tp(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=WE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Yr(e[Zt]);Au(u[oe],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function ax(t,e){for(let n=St;n<t.length;n++){let r=t[n],i=r[oe].firstChild;i!==null&&Au(r[oe],r,i,e)}t[Qr]!==t[Rn]&&e.push(t[Qr])}var aD=[];function cx(t){return t[At]??ux(t)}function ux(t){let e=aD.pop()??Object.create(dx);return e.lView=t,e}function lx(t){t.lView[At]!==t&&(t.lView=null,aD.push(t))}var dx=re(k({},Mo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zu(t.lView)},consumerOnSignalRead(){this.lView[At]=this}});function hx(t){let e=t[At]??Object.create(fx);return e.lView=t,e}var fx=re(k({},Mo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Yr(t.lView);for(;e&&!cD(e[oe]);)e=Yr(e);e&&nE(e)},consumerOnSignalRead(){this.lView[At]=this}});function cD(t){return t.type!==2}var px=100;function uD(t,e=!0,n=0){let r=t[Jt],i=r.rendererFactory,s=!1;s||i.begin?.();try{gx(t,n)}catch(o){throw e&&oD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function gx(t,e){let n=cE();try{qI(!0),Uf(t,e);let r=0;for(;Hu(t);){if(r===px)throw new j(103,!1);r++,Uf(t,1)}}finally{qI(n)}}function mx(t,e,n,r){let i=e[K];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Jt].inlineEffectRunner?.flush(),hp(e);let c=!0,u=null,d=null;s||(cD(t)?(d=cx(e),u=Sc(d)):Q_()===null?(c=!1,d=hx(e),u=Sc(d)):e[At]&&(Mh(e[At]),e[At]=null));try{tE(e),oN(t.bindingStartIndex),n!==null&&eD(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&au(e,I,null)}else{let I=t.preOrderHooks;I!==null&&cu(e,I,0,null),nf(e,0)}if(o||yx(e),lD(e,0),t.contentQueries!==null&&sD(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&au(e,I)}else{let I=t.contentHooks;I!==null&&cu(e,I,1),nf(e,1)}RM(t,e);let g=t.components;g!==null&&hD(e,g,0);let _=t.viewQuery;if(_!==null&&Vf(2,_,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&au(e,I)}else{let I=t.viewHooks;I!==null&&cu(e,I,2),nf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[tf]){for(let I of e[tf])I();e[tf]=null}s||(e[K]&=-73)}catch(f){throw s||zu(e),f}finally{d!==null&&(Rh(d,u),c&&lx(d)),fp()}}function lD(t,e){for(let n=xE(t);n!==null;n=PE(n))for(let r=St;r<n.length;r++){let i=n[r];dD(i,e)}}function yx(t){for(let e=xE(t);e!==null;e=PE(e)){if(!(e[K]&_u.HasTransplantedViews))continue;let n=e[vu];for(let r=0;r<n.length;r++){let i=n[r];nE(i)}}}function vx(t,e,n){let r=fr(e,t);dD(r,n)}function dD(t,e){lp(t)&&Uf(t,e)}function Uf(t,e){let r=t[oe],i=t[K],s=t[At],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Nh(s)),o||=!1,s&&(s.dirty=!1),t[K]&=-9217,o)mx(r,t,r.template,t[Ut]);else if(i&8192){lD(t,1);let c=r.components;c!==null&&hD(t,c,1)}}function hD(t,e,n){for(let r=0;r<e.length;r++)vx(t,e[r],n)}function kp(t,e){let n=cE()?64:1088;for(t[Jt].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=Yr(t);if(wf(t)&&!r)return t;t=r}return null}var Xr=class{get rootNodes(){let e=this._lView,n=e[oe];return Au(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(e){this._lView[Ut]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(Nn(e)){let n=e[yu],r=n?n.indexOf(this):-1;r>-1&&(kf(e,r),fu(n,r))}this._attachedToViewContainer=!1}zE(this._lView[oe],this._lView)}onDestroy(e){rE(this._lView,e)}markForCheck(){kp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Df(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,uD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wf(this._lView),n=this._lView[os];n!==null&&!e&&bp(n,this._lView),$E(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=wf(this._lView),r=this._lView[os];r!==null&&!n&&HE(r,this._lView),Df(this._lView)}},nl=(()=>{class t{static{this.__NG_ELEMENT_ID__=wx}}return t})(),_x=nl,Ix=class extends _x{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=sx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Xr(i)}};function wx(){return fD(Xe(),ge())}function fD(t,e){return t.type&4?new Ix(e,t,Yu(t,e)):null}var nW=new RegExp(`^(\\d+)*(${KN}|${WN})*(.*)`);var Ex=()=>null;function aw(t,e){return Ex(t,e)}var ls=class{},rl=new L("",{providedIn:"root",factory:()=>!1});var pD=new L(""),gD=new L(""),jf=class{},Su=class{};function Dx(t){let e=Error(`No component factory found for ${at(t)}.`);return e[Tx]=t,e}var Tx="ngComponent";var Bf=class{resolveComponentFactory(e){throw Dx(e)}},ds=class{static{this.NULL=new Bf}},hs=class{},Mn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>bx()}}return t})();function bx(){let t=ge(),e=Xe(),n=fr(e.index,t);return(ar(n)?n:t)[Ae]}var Cx=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>null})}}return t})();function Ru(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=PI(i,c);else if(s==2){let u=c,d=e[++o];r=PI(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Nu=class extends ds{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ur(e);return new fs(n,this.ngModule)}};function cw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:cr.None;e?n.push({propName:o,templateName:r,isSignal:(c&cr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Ax(t){let e=t.toLowerCase();return e==="svg"?Zw:e==="math"?GR:null}var fs=class extends Su{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=cw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return cw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=bR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=de(null);try{i=i||this.ngModule;let o=i instanceof ct?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new bf(e,o):e,u=c.get(hs,null);if(u===null)throw new j(407,!1);let d=c.get(Cx,null),f=c.get(ls,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?xM(_,r,this.componentDef.encapsulation,c):BE(_,I,Ax(I)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;A!==null&&(R=Ep(A,c,!0));let F=Np(0,null,null,1,0,null,null,null,null,null,null),q=el(null,F,null,N,null,null,g,_,c,null,R);hp(q);let U,ne,Ie=null;try{let ee=this.componentDef,D,m=null;ee.findHostDirectiveDefs?(D=[],m=new Map,ee.findHostDirectiveDefs(ee,D,m),D.push(ee)):D=[ee];let y=Sx(q,A);Ie=Rx(y,A,ee,D,q,g,_),ne=eE(F,Xt),A&&xx(_,ee,A,r),n!==void 0&&Px(ne,this.ngContentSelectors,n),U=Mx(Ie,ee,D,m,q,[Ox]),Op(F,q,null)}catch(ee){throw Ie!==null&&Pf(Ie),Pf(q),ee}finally{fp()}return new $f(this.componentType,U,Yu(ne,q),q,ne)}finally{de(s)}}},$f=class extends jf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Pp(s[oe],s,i,e,n),this.previousInputValues.set(e,n);let o=fr(this._tNode.index,s);kp(o,1)}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Sx(t,e){let n=t[oe],r=Xt;return t[r]=e,Go(n,r,2,"#host",null)}function Rx(t,e,n,r,i,s,o){let c=i[oe];Nx(r,t,e,o);let u=null;e!==null&&(u=Ep(e,i[ss]));let d=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=el(i,tD(n),null,f,i[t.index],t,s,d,null,null,u);return c.firstCreatePass&&Lf(c,t,r.length-1),tl(i,g),i[t.index]=g}function Nx(t,e,n,r){for(let i of t)e.mergedAttrs=Vo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ru(e,e.mergedAttrs,!0),n!==null&&QE(r,n,e))}function Mx(t,e,n,r,i,s){let o=Xe(),c=i[oe],u=Mt(o,i);nD(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=us(i,c,g,o);dr(_,i)}rD(c,i,o),u&&dr(u,i);let d=us(i,c,o.directiveStart+o.componentOffset,o);if(t[Ut]=i[Ut]=d,s!==null)for(let f of s)f(d,e);return Ap(c,o,i),d}function xx(t,e,n,r){if(r)yf(t,n,["ng-version","18.2.8"]);else{let{attrs:i,classes:s}=CR(e.selectors[0]);i&&yf(t,n,i),s&&s.length>0&&KE(t,n,s.join(" "))}}function Px(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ox(){let t=Xe();Qu(ge()[oe],t)}var ys=(()=>{class t{static{this.__NG_ELEMENT_ID__=kx}}return t})();function kx(){let t=Xe();return Lx(t,ge())}var Fx=ys,mD=class extends Fx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=pp(this._hostTNode,this._hostLView);if(yE(e)){let n=wu(e,this._hostLView),r=Iu(e),i=n[oe].data[r+8];return new Kr(i,n)}else return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=uw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-St}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=aw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,ow(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!$R(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new fs(ur(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?d:this.parentInjector).get(ct,null);N&&(s=N)}let f=ur(u.componentType??{}),g=aw(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(d,i,_,s);return this.insertImpl(I.hostView,c,ow(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(KR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ut],d=new mD(u,u[jt],u[ut]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return ox(o,i,s,r),e.attachToViewContainerRef(),Sw(cf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=uw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=kf(this._lContainer,n);r&&(fu(cf(this._lContainer),n),zE(r[oe],r))}detach(e){let n=this._adjustIndex(e,-1),r=kf(this._lContainer,n);return r&&fu(cf(this._lContainer),n)!=null?new Xr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uw(t){return t[yu]}function cf(t){return t[yu]||(t[yu]=[])}function Lx(t,e){let n,r=e[t.index];return Nn(r)?n=r:(n=iD(r,e,null,t),e[t.index]=n,tl(e,n)),Ux(n,e,t,r),new mD(n,t,e)}function Vx(t,e){let n=t[Ae],r=n.createComment(""),i=Mt(e,t),s=GE(n,i);return Cu(n,s,r,IM(n,i),!1),r}var Ux=$x,jx=()=>!1;function Bx(t,e,n){return jx(t,e,n)}function $x(t,e,n,r){if(t[Qr])return;let i;n.type&8?i=en(r):i=Vx(e,n),t[Qr]=i}var lw=new Set;function ni(t){lw.has(t)||(lw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Hx(t){return typeof t=="function"&&t[wn]!==void 0}function vs(t,e){ni("NgSignals");let n=oI(t),r=n[wn];return e?.equal&&(r.equal=e.equal),n.set=i=>xh(r,i),n.update=i=>aI(r,i),n.asReadonly=zx.bind(n),n}function zx(){let t=this[wn];if(t.readonlyFn===void 0){let e=()=>this();e[wn]=t,t.readonlyFn=e}return t.readonlyFn}function yD(t){return Hx(t)&&typeof t.set=="function"}function qx(t){return Object.getPrototypeOf(t.prototype).constructor}function lt(t){let e=qx(t.type),n=!0,r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ru(t.inputs),o.inputTransforms=ru(t.inputTransforms),o.declaredInputs=ru(t.declaredInputs),o.outputs=ru(t.outputs);let c=i.hostBindings;c&&Yx(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&Kx(t,u),d&&Qx(t,d),Gx(t,i),WS(t.outputs,i.outputs),lr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===lt&&(n=!1)}}e=Object.getPrototypeOf(e)}Wx(r)}function Gx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Wx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vo(i.hostAttrs,n=Vo(n,i.hostAttrs))}}function ru(t){return t===ns?{}:t===Ct?[]:t}function Kx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Qx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Yx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Fp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var hr=class{},Bo=class{};var Hf=class extends hr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nu(this);let s=Vw(e);this._bootstrapComponents=jE(s.bootstrap),this._r3Injector=CE(e,n,[{provide:hr,useValue:this},{provide:ds,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zf=class extends Bo{constructor(e){super(),this.moduleType=e}create(e){return new Hf(this.moduleType,e,[])}};var Mu=class extends hr{constructor(e){super(),this.componentFactoryResolver=new Nu(this),this.instance=null;let n=new Uo([...e.providers,{provide:hr,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],e.parent||cp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function il(t,e,n=null){return new Mu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function vD(t){return Zx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Jx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Zx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Xx(t,e,n){return t[e]=n}function eP(t,e){return t[e]}function Wo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function tP(t){return(t.flags&32)===32}function nP(t,e,n,r,i,s,o,c,u){let d=e.consts,f=Go(e,t,4,o||null,c||null);xp(e,n,f,cs(d,u)),Qu(e,f);let g=f.tView=Np(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function rP(t,e,n,r,i,s,o,c,u,d){let f=n+Xt,g=e.firstCreatePass?nP(f,e,t,r,i,s,o,c,u):e.data[f];ti(g,!1);let _=sP(e,t,g,n);Wu()&&Zu(e,t,_,g),dr(_,t);let I=iD(_,t,_,g);return t[f]=I,tl(t,I),Bx(I,g,t),$u(g)&&Sp(e,t,g),u!=null&&Rp(t,g,d),g}function iP(t,e,n,r,i,s,o,c){let u=ge(),d=Ze(),f=cs(d.consts,s);return rP(u,d,t,e,n,r,i,f,o,c),iP}var sP=oP;function oP(t,e,n,r){return Ku(!0),e[Ae].createComment("")}var Zi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Zi||{}),_D=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}}return t})(),qf=class t{constructor(){this.ngZone=M(fe),this.scheduler=M(ls),this.errorHandler=M(Cn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Zi.EarlyRead,Zi.Write,Zi.MixedReadWrite,Zi.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}},Gf=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Lp(t,e){!e?.injector&&BR(Lp);let n=e?.injector??M(Ge);return aM(n)?(ni("NgAfterNextRender"),cP(t,n,e,!0)):uP}function aP(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function cP(t,e,n,r){let i=e.get(_D);i.impl??=e.get(qf);let s=n?.phase??Zi.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(mp):null,c=new Gf(i.impl,aP(t,s),r,o);return i.impl.register(c),c}var uP={destroy(){}};function Ko(t,e,n,r){let i=ge(),s=qu();if(Wo(i,s,e)){let o=Ze(),c=Gu();QM(c,i,t,e,n,r)}return Ko}function ID(t,e,n,r){return Wo(t,qu(),n)?e+Lu(n)+r:gr}function iu(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function lP(t){return(t&2)==2}function dP(t,e){return t&131071|e<<17}function Wf(t){return t|2}function ps(t){return(t&131068)>>2}function uf(t,e){return t&-131069|e<<2}function hP(t){return(t&1)===1}function Kf(t){return t|1}function fP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=ei(o),u=ps(o);t[r]=n;let d=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||zo(g,f)>0)&&(d=!0)}else f=n;if(i)if(u!==0){let _=ei(t[c+1]);t[r+1]=iu(_,c),_!==0&&(t[_+1]=uf(t[_+1],r)),t[c+1]=dP(t[c+1],r)}else t[r+1]=iu(c,0),c!==0&&(t[c+1]=uf(t[c+1],r)),c=r;else t[r+1]=iu(u,0),c===0?c=r:t[u+1]=uf(t[u+1],r),u=r;d&&(t[r+1]=Wf(t[r+1])),dw(t,f,r,!0),dw(t,f,r,!1),pP(e,f,t,r,s),o=iu(c,u),s?e.classBindings=o:e.styleBindings=o}function pP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&zo(s,e)>=0&&(n[r+1]=Kf(n[r+1]))}function dw(t,e,n,r){let i=t[n+1],s=e===null,o=r?ei(i):ps(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],d=t[o+1];gP(u,e)&&(c=!0,t[o+1]=r?Kf(d):Wf(d)),o=r?ei(d):ps(d)}c&&(t[n+1]=r?Wf(i):Kf(i))}function gP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?zo(t,e)>=0:!1}function mP(t,e,n){let r=ge(),i=qu();if(Wo(r,i,e)){let s=Ze(),o=Gu();Mp(s,o,r,t,e,r[Ae],n,!1)}return mP}function hw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Pp(t,n,s[o],o,r)}function sl(t,e){return yP(t,e,null,!0),sl}function yP(t,e,n,r){let i=ge(),s=Ze(),o=aN(2);if(s.firstUpdatePass&&_P(s,t,o,r),e!==gr&&Wo(i,o,e)){let c=s.data[ms()];TP(s,c,i,i[Ae],t,i[o+1]=bP(e,n),r,o)}}function vP(t,e){return e>=t.expandoStartIndex}function _P(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ms()],o=vP(t,n);CP(s,r)&&e===null&&!o&&(e=!1),e=IP(i,s,e,r),fP(i,s,e,n,o,r)}}function IP(t,e,n,r){let i=dN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=lf(null,t,e,n,r),n=$o(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=lf(i,t,e,n,r),s===null){let u=wP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=lf(null,t,e,u[1],r),u=$o(u,e.attrs,r),EP(t,e,r,u))}else s=DP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function wP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ps(r)!==0)return t[ei(r)]}function EP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ei(i)]=r}function DP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=$o(r,o,n)}return $o(r,e.attrs,n)}function lf(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=$o(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function $o(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function TP(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=hP(d)?fw(u,e,n,i,ps(d),o):void 0;if(!xu(f)){xu(s)||lP(d)&&(s=fw(u,null,n,i,c,o));let g=Xw(ms(),n);AM(r,o,g,i,s)}}function fw(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),f=d?u[1]:u,g=f===null,_=n[i+1];_===gr&&(_=g?Ct:void 0);let I=g?Xh(_,r):f===r?_:void 0;if(d&&!xu(I)&&(I=Xh(u,r)),xu(I)&&(c=I,o))return c;let A=t[i+1];i=o?ei(A):ps(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Xh(u,r))}return c}function xu(t){return t!==void 0}function bP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=at(qo(t)))),t}function CP(t,e){return(t.flags&(e?8:16))!==0}function AP(t,e,n,r,i,s){let o=e.consts,c=cs(o,i),u=Go(e,t,2,r,c);return xp(e,n,u,cs(o,s)),u.attrs!==null&&Ru(u,u.attrs,!1),u.mergedAttrs!==null&&Ru(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function wD(t,e,n,r){let i=ge(),s=Ze(),o=Xt+t,c=i[Ae],u=s.firstCreatePass?AP(o,s,i,e,n,r):s.data[o],d=SP(s,i,u,c,e,t);i[o]=d;let f=$u(u);return ti(u,!0),QE(c,d,u),!tP(u)&&Wu()&&Zu(s,i,d,u),JR()===0&&dr(d,i),ZR(),f&&(Sp(s,i,u),Ap(s,u,i)),r!==null&&Rp(i,u),wD}function ED(){let t=Xe();dp()?aE():(t=t.parent,ti(t,!1));let e=t;tN(e)&&nN(),XR();let n=Ze();return n.firstCreatePass&&(Qu(n,t),up(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_N(e)&&hw(n,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IN(e)&&hw(n,e,ge(),e.stylesWithoutHost,!1),ED}function Vp(t,e,n,r){return wD(t,e,n,r),ED(),Vp}var SP=(t,e,n,r,i,s)=>(Ku(!0),BE(r,i,gN()));function RP(t,e,n,r,i){let s=e.consts,o=cs(s,r),c=Go(e,t,8,"ng-container",o);o!==null&&Ru(c,o,!0);let u=cs(s,i);return xp(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function NP(t,e,n){let r=ge(),i=Ze(),s=t+Xt,o=i.firstCreatePass?RP(s,i,r,e,n):i.data[s];ti(o,!0);let c=xP(i,r,o,t);return r[s]=c,Wu()&&Zu(i,r,c,o),dr(c,r),$u(o)&&(Sp(i,r,o),Ap(i,o,r)),n!=null&&Rp(r,o),NP}function MP(){let t=Xe(),e=Ze();return dp()?aE():(t=t.parent,ti(t,!1)),e.firstCreatePass&&(Qu(e,t),up(t)&&e.queries.elementEnd(t)),MP}var xP=(t,e,n,r)=>(Ku(!0),dM(e[Ae],""));function iW(){return ge()}var Pu="en-US";var PP=Pu;function OP(t){typeof t=="string"&&(PP=t.toLowerCase().replace(/_/g,"-"))}var kP=(t,e,n)=>{};function Bt(t,e,n,r){let i=ge(),s=Ze(),o=Xe();return DD(s,i,i[Ae],o,t,e,r),Bt}function FP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[mu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function DD(t,e,n,r,i,s,o){let c=$u(r),d=t.firstCreatePass&&ex(t),f=e[Ut],g=XM(e),_=!0;if(r.type&3||o){let N=Mt(r,e),R=o?o(N):N,F=g.length,q=o?ne=>o(en(ne[r.index])):r.index,U=null;if(!o&&c&&(U=FP(t,e,i,r.index)),U!==null){let ne=U.__ngLastListenerFn__||U;ne.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,_=!1}else{s=gw(r,e,f,s),kP(N,i,s);let ne=n.listen(R,i,s);g.push(s,ne),d&&d.push(i,q,F,F+1)}}else s=gw(r,e,f,s);let I=r.outputs,A;if(_&&I!==null&&(A=I[i])){let N=A.length;if(N)for(let R=0;R<N;R+=2){let F=A[R],q=A[R+1],Ie=e[F][q].subscribe(s),ee=g.length;g.push(s,Ie),d&&d.push(i,r.index,ee,-(ee+1))}}}function pw(t,e,n,r){let i=de(null);try{return Kt(6,e,n),n(r)!==!1}catch(s){return oD(t,s),!1}finally{Kt(7,e,n),de(i)}}function gw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?fr(t.index,e):e;kp(o,5);let c=pw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=pw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function sW(t=1){return fN(t)}function LP(t,e,n){return TD(t,"",e,"",n),LP}function TD(t,e,n,r,i){let s=ge(),o=ID(s,e,n,r);if(o!==gr){let c=Ze(),u=Gu();Mp(c,u,s,t,o,s[Ae],i,!1)}return TD}function oW(t){let e=iN();return WR(e,Xt+t)}function aW(t,e=""){let n=ge(),r=Ze(),i=t+Xt,s=r.firstCreatePass?Go(r,i,1,e,null):r.data[i],o=VP(r,n,s,e,t);n[i]=o,Wu()&&Zu(r,n,o,s),ti(s,!1)}var VP=(t,e,n,r,i)=>(Ku(!0),uM(e[Ae],r));function UP(t){return bD("",t,""),UP}function bD(t,e,n){let r=ge(),i=ID(r,t,e,n);return i!==gr&&tx(r,ms(),i),bD}function jP(t,e,n){yD(e)&&(e=e());let r=ge(),i=qu();if(Wo(r,i,e)){let s=Ze(),o=Gu();Mp(s,o,r,t,e,r[Ae],n,!1)}return jP}function cW(t,e){let n=yD(t);return n&&t.set(e),n}function BP(t,e){let n=ge(),r=Ze(),i=Xe();return DD(r,n,n[Ae],i,t,e),BP}function $P(t,e,n){let r=Ze();if(r.firstCreatePass){let i=lr(t);Qf(n,r.data,r.blueprint,i,!0),Qf(e,r.data,r.blueprint,i,!1)}}function Qf(t,e,n,r,i){if(t=ot(t),Array.isArray(t))for(let s=0;s<t.length;s++)Qf(t[s],e,n,r,i);else{let s=Ze(),o=ge(),c=Xe(),u=is(t)?t:ot(t.provide),d=zw(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(is(t)||!t.multi){let I=new Zr(d,i,W),A=hf(u,e,i?f:f+_,g);A===-1?(Af(Eu(c,o),s,u),df(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[A]=I,o[A]=I)}else{let I=hf(u,e,f+_,g),A=hf(u,e,f,f+_),N=I>=0&&n[I],R=A>=0&&n[A];if(i&&!R||!i&&!N){Af(Eu(c,o),s,u);let F=qP(i?zP:HP,n.length,i,r,d);!i&&R&&(n[A].providerFactory=F),df(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=CD(n[i?A:I],d,!i&&r);df(s,t,I>-1?I:A,F)}!i&&r&&R&&n[A].componentProviders++}}}function df(t,e,n,r){let i=is(e),s=OR(e);if(i||s){let u=(s?ot(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function CD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function HP(t,e,n,r){return Yf(this.multi,[])}function zP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=us(n,n[oe],this.providerFactory.index,r);s=c.slice(0,o),Yf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Yf(i,s);return s}function Yf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function qP(t,e,n,r,i){let s=new Zr(t,n,W);return s.multi=[],s.index=e,s.componentProviders=0,CD(s,i,r&&!n),s}function $t(t,e=[]){return n=>{n.providersResolver=(r,i)=>$P(r,i?i(t):t,e)}}var GP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Bw(!1,n.type),i=r.length>0?il([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:t,providedIn:"environment",factory:()=>new t(B(ct))})}}return t})();function AD(t){ni("NgStandalone"),t.getStandaloneInjector=e=>e.get(GP).getOrCreateStandaloneInjector(t)}function uW(t,e,n){let r=sN()+t,i=ge();return i[r]===gr?Xx(i,r,n?e.call(n):e()):eP(i,r)}function lW(t,e){return fD(t,e)}var Sn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},SD=new Sn("18.2.8");var ol=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var RD=new L("");function ri(t){return!!t&&typeof t.then=="function"}function ND(t){return!!t&&typeof t.subscribe=="function"}var al=new L(""),MD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=M(al,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(ri(s))n.push(s);else if(ND(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qo=new L("");function WP(){sI(()=>{throw new j(600,!1)})}function KP(t){return t.isBoundToModule}var QP=10;function YP(t,e,n){try{let r=n();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var mr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(jN),this.afterRenderManager=M(_D),this.zonelessEnabled=M(rl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ue,this.afterTick=new Ue,this.componentTypes=[],this.components=[],this.isStable=M(pr).hasPendingTasks.pipe(Y(n=>!n)),this._injector=M(ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Su;if(!this._injector.get(MD).done){let _=!i&&Lw(n),I=!1;throw new j(405,I)}let o;i?o=n:o=this._injector.get(ds).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=KP(o)?void 0:this._injector.get(hr),u=r||o.selector,d=o.create(Ge.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(RD,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),uu(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let n=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,de(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(hs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<QP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)JP(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Hu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;uu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Qo,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>uu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function JP(t,e,n,r){if(!n&&!Hu(t))return;uD(t,e,n&&!r?0:1)}var Jf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cl=(()=>{class t{compileModuleSync(n){return new zf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Vw(n),s=jE(i.declarations).reduce((o,c)=>{let u=ur(c);return u&&o.push(new fs(u)),o},[]);return new Jf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ZP=(()=>{class t{constructor(){this.zone=M(fe),this.changeDetectionScheduler=M(ls),this.applicationRef=M(mr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XP=new L("",{factory:()=>!1});function xD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new fe(re(k({},PD()),{scheduleInRootZone:n})),[{provide:fe,useFactory:t},{provide:rs,multi:!0,useFactory:()=>{let r=M(ZP,{optional:!0});return()=>r.initialize()}},{provide:rs,multi:!0,useFactory:()=>{let r=M(eO);return()=>{r.initialize()}}},e===!0?{provide:pD,useValue:!0}:[],{provide:gD,useValue:n??AE}]}function dW(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=xD({ngZoneFactory:()=>{let i=PD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ni("NgZone_CoalesceEvent"),new fe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Rt([{provide:XP,useValue:!0},{provide:rl,useValue:!1},r])}function PD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var eO=(()=>{class t{constructor(){this.subscription=new be,this.initialized=!1,this.zone=M(fe),this.pendingTasks=M(pr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var tO=(()=>{class t{constructor(){this.appRef=M(mr),this.taskService=M(pr),this.ngZone=M(fe),this.zonelessEnabled=M(rl),this.disableScheduling=M(pD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new be,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Tu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(gD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?JI:SE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,JI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nO(){return typeof $localize<"u"&&$localize.locale||Pu}var Up=new L("",{providedIn:"root",factory:()=>M(Up,X.Optional|X.SkipSelf)||nO()});var Zf=new L("");function su(t){return!t.moduleRef}function rO(t){let e=su(t)?t.r3Injector:t.moduleRef.injector,n=e.get(fe);return n.run(()=>{su(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),su(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Zf);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Zf);o.add(s),t.moduleRef.onDestroy(()=>{uu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return YP(r,n,()=>{let s=e.get(MD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Up,Pu);if(OP(o||Pu),su(t)){let c=e.get(mr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return iO(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function iO(t,e){let n=t.injector.get(mr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}var lu=null;function sO(t=[],e){return Ge.create({name:e,providers:[{provide:Uu,useValue:"platform"},{provide:Zf,useValue:new Set([()=>lu=null])},...t]})}function oO(t=[]){if(lu)return lu;let e=sO(t);return lu=e,WP(),aO(e),e}function aO(t){t.get(Ip,null)?.forEach(n=>n())}var ii=(()=>{class t{static{this.__NG_ELEMENT_ID__=cO}}return t})();function cO(t){return uO(Xe(),ge(),(t&16)===16)}function uO(t,e,n){if(Bu(t)&&!n){let r=fr(t.index,e);return new Xr(r,r)}else if(t.type&175){let r=e[Zt];return new Xr(r,e)}return null}var Xf=class{constructor(){}supports(e){return vD(e)}create(e){return new ep(e)}},lO=(t,e)=>e,ep=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<mw(r,i,s)?n:r,c=mw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=c-i,f=u-i;if(d!=f){for(let _=0;_<d;_++){let I=_<s.length?s[_]:s[_]=0,A=I+_;f<=A&&A<d&&(s[_]=I+1)}let g=o.previousIndex;s[g]=f-d}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!vD(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Jx(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new tp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ou),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ou),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},tp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},np=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ou=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new np,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function yw(){return new jp([new Xf])}var jp=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:yw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||yw()),deps:[[t,new ip,new Je]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function OD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=oO(r),s=[xD({}),{provide:ls,useExisting:tO},...n||[]],o=new Mu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return rO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function yr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function _s(t,e){ni("NgSignals");let n=nI(t);return e?.equal&&(n[wn].equal=e.equal),n}function an(t){let e=de(null);try{return t()}finally{de(e)}}function kD(t){let e=ur(t);if(!e)return null;let n=new fs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var jD=null;function Pn(){return jD}function BD(t){jD??=t}var ul=class{};var et=new L(""),qp=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(hO),providedIn:"platform"})}}return t})(),$D=new L(""),hO=(()=>{class t extends qp{constructor(){super(),this._doc=M(et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(n){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Gp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function FD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function xn(t){return t&&t[0]!=="?"?"?"+t:t}var On=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(Wp),providedIn:"root"})}}return t})(),HD=new L(""),Wp=(()=>{class t extends On{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+xn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+xn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+xn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(B(qp),B(HD,8))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zD=(()=>{class t extends On{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Gp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+xn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+xn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(B(qp),B(HD,8))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),ws=(()=>{class t{constructor(n){this._subject=new Ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=gO(FD(LD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xn(r))}normalize(n){return t.stripTrailingSlash(pO(this._basePath,LD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=xn}static{this.joinWithSlash=Gp}static{this.stripTrailingSlash=FD}static{this.\u0275fac=function(r){return new(r||t)(B(On))}}static{this.\u0275prov=V({token:t,factory:()=>fO(),providedIn:"root"})}}return t})();function fO(){return new ws(B(On))}function pO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function LD(t){return t.replace(/\/index.html$/,"")}function gO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ll(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Bp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},LW=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Bp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),VD(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);VD(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(W(ys),W(nl),W(jp))}}static{this.\u0275dir=De({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function VD(t,e){t.context.$implicit=e.item}var VW=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new $p,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){UD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){UD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(W(ys),W(nl))}}static{this.\u0275dir=De({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),$p=class{constructor(){this.$implicit=null,this.ngIf=null}};function UD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${at(e)}'.`)}var mO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=nn({type:t})}static{this.\u0275inj=tn({})}}return t})(),Kp="browser",yO="server";function vO(t){return t===Kp}function dl(t){return t===yO}var qD=(()=>{class t{static{this.\u0275prov=V({token:t,providedIn:"root",factory:()=>vO(M(xt))?new Hp(M(et),window):new zp})}}return t})(),Hp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=_O(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function _O(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var zp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Is=class{};var Jo=class{},fl=class{},kn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Yp=class{encodeKey(e){return WD(e)}encodeValue(e){return WD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function IO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(c),n.set(o,u)}),n}var wO=/%(\d[a-f0-9])/gi,EO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WD(t){return encodeURIComponent(t).replace(wO,(e,n)=>EO[n]??e)}function hl(t){return`${t}`}var _r=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=IO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(hl):[hl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(hl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(hl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Jp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function DO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function KD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function QD(t){return typeof Blob<"u"&&t instanceof Blob}function YD(t){return typeof FormData<"u"&&t instanceof FormData}function TO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Yo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(DO(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new kn,this.context??=new Jp,!this.params)this.params=new _r,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||KD(this.body)||QD(this.body)||YD(this.body)||TO(this.body)?this.body:this.body instanceof _r?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||YD(this.body)?null:QD(this.body)?this.body.type||null:KD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof _r?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),f)),new t(n,r,o,{params:f,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:c,transferCache:s})}},Ir=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ir||{}),Zo=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new kn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},pl=class t extends Zo{constructor(e={}){super(e),this.type=Ir.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xo=class t extends Zo{constructor(e={}){super(e),this.type=Ir.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vr=class extends Zo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},eT=200,bO=204;function Qp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var CO=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Yo)s=n;else{let u;i.headers instanceof kn?u=i.headers:u=new kn(i.headers);let d;i.params&&(i.params instanceof _r?d=i.params:d=new _r({fromObject:i.params})),s=new Yo(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=z(s).pipe(Tn(u=>this.handler.handle(u)));if(n instanceof Yo||i.observe==="events")return o;let c=o.pipe(pt(u=>u instanceof Xo));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Y(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(Y(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new _r().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Qp(i,r))}post(n,r,i={}){return this.request("POST",n,Qp(i,r))}put(n,r,i={}){return this.request("PUT",n,Qp(i,r))}static{this.\u0275fac=function(r){return new(r||t)(B(Jo))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),AO=/^\)\]\}',?\n/,SO="X-Request-URL";function JD(t){if(t.url)return t.url;let e=SO.toLocaleLowerCase();return t.headers.get(e)}var RO=(()=>{class t{constructor(){this.fetchImpl=M(Zp,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=M(fe)}handle(n){return new ie(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Xp,s=>r.error(new vr({error:s}))),()=>i.abort()})}doRequest(n,r,i){return w(this,null,function*(){let s=this.createRequestInit(n),o;try{let I=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,k({signal:r},s)));NO(I),i.next({type:Ir.Sent}),o=yield I}catch(I){i.error(new vr({error:I,status:I.status??0,statusText:I.statusText,url:n.urlWithParams,headers:I.headers}));return}let c=new kn(o.headers),u=o.statusText,d=JD(o)??n.urlWithParams,f=o.status,g=null;if(n.reportProgress&&i.next(new pl({headers:c,status:f,statusText:u,url:d})),o.body){let I=o.headers.get("content-length"),A=[],N=o.body.getReader(),R=0,F,q,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:Ie,value:ee}=yield N.read();if(Ie)break;if(A.push(ee),R+=ee.length,n.reportProgress){q=n.responseType==="text"?(q??"")+(F??=new TextDecoder).decode(ee,{stream:!0}):void 0;let D=()=>i.next({type:Ir.DownloadProgress,total:I?+I:void 0,loaded:R,partialText:q});U?U.run(D):D()}}}));let ne=this.concatChunks(A,R);try{let Ie=o.headers.get("Content-Type")??"";g=this.parseBody(n,ne,Ie)}catch(Ie){i.error(new vr({error:Ie,headers:new kn(o.headers),status:o.status,statusText:o.statusText,url:JD(o)??n.urlWithParams}));return}}f===0&&(f=g?eT:0),f>=200&&f<300?(i.next(new Xo({body:g,headers:c,status:f,statusText:u,url:d})),i.complete()):i.error(new vr({error:g,headers:c,status:f,statusText:u,url:d}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(AO,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),Zp=class{};function Xp(){}function NO(t){t.then(Xp,Xp)}function MO(t,e){return e(t)}function xO(t,e,n){return(r,i)=>Nt(n,()=>e(r,s=>t(s,i)))}var tT=new L(""),PO=new L(""),OO=new L("",{providedIn:"root",factory:()=>!0});var ZD=(()=>{class t extends Jo{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=M(pr),this.contributeToStability=M(OO)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(tT),...this.injector.get(PO,[])]));this.chain=r.reduceRight((i,s)=>xO(i,s,this.injector),MO)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Wr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(B(fl),B(ct))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();var kO=/^\)\]\}',?\n/;function FO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var XD=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ee(r.\u0275loadImpl()):z(null)).pipe(gt(()=>new ie(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let c=n.serializeBody(),u=null,d=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new kn(o.getAllResponseHeaders()),F=FO(o)||n.url;return u=new pl({headers:R,status:o.status,statusText:N,url:F}),u},f=()=>{let{headers:N,status:R,statusText:F,url:q}=d(),U=null;R!==bO&&(U=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=U?eT:0);let ne=R>=200&&R<300;if(n.responseType==="json"&&typeof U=="string"){let Ie=U;U=U.replace(kO,"");try{U=U!==""?JSON.parse(U):null}catch(ee){U=Ie,ne&&(ne=!1,U={error:ee,text:U})}}ne?(s.next(new Xo({body:U,headers:N,status:R,statusText:F,url:q||void 0})),s.complete()):s.error(new vr({error:U,headers:N,status:R,statusText:F,url:q||void 0}))},g=N=>{let{url:R}=d(),F=new vr({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(F)},_=!1,I=N=>{_||(s.next(d()),_=!0);let R={type:Ir.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},A=N=>{let R={type:Ir.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",f),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),n.reportProgress&&(o.addEventListener("progress",I),c!==null&&o.upload&&o.upload.addEventListener("progress",A)),o.send(c),s.next({type:Ir.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",f),o.removeEventListener("timeout",g),n.reportProgress&&(o.removeEventListener("progress",I),c!==null&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(B(Is))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),nT=new L(""),LO="XSRF-TOKEN",VO=new L("",{providedIn:"root",factory:()=>LO}),UO="X-XSRF-TOKEN",jO=new L("",{providedIn:"root",factory:()=>UO}),gl=class{},BO=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ll(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(B(et),B(xt),B(VO))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function $O(t,e){let n=t.url.toLowerCase();if(!M(nT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=M(gl).getToken(),i=M(jO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function ZW(...t){let e=[CO,XD,ZD,{provide:Jo,useExisting:ZD},{provide:fl,useFactory:()=>M(RO,{optional:!0})??M(XD)},{provide:tT,useValue:$O,multi:!0},{provide:nT,useValue:!0},{provide:gl,useClass:BO}];for(let n of t)e.push(...n.\u0275providers);return Rt(e)}var ng=class extends ul{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rg=class t extends ng{static makeCurrent(){BD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=HO();return n==null?null:zO(n)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ll(document.cookie,e)}},ea=null;function HO(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}function zO(t){return new URL(t,document.baseURI).pathname}var qO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),ig=new L(""),oT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(B(ig),B(fe))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),ml=class{constructor(e){this._doc=e}},eg="ng-app-id",aT=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dl(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${eg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(eg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(eg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(B(et),B(_p),B(wp,8),B(xt))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),tg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},og=/%COMP%/g,cT="%COMP%",GO=`_nghost-${cT}`,WO=`_ngcontent-${cT}`,KO=!0,QO=new L("",{providedIn:"root",factory:()=>KO});function YO(t){return WO.replace(og,t)}function JO(t){return GO.replace(og,t)}function uT(t,e){return e.map(n=>n.replace(og,t))}var rT=(()=>{class t{constructor(n,r,i,s,o,c,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=dl(c),this.defaultRenderer=new ta(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yt.ShadowDom&&(r=re(k({},r),{encapsulation:Yt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof yl?i.applyToHost(n):i instanceof na&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Yt.Emulated:s=new yl(u,d,r,this.appId,f,o,c,g);break;case Yt.ShadowDom:return new sg(u,d,n,r,o,c,this.nonce,g);default:s=new na(u,d,r,f,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(B(oT),B(aT),B(_p),B(QO),B(et),B(xt),B(fe),B(wp))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),ta=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=tg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=tg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function iT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var sg=class extends ta{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=uT(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},na=class extends ta{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?uT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yl=class extends na{constructor(e,n,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,u,d),this.contentAttr=YO(d),this.hostAttr=JO(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ZO=(()=>{class t extends ml{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(B(et))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})(),sT=["alt","control","meta","shift"],XO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ek={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tk=(()=>{class t extends ml{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),sT.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=XO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),sT.forEach(o=>{if(o!==i){let c=ek[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(B(et))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function T9(t,e){return OD(k({rootComponent:t},nk(e)))}function nk(t){return{appProviders:[...ak,...t?.providers??[]],platformProviders:ok}}function rk(){rg.makeCurrent()}function ik(){return new Cn}function sk(){return kE(document),document}var ok=[{provide:xt,useValue:Kp},{provide:Ip,useValue:rk,multi:!0},{provide:et,useFactory:sk,deps:[]}];var ak=[{provide:Uu,useValue:"root"},{provide:Cn,useFactory:ik,deps:[]},{provide:ig,useClass:ZO,multi:!0,deps:[et,fe,xt]},{provide:ig,useClass:tk,multi:!0,deps:[et]},rT,aT,oT,{provide:hs,useExisting:rT},{provide:Is,useClass:qO,deps:[]},[]];var lT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(B(et))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wT=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(W(Mn),W(on))}}static{this.\u0275dir=De({type:t})}}return t})(),ua=(()=>{class t extends wT{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sn(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,features:[lt]})}}return t})(),ai=new L(""),uk={provide:ai,useExisting:_t(()=>lk),multi:!0},lk=(()=>{class t extends ua{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sn(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Bt("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[$t([uk]),lt]})}}return t})(),dk={provide:ai,useExisting:_t(()=>ET),multi:!0};function hk(){let t=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var fk=new L(""),ET=(()=>{class t extends wT{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Mn),W(on),W(fk,8))}}static{this.\u0275dir=De({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Bt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[$t([dk]),lt]})}}return t})();function wr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function DT(t){return t!=null&&typeof t.length=="number"}var la=new L(""),Al=new L(""),pk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dT=class{static min(e){return gk(e)}static max(e){return mk(e)}static required(e){return TT(e)}static requiredTrue(e){return yk(e)}static email(e){return vk(e)}static minLength(e){return _k(e)}static maxLength(e){return Ik(e)}static pattern(e){return wk(e)}static nullValidator(e){return _l(e)}static compose(e){return NT(e)}static composeAsync(e){return MT(e)}};function gk(t){return e=>{if(wr(e.value)||wr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function mk(t){return e=>{if(wr(e.value)||wr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function TT(t){return wr(t.value)?{required:!0}:null}function yk(t){return t.value===!0?null:{required:!0}}function vk(t){return wr(t.value)||pk.test(t.value)?null:{email:!0}}function _k(t){return e=>wr(e.value)||!DT(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ik(t){return e=>DT(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function wk(t){if(!t)return _l;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(wr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function _l(t){return null}function bT(t){return t!=null}function CT(t){return ri(t)?Ee(t):t}function AT(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function ST(t,e){return e.map(n=>n(t))}function Ek(t){return!t.validate}function RT(t){return t.map(e=>Ek(e)?e:n=>e.validate(n))}function NT(t){if(!t)return null;let e=t.filter(bT);return e.length==0?null:function(n){return AT(ST(n,e))}}function hg(t){return t!=null?NT(RT(t)):null}function MT(t){if(!t)return null;let e=t.filter(bT);return e.length==0?null:function(n){let r=ST(n,e).map(CT);return Wh(r).pipe(Y(AT))}}function fg(t){return t!=null?MT(RT(t)):null}function hT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xT(t){return t._rawValidators}function PT(t){return t._rawAsyncValidators}function ag(t){return t?Array.isArray(t)?t:[t]:[]}function Il(t,e){return Array.isArray(t)?t.includes(e):t===e}function fT(t,e){let n=ag(e);return ag(t).forEach(i=>{Il(n,i)||n.push(i)}),n}function pT(t,e){return ag(e).filter(n=>!Il(t,n))}var wl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Fn=class extends wl{get formDirective(){return null}get path(){return null}},oi=class extends wl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},El=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Dk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},B9=re(k({},Dk),{"[class.ng-submitted]":"isSubmitted"}),$9=(()=>{class t extends El{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(W(oi,2))}}static{this.\u0275dir=De({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&sl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[lt]})}}return t})(),H9=(()=>{class t extends El{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Fn,10))}}static{this.\u0275dir=De({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&sl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[lt]})}}return t})();var ra="VALID",vl="INVALID",Es="PENDING",ia="DISABLED",Er=class{},Dl=class extends Er{constructor(e,n){super(),this.value=e,this.source=n}},oa=class extends Er{constructor(e,n){super(),this.pristine=e,this.source=n}},aa=class extends Er{constructor(e,n){super(),this.touched=e,this.source=n}},Ds=class extends Er{constructor(e,n){super(),this.status=e,this.source=n}},cg=class extends Er{constructor(e){super(),this.source=e}},ug=class extends Er{constructor(e){super(),this.source=e}};function pg(t){return(Sl(t)?t.validators:t)||null}function Tk(t){return Array.isArray(t)?hg(t):t||null}function gg(t,e){return(Sl(e)?e.asyncValidators:t)||null}function bk(t){return Array.isArray(t)?fg(t):t||null}function Sl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function OT(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function kT(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var Ts=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=_s(()=>this.statusReactive()),this.statusReactive=vs(void 0),this._pristine=_s(()=>this.pristineReactive()),this.pristineReactive=vs(!0),this._touched=_s(()=>this.touchedReactive()),this.touchedReactive=vs(!1),this._events=new Ue,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return an(this.statusReactive)}set status(e){an(()=>this.statusReactive.set(e))}get valid(){return this.status===ra}get invalid(){return this.status===vl}get pending(){return this.status==Es}get disabled(){return this.status===ia}get enabled(){return this.status!==ia}get pristine(){return an(this.pristineReactive)}set pristine(e){an(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return an(this.touchedReactive)}set touched(e){an(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pT(e,this._rawAsyncValidators))}hasValidator(e){return Il(this._rawValidators,e)}hasAsyncValidator(e){return Il(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new aa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new aa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new oa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new oa(!0,r))}markAsPending(e={}){this.status=Es;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ds(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ia,this.errors=null,this._forEachChild(i=>{i.disable(re(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dl(this.value,r)),this._events.next(new Ds(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ra,this._forEachChild(r=>{r.enable(re(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ra||this.status===Es)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dl(this.value,n)),this._events.next(new Ds(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ia:ra}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Es,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=CT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ds(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?ia:this.errors?vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Es)?Es:this._anyControlsHaveStatus(vl)?vl:ra}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new oa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new aa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Tk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bk(this._rawAsyncValidators)}},bs=class extends Ts{constructor(e,n,r){super(pg(n),gg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){kT(this,!0,e),Object.keys(e).forEach(r=>{OT(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lg=class extends bs{};var da=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Rl}),Rl="always";function FT(t,e){return[...e.path,t]}function Tl(t,e,n=Rl){mg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ak(t,e),Rk(t,e),Sk(t,e),Ck(t,e)}function gT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Cl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ck(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function mg(t,e){let n=xT(t);e.validator!==null?t.setValidators(hT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=PT(t);e.asyncValidator!==null?t.setAsyncValidators(hT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bl(e._rawValidators,i),bl(e._rawAsyncValidators,i)}function Cl(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=xT(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=PT(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return bl(e._rawValidators,r),bl(e._rawAsyncValidators,r),n}function Ak(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LT(t,e)})}function Sk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Rk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function VT(t,e){t==null,mg(t,e)}function Nk(t,e){return Cl(t,e)}function UT(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Mk(t){return Object.getPrototypeOf(t.constructor)===ua}function jT(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function BT(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===ET?n=s:Mk(s)?r=s:i=s}),i||r||n||null}function xk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Pk={provide:Fn,useExisting:_t(()=>Ok)},sa=Promise.resolve(),Ok=(()=>{class t extends Fn{get submitted(){return an(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=_s(()=>this.submittedReactive()),this.submittedReactive=vs(!1),this._directives=new Set,this.ngSubmit=new Ce,this.form=new bs({},hg(n),fg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){sa.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Tl(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){sa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){sa.then(()=>{let r=this._findContainer(n.path),i=new bs({});VT(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){sa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){sa.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),jT(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(W(la,10),W(Al,10),W(da,8))}}static{this.\u0275dir=De({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Bt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([Pk]),lt]})}}return t})();function mT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function yT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ca=class extends Ts{constructor(e=null,n,r){super(pg(n),gg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(yT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){yT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var kk=t=>t instanceof ca;var Fk={provide:oi,useExisting:_t(()=>Lk)},vT=Promise.resolve(),Lk=(()=>{class t extends oi{constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new ca,this._registered=!1,this.name="",this.update=new Ce,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=BT(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),UT(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Tl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){vT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&yr(r);vT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?FT(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(W(Fn,9),W(la,10),W(Al,10),W(ai,10),W(ii,8),W(da,8))}}static{this.\u0275dir=De({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([Fk]),lt,rn]})}}return t})(),q9=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Vk={provide:ai,useExisting:_t(()=>Uk),multi:!0},Uk=(()=>{class t extends ua{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sn(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Bt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[$t([Vk]),lt]})}}return t})();var $T=new L("");var jk={provide:Fn,useExisting:_t(()=>Bk)},Bk=(()=>{class t extends Fn{get submitted(){return an(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=_s(()=>this._submittedReactive()),this._submittedReactive=vs(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ce,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Tl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){gT(n.control||null,n,!1),xk(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),jT(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new cg(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new ug(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(gT(r||null,n),kk(i)&&(Tl(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);VT(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Nk(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mg(this.form,this),this._oldForm&&Cl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(W(la,10),W(Al,10),W(da,8))}}static{this.\u0275dir=De({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Bt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([jk]),lt,rn]})}}return t})();var $k={provide:oi,useExisting:_t(()=>Hk)},Hk=(()=>{class t extends oi{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ce,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=BT(this,s)}ngOnChanges(n){this._added||this._setUpControl(),UT(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return FT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(W(Fn,13),W(la,10),W(Al,10),W(ai,10),W($T,8))}}static{this.\u0275dir=De({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$t([$k]),lt,rn]})}}return t})(),zk={provide:ai,useExisting:_t(()=>zT),multi:!0};function HT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function qk(t){return t.split(":")[0]}var zT=(()=>{class t extends ua{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=HT(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=qk(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sn(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Bt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([zk]),lt]})}}return t})(),G9=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(HT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(W(on),W(Mn),W(zT,9))}}static{this.\u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Gk={provide:ai,useExisting:_t(()=>qT),multi:!0};function _T(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Wk(t){return t.split(":")[0]}var qT=(()=>{class t extends ua{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let u=o[c],d=this._getOptionValue(u.value);i.push(d)}}else{let o=r.options;for(let c=0;c<o.length;c++){let u=o[c];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Wk(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sn(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Bt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([Gk]),lt]})}}return t})(),W9=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(_T(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(_T(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(W(on),W(Mn),W(qT,9))}}static{this.\u0275dir=De({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var Kk=(()=>{class t{constructor(){this._validator=_l}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_l,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,features:[rn]})}}return t})();var Qk={provide:la,useExisting:_t(()=>Yk),multi:!0};var Yk=(()=>{class t extends Kk{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=yr,this.createValidator=n=>TT}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sn(t)))(i||t)}})()}static{this.\u0275dir=De({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ko("required",i._enabled?"":null)},inputs:{required:"required"},features:[$t([Qk]),lt]})}}return t})();var GT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=nn({type:t})}static{this.\u0275inj=tn({})}}return t})(),dg=class extends Ts{constructor(e,n,r){super(pg(n),gg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){kT(this,!1,e),e.forEach((r,i)=>{OT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function IT(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var K9=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return IT(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new bs(i,s)}record(n,r=null){let i=this._reduceControls(n);return new lg(i,r)}control(n,r,i){let s={};return this.useNonNullable?(IT(r)?s=r:(s.validators=r,s.asyncValidators=i),new ca(n,re(k({},s),{nonNullable:!0}))):new ca(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new dg(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof ca)return n;if(n instanceof Ts)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Q9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:da,useValue:n.callSetDisabledState??Rl}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=nn({type:t})}static{this.\u0275inj=tn({imports:[GT]})}}return t})(),Y9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$T,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:da,useValue:n.callSetDisabledState??Rl}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=nn({type:t})}static{this.\u0275inj=tn({imports:[GT]})}}return t})();var J="primary",Ca=Symbol("RouteTitle"),wg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ms(t){return new wg(t)}function Jk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Zk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!cn(t[n],e[n]))return!1;return!0}function cn(t,e){let n=t?Eg(t):void 0,r=e?Eg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!rb(t[i],e[i]))return!1;return!0}function Eg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function rb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ib(t){return t.length>0?t[t.length-1]:null}function br(t){return Gh(t)?t:ri(t)?Ee(Promise.resolve(t)):z(t)}var Xk={exact:ob,subset:ab},sb={exact:e1,subset:t1,ignored:()=>!0};function WT(t,e,n){return Xk[n.paths](t.root,e.root,n.matrixParams)&&sb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function e1(t,e){return cn(t,e)}function ob(t,e,n){if(!ui(t.segments,e.segments)||!xl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ob(t.children[r],e.children[r],n))return!1;return!0}function t1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rb(t[n],e[n]))}function ab(t,e,n){return cb(t,e,e.segments,n)}function cb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ui(i,n)||e.hasChildren()||!xl(i,n,r))}else if(t.segments.length===n.length){if(!ui(t.segments,n)||!xl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ab(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ui(t.segments,i)||!xl(t.segments,i,r)||!t.children[J]?!1:cb(t.children[J],e,s,r)}}function xl(t,e,n){return e.every((r,i)=>sb[n](t[i].parameters,r.parameters))}var Vn=class{constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){return i1.serialize(this)}},pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pl(this)}},ci=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ms(this.parameters),this._parameterMap}toString(){return lb(this)}};function n1(t,e){return ui(t,e)&&t.every((n,r)=>cn(n.parameters,e[r].parameters))}function ui(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function r1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var Aa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>new xs,providedIn:"root"})}}return t})(),xs=class{parse(e){let n=new Tg(e);return new Vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ha(e.root,!0)}`,r=a1(e.queryParams),i=typeof e.fragment=="string"?`#${s1(e.fragment)}`:"";return`${n}${r}${i}`}},i1=new xs;function Pl(t){return t.segments.map(e=>lb(e)).join("/")}function ha(t,e){if(!t.hasChildren())return Pl(t);if(e){let n=t.children[J]?ha(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==J&&r.push(`${i}:${ha(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=r1(t,(r,i)=>i===J?[ha(t.children[J],!1)]:[`${i}:${ha(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${Pl(t)}/${n[0]}`:`${Pl(t)}/(${n.join("//")})`}}function ub(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nl(t){return ub(t).replace(/%3B/gi,";")}function s1(t){return encodeURI(t)}function Dg(t){return ub(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(t){return decodeURIComponent(t)}function KT(t){return Ol(t.replace(/\+/g,"%20"))}function lb(t){return`${Dg(t.path)}${o1(t.parameters)}`}function o1(t){return Object.entries(t).map(([e,n])=>`;${Dg(e)}=${Dg(n)}`).join("")}function a1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nl(n)}=${Nl(i)}`).join("&"):`${Nl(n)}=${Nl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var c1=/^[^\/()?;#]+/;function yg(t){let e=t.match(c1);return e?e[0]:""}var u1=/^[^\/()?;=#]+/;function l1(t){let e=t.match(u1);return e?e[0]:""}var d1=/^[^=?&#]+/;function h1(t){let e=t.match(d1);return e?e[0]:""}var f1=/^[^&#]+/;function p1(t){let e=t.match(f1);return e?e[0]:""}var Tg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new pe(e,n)),r}parseSegment(){let e=yg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new ci(Ol(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=l1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=yg(this.remaining);i&&(r=i,this.capture(r))}e[Ol(n)]=Ol(r)}parseQueryParam(e){let n=h1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=p1(this.remaining);o&&(r=o,this.capture(r))}let i=KT(n),s=KT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[J]:new pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function db(t){return t.segments.length>0?new pe([],{[J]:t}):t}function hb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=hb(i);if(r===J&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new pe(t.segments,e);return g1(n)}function g1(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new pe(t.segments.concat(e.segments),e.children)}return t}function li(t){return t instanceof Vn}function m1(t,e,n=null,r=null){let i=fb(t);return pb(i,e,n,r)}function fb(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let c=new pe(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=db(r);return e??i}function pb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return vg(i,i,i,n,r);let s=y1(e);if(s.toRoot())return vg(i,i,new pe([],{}),n,r);let o=v1(s,i,t),c=o.processChildren?ga(o.segmentGroup,o.index,s.commands):mb(o.segmentGroup,o.index,s.commands);return vg(i,o.segmentGroup,c,n,r)}function kl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function va(t){return typeof t=="object"&&t!=null&&t.outlets}function vg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;t===e?o=n:o=gb(t,e,n);let c=db(hb(o));return new Vn(c,s,i)}function gb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=gb(s,e,n)}),new pe(t.segments,r)}var Fl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kl(r[0]))throw new j(4003,!1);let i=r.find(va);if(i&&i!==ib(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function y1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Fl(n,e,r)}var Ss=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function v1(t,e,n){if(t.isAbsolute)return new Ss(e,!0,0);if(!n)return new Ss(e,!1,NaN);if(n.parent===null)return new Ss(n,!0,0);let r=kl(t.commands[0])?0:1,i=n.segments.length-1+r;return _1(n,i,t.numberOfDoubleDots)}function _1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Ss(r,!1,i-s)}function I1(t){return va(t[0])?t[0].outlets:{[J]:t}}function mb(t,e,n){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return ga(t,e,n);let r=w1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new pe(t.segments.slice(0,r.pathIndex),{});return s.children[J]=new pe(t.segments.slice(r.pathIndex),t.children),ga(s,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?bg(t,e,n):r.match?ga(t,0,i):bg(t,e,n)}function ga(t,e,n){if(n.length===0)return new pe(t.segments,{});{let r=I1(n),i={};if(Object.keys(r).some(s=>s!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let s=ga(t.children[J],e,n);return new pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=mb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new pe(t.segments,i)}}function w1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(va(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!YT(u,d,o))return s;r+=2}else{if(!YT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(va(s)){let u=E1(s.outlets);return new pe(r,u)}if(i===0&&kl(n[0])){let u=t.segments[e];r.push(new ci(u.path,QT(n[0]))),i++;continue}let o=va(s)?s.outlets[J]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&kl(c)?(r.push(new ci(o,QT(c))),i+=2):(r.push(new ci(o,{})),i++)}return new pe(r,{})}function E1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=bg(new pe([],{}),0,r))}),e}function QT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function YT(t,e,n){return t==n.path&&cn(e,n.parameters)}var ma="imperative",je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(je||{}),Pt=class{constructor(e,n){this.id=e,this.url=n}},Ps=class extends Pt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends Pt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(wt||{}),Ll=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ll||{}),Ln=class extends Pt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends Pt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=je.NavigationSkipped}},_a=class extends Pt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vl=class extends Pt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cg=class extends Pt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ag=class extends Pt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sg=class extends Pt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rg=class extends Pt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ng=class{constructor(e){this.route=e,this.type=je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mg=class{constructor(e){this.route=e,this.type=je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xg=class{constructor(e){this.snapshot=e,this.type=je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pg=class{constructor(e){this.snapshot=e,this.type=je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Og=class{constructor(e){this.snapshot=e,this.type=je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kg=class{constructor(e){this.snapshot=e,this.type=je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ul=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=je.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ia=class{},Os=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function D1(t,e){return t.providers&&!t._injector&&(t._injector=il(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ht(t){return t.outlet||J}function T1(t,e){let n=t.filter(r=>Ht(r)===e);return n.push(...t.filter(r=>Ht(r)!==e)),n}function Sa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Fg=class{get injector(){return Sa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ra(this.rootInjector),this.attachRef=null}},Ra=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(B(ct))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Lg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Lg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Vg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vg(e,this._root).map(n=>n.value)}};function Lg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Lg(t,n);if(r)return r}return null}function Vg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Vg(t,n);if(r.length)return r.unshift(e),r}return[]}var It=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function As(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Bl=class extends jl{constructor(e,n){super(e),this.snapshot=n,Wg(this,e)}toString(){return this.snapshot.toString()}};function yb(t){let e=b1(t),n=new qe([new ci("",{})]),r=new qe({}),i=new qe({}),s=new qe({}),o=new qe(""),c=new Tr(n,r,s,o,i,J,t,e.root);return c.snapshot=e.root,new Bl(new It(c,[]),e)}function b1(t){let e={},n={},r={},i="",s=new Rs([],e,r,i,n,J,t,null,{});return new Hl("",new It(s,[]))}var Tr=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(d=>d[Ca]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $l(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&_b(i)&&(r.resolve[Ca]=i.title),r}var Rs=class{get title(){return this.data?.[Ca]}constructor(e,n,r,i,s,o,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Hl=class extends jl{constructor(e,n){super(n),this.url=e,Wg(this,n)}toString(){return vb(this._root)}};function Wg(t,e){e.value._routerState=t,e.children.forEach(n=>Wg(t,n))}function vb(t){let e=t.children.length>0?` { ${t.children.map(vb).join(", ")} } `:"";return`${t.value}${e}`}function _g(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,cn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),cn(e.params,n.params)||t.paramsSubject.next(n.params),Zk(e.url,n.url)||t.urlSubject.next(n.url),cn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ug(t,e){let n=cn(t.params,e.params)&&n1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ug(t.parent,e.parent))}function _b(t){return typeof t.title=="string"||t.title===null}var C1=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Ce,this.deactivateEvents=new Ce,this.attachEvents=new Ce,this.detachEvents=new Ce,this.parentContexts=M(Ra),this.location=M(ys),this.changeDetector=M(ii),this.inputBinder=M(Wl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new jg(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=De({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rn]})}}return t})(),jg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Tr?this.route:e===Ra?this.childContexts:this.parent.get(e,n)}},Wl=new L(""),JT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Oo([r.queryParams,r.params,r.data]).pipe(gt(([s,o,c],u)=>(c=k(k(k({},s),o),c),u===0?z(c):Promise.resolve(c)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=kD(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of o.inputs)n.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function A1(t,e,n){let r=wa(t,e._root,n?n._root:void 0);return new Bl(r,e)}function wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=S1(t,e,n);return new It(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>wa(t,c)),o}}let r=R1(e.value),i=e.children.map(s=>wa(t,s));return new It(r,i)}}function S1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wa(t,r,i);return wa(t,r)})}function R1(t){return new Tr(new qe(t.url),new qe(t.params),new qe(t.queryParams),new qe(t.fragment),new qe(t.data),t.outlet,t.component,t)}var Ea=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Ib="ngNavigationCancelingError";function zl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wb(!1,wt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function wb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ib]=!0,n.cancellationCode=e,n}function N1(t){return Eb(t)&&li(t.url)}function Eb(t){return!!t&&t[Ib]}var M1=(t,e,n,r)=>Y(i=>(new Bg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Bg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_g(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=As(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=As(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=As(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=As(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new kg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Pg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(_g(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),_g(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},ql=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ns=class{constructor(e,n){this.component=e,this.route=n}};function x1(t,e,n){let r=t._root,i=e?e._root:null;return fa(r,i,n,[r.value])}function P1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Fs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ww(t)?t:e.get(t):r}function fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=As(e);return t.children.forEach(o=>{O1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ya(c,n.getContext(o),i)),i}function O1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=k1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ql(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fa(t,e,c?c.children:null,r,i):fa(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Ns(c.outlet.component,o))}else o&&ya(e,c,i),i.canActivateChecks.push(new ql(r)),s.component?fa(t,null,c?c.children:null,r,i):fa(t,null,n,r,i);return i}function k1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ui(t.url,e.url)||!cn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ug(t,e)||!cn(t.queryParams,e.queryParams);case"paramsChange":default:return!Ug(t,e)}}function ya(t,e,n){let r=As(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ya(o,e.children.getContext(s),n):ya(o,null,n):ya(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ns(e.outlet.component,i)):n.canDeactivateChecks.push(new Ns(null,i)):n.canDeactivateChecks.push(new Ns(null,i))}function Na(t){return typeof t=="function"}function F1(t){return typeof t=="boolean"}function L1(t){return t&&Na(t.canLoad)}function V1(t){return t&&Na(t.canActivate)}function U1(t){return t&&Na(t.canActivateChild)}function j1(t){return t&&Na(t.canDeactivate)}function B1(t){return t&&Na(t.canMatch)}function Db(t){return t instanceof En||t?.name==="EmptyError"}var Ml=Symbol("INITIAL_VALUE");function ks(){return gt(t=>Oo(t.map(e=>e.pipe(bn(1),Jh(Ml)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===Ml)return Ml;if(n===!1||$1(n))return n}return!0}),pt(e=>e!==Ml),bn(1)))}function $1(t){return li(t)||t instanceof Ea}function H1(t,e){return Me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?z(re(k({},n),{guardsResult:!0})):z1(o,r,i,t).pipe(Me(c=>c&&F1(c)?q1(r,s,t,e):z(c)),Y(c=>re(k({},n),{guardsResult:c})))})}function z1(t,e,n,r){return Ee(t).pipe(Me(i=>Y1(i.component,i.route,n,e,r)),Wt(i=>i!==!0,!0))}function q1(t,e,n,r){return Ee(e).pipe(Tn(i=>Wi(W1(i.route.parent,r),G1(i.route,r),Q1(t,i.path,n),K1(t,i.route,n))),Wt(i=>i!==!0,!0))}function G1(t,e){return t!==null&&e&&e(new Og(t)),z(!0)}function W1(t,e){return t!==null&&e&&e(new xg(t)),z(!0)}function K1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(s=>Xc(()=>{let o=Sa(e)??n,c=Fs(s,o),u=V1(c)?c.canActivate(e,t):Nt(o,()=>c(e,t));return br(u).pipe(Wt())}));return z(i).pipe(ks())}function Q1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>P1(o)).filter(o=>o!==null).map(o=>Xc(()=>{let c=o.guards.map(u=>{let d=Sa(o.node)??n,f=Fs(u,d),g=U1(f)?f.canActivateChild(r,t):Nt(d,()=>f(r,t));return br(g).pipe(Wt())});return z(c).pipe(ks())}));return z(s).pipe(ks())}function Y1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return z(!0);let o=s.map(c=>{let u=Sa(e)??i,d=Fs(c,u),f=j1(d)?d.canDeactivate(t,e,n,r):Nt(u,()=>d(t,e,n,r));return br(f).pipe(Wt())});return z(o).pipe(ks())}function J1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let s=i.map(o=>{let c=Fs(o,t),u=L1(c)?c.canLoad(e,n):Nt(t,()=>c(e,n));return br(u)});return z(s).pipe(ks(),Tb(r))}function Tb(t){return Vh(xe(e=>{if(typeof e!="boolean")throw zl(t,e)}),Y(e=>e===!0))}function Z1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let s=i.map(o=>{let c=Fs(o,t),u=B1(c)?c.canMatch(e,n):Nt(t,()=>c(e,n));return br(u)});return z(s).pipe(ks(),Tb(r))}var Da=class{constructor(e){this.segmentGroup=e||null}},Ta=class extends Error{constructor(e){super(),this.urlTree=e}};function Cs(t){return qi(new Da(t))}function X1(t){return qi(new j(4e3,!1))}function eF(t){return qi(wb(!1,wt.GuardRejected))}var $g=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[J])return X1(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,params:I,data:A,title:N}=i,R=Nt(s,()=>c({params:I,data:A,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,title:N}));if(R instanceof Vn)throw new Ta(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ta(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Vn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tF(t,e,n,r,i){let s=bb(t,e,n);return s.matched?(r=D1(e,r),Z1(r,e,n,i).pipe(Y(o=>o===!0?s:k({},Hg)))):z(s)}function bb(t,e,n){if(e.path==="**")return nF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Hg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Jk)(n,t,e);if(!i)return k({},Hg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nF(t){return{matched:!0,parameters:t.length>0?ib(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZT(t,e,n,r){return n.length>0&&sF(t,n,r)?{segmentGroup:new pe(e,iF(r,new pe(n,t.children))),slicedSegments:[]}:n.length===0&&oF(t,n,r)?{segmentGroup:new pe(t.segments,rF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function rF(t,e,n,r){let i={};for(let s of n)if(Kl(t,e,s)&&!r[Ht(s)]){let o=new pe([],{});i[Ht(s)]=o}return k(k({},r),i)}function iF(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Ht(r)!==J){let i=new pe([],{});n[Ht(r)]=i}return n}function sF(t,e,n){return n.some(r=>Kl(t,e,r)&&Ht(r)!==J)}function oF(t,e,n){return n.some(r=>Kl(t,e,r))}function Kl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aF(t,e,n){return e.length===0&&!t.children[n]}var zg=class{};function cF(t,e,n,r,i,s,o="emptyOnly"){return new qg(t,e,n,r,i,o,s).recognize()}var uF=31,qg=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new $g(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:n,rootSnapshot:r})=>{let i=new It(r,n),s=new Hl("",i),o=m1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Rs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,n).pipe(Y(r=>({children:r,rootSnapshot:n})),Dn(r=>{if(r instanceof Ta)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Da?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Y(o=>o instanceof It?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ee(s).pipe(Tn(o=>{let c=r.children[o],u=T1(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Yh((o,c)=>(o.push(...c),o)),ir(null),Qh(),Me(o=>{if(o===null)return Cs(r);let c=Cb(o);return lF(c),z(c)}))}processSegment(e,n,r,i,s,o,c){return Ee(n).pipe(Tn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(Dn(d=>{if(d instanceof Da)return z(null);throw d}))),Wt(u=>!!u),Dn(u=>{if(Db(u))return aF(r,i,s)?z(new zg):Cs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Ht(r)!==o&&(o===J||!Kl(i,s,r))?Cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=bb(n,i,s);if(!u)return Cs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uF&&(this.allowRedirects=!1));let I=new Rs(s,d,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,XT(i),Ht(i),i.component??i._loadedComponent??null,i,eb(i)),A=$l(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Me(R=>this.processSegment(e,r,n,R.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=tF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(gt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(gt(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,A=new Rs(_,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,XT(r),Ht(r),r.component??r._loadedComponent??null,r,eb(r)),N=$l(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=ZT(n,_,I,d);if(F.length===0&&R.hasChildren())return this.processChildren(f,d,R,A).pipe(Y(U=>new It(A,U)));if(d.length===0&&F.length===0)return z(new It(A,[]));let q=Ht(r)===s;return this.processSegment(f,d,R,F,q?J:s,!0,A).pipe(Y(U=>new It(A,U instanceof It?[U]:[])))}))):Cs(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):J1(e,n,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,n).pipe(xe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):eF(n))):z({routes:[],injector:e})}};function lF(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function dF(t){let e=t.value.routeConfig;return e&&e.path===""}function Cb(t){let e=[],n=new Set;for(let r of t){if(!dF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Cb(r.children);e.push(new It(r.value,i))}return e.filter(r=>!n.has(r))}function XT(t){return t.data||{}}function eb(t){return t.resolve||{}}function hF(t,e,n,r,i,s){return Me(o=>cF(t,e,n,r,o.extractedUrl,i,s).pipe(Y(({state:c,tree:u})=>re(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function fF(t,e){return Me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of Ab(u))o.add(d);let c=0;return Ee(o).pipe(Tn(u=>s.has(u)?pF(u,r,t,e):(u.data=$l(u,u.parent,t).resolve,z(void 0))),xe(()=>c++),Ki(1),Me(u=>c===o.size?z(n):vt))})}function Ab(t){let e=t.children.map(n=>Ab(n)).flat();return[t,...e]}function pF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!_b(i)&&(s[Ca]=i.title),gF(s,t,e,r).pipe(Y(o=>(t._resolvedData=o,t.data=$l(t,t.parent,n).resolve,null)))}function gF(t,e,n,r){let i=Eg(t);if(i.length===0)return z({});let s={};return Ee(i).pipe(Me(o=>mF(t[o],e,n,r).pipe(Wt(),xe(c=>{if(c instanceof Ea)throw zl(new xs,c);s[o]=c}))),Ki(1),Kh(s),Dn(o=>Db(o)?vt:qi(o)))}function mF(t,e,n,r){let i=Sa(e)??r,s=Fs(t,i),o=s.resolve?s.resolve(e,n):Nt(i,()=>s(e,n));return br(o)}function Ig(t){return gt(e=>{let n=t(e);return n?Ee(n).pipe(Y(()=>e)):z(e)})}var Sb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===J);return r}getResolvedTitleForRoute(n){return n.data[Ca]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(yF),providedIn:"root"})}}return t})(),yF=(()=>{class t extends Sb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(B(lT))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ma=new L("",{providedIn:"root",factory:()=>({})}),vF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ow({type:t,selectors:[["ng-component"]],standalone:!0,features:[AD],decls:1,vars:0,template:function(r,i){r&1&&Vp(0,"router-outlet")},dependencies:[C1],encapsulation:2})}}return t})();function Kg(t){let e=t.children&&t.children.map(Kg),n=e?re(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=vF),n}var ba=new L(""),Qg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(cl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=br(n.loadComponent()).pipe(Y(Rb),xe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Wr(()=>{this.componentLoaders.delete(n)})),i=new Bi(r,()=>new Ue).pipe(ji());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=_F(r,this.compiler,n,this.onLoadEndListener).pipe(Wr(()=>{this.childrenLoaders.delete(r)})),o=new Bi(s,()=>new Ue).pipe(ji());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _F(t,e,n,r){return br(t.loadChildren()).pipe(Y(Rb),Me(i=>i instanceof Bo||Array.isArray(i)?z(i):Ee(e.compileModuleAsync(i))),Y(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(ba,[],{optional:!0,self:!0}).flat()),{routes:o.map(Kg),injector:s}}))}function IF(t){return t&&typeof t=="object"&&"default"in t}function Rb(t){return IF(t)?t.default:t}var Yg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(wF),providedIn:"root"})}}return t})(),wF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nb=new L(""),Mb=new L("");function EF(t,e,n){let r=t.get(Mb),i=t.get(et);return t.get(fe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),c=i.startViewTransition(()=>(s(),DF(t))),{onViewTransitionCreated:u}=r;return u&&Nt(t,()=>u({transition:c,from:e,to:n})),o})}function DF(t){return new Promise(e=>{Lp({read:()=>setTimeout(e)},{injector:t})})}var TF=new L(""),Jg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ue,this.transitionAbortSubject=new Ue,this.configLoader=M(Qg),this.environmentInjector=M(ct),this.urlSerializer=M(Aa),this.rootContexts=M(Ra),this.location=M(ws),this.inputBindingEnabled=M(Wl,{optional:!0})!==null,this.titleStrategy=M(Sb),this.options=M(Ma,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(Yg),this.createViewTransition=M(Nb,{optional:!0}),this.navigationErrorHandler=M(TF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Ng(i)),r=i=>this.events.next(new Mg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(re(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ma,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pt(s=>s.id!==0),Y(s=>re(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),gt(s=>{let o=!1,c=!1;return z(s).pipe(gt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",wt.SupersededByNewNavigation),vt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?re(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new Dr(u.id,this.urlSerializer.serialize(u.rawUrl),g,Ll.IgnoredSameUrlNavigation)),u.resolve(!1),vt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return z(u).pipe(gt(g=>{let _=this.transitions?.getValue();return this.events.next(new Ps(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?vt:Promise.resolve(g)}),hF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=re(k({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Vl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:A,extras:N}=u,R=new Ps(g,this.urlSerializer.serialize(_),I,A);this.events.next(R);let F=yb(this.rootComponentType).snapshot;return this.currentTransition=s=re(k({},u),{targetSnapshot:F,urlAfterRedirects:_,extras:re(k({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,z(s)}else{let g="";return this.events.next(new Dr(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Ll.IgnoredByUrlHandlingStrategy)),u.resolve(!1),vt}}),xe(u=>{let d=new Cg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Y(u=>(this.currentTransition=s=re(k({},u),{guards:x1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),H1(this.environmentInjector,u=>this.events.next(u)),xe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw zl(this.urlSerializer,u.guardsResult);let d=new Ag(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",wt.GuardRejected),!1)),Ig(u=>{if(u.guards.canActivateChecks.length)return z(u).pipe(xe(d=>{let f=new Sg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),gt(d=>{let f=!1;return z(d).pipe(fF(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",wt.NoDataFromResolver)}}))}),xe(d=>{let f=new Rg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),Ig(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(xe(_=>{f.component=_}),Y(()=>{})));for(let _ of f.children)g.push(...d(_));return g};return Oo(d(u.targetSnapshot.root)).pipe(ir(null),bn(1))}),Ig(()=>this.afterPreactivation()),gt(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Ee(f).pipe(Y(()=>s)):z(s)}),Y(u=>{let d=A1(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=re(k({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),xe(()=>{this.events.next(new Ia)}),M1(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),bn(1),xe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Zh(this.transitionAbortSubject.pipe(xe(u=>{throw u}))),Wr(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",wt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dn(u=>{if(c=!0,Eb(u))this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),N1(u)?this.events.next(new Os(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new _a(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=Nt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Ea){let{message:g,cancellationCode:_}=zl(this.urlSerializer,f);this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new Os(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return vt}))}))}cancelNavigationTransition(n,r,i){let s=new Ln(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function bF(t){return t!==ma}var CF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(AF),providedIn:"root"})}}return t})(),Gg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AF=(()=>{class t extends Gg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sn(t)))(i||t)}})()}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:()=>M(SF),providedIn:"root"})}}return t})(),SF=(()=>{class t extends xb{constructor(){super(...arguments),this.location=M(ws),this.urlSerializer=M(Aa),this.options=M(Ma,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(Yg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=yb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ps)this.stateMemento=this.createStateMemento();else if(n instanceof Dr)this.rawUrlTree=r.initialUrl;else if(n instanceof Vl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ia?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Ln&&(n.code===wt.GuardRejected||n.code===wt.NoDataFromResolver)?this.restoreHistory(r):n instanceof _a?this.restoreHistory(r,!0):n instanceof un&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Vn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sn(t)))(i||t)}})()}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pa||{});function Pb(t,e){t.events.pipe(pt(n=>n instanceof un||n instanceof Ln||n instanceof _a||n instanceof Dr),Y(n=>n instanceof un||n instanceof Dr?pa.COMPLETE:(n instanceof Ln?n.code===wt.Redirect||n.code===wt.SupersededByNewNavigation:!1)?pa.REDIRECTING:pa.FAILED),pt(n=>n!==pa.REDIRECTING),bn(1)).subscribe(()=>{e()})}function RF(t){throw t}var NF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=M(ol),this.stateManager=M(xb),this.options=M(Ma,{optional:!0})||{},this.pendingTasks=M(pr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(Jg),this.urlSerializer=M(Aa),this.location=M(ws),this.urlHandlingStrategy=M(Yg),this._events=new Ue,this.errorHandler=this.options.errorHandler||RF,this.navigated=!1,this.routeReuseStrategy=M(CF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(ba,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(Wl,{optional:!0}),this.eventsSubscription=new be,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ln&&r.code!==wt.Redirect&&r.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof un)this.navigated=!0;else if(r instanceof Os){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bF(i.source)},o);this.scheduleNavigation(c,ma,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}PF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Kg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=fb(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return pb(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=li(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ma,null,r)}navigate(n,r={skipLocationChange:!1}){return xF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},NF):r===!1?i=k({},MF):i=r,li(n))return WT(this.currentUrlTree,n,i);let s=this.parseUrl(n);return WT(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{c=g,u=_});let f=this.pendingTasks.add();return Pb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function PF(t){return!(t instanceof Ia)&&!(t instanceof Os)}var v3=(()=>{class t{constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new Ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(li(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:VE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(W(zt),W(Tr),gp("tabindex"),W(Mn),W(on),W(On))}}static{this.\u0275dir=De({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Bt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Ko("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",yr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",yr],replaceUrl:[2,"replaceUrl","replaceUrl",yr],routerLink:"routerLink"},standalone:!0,features:[Fp,rn]})}}return t})();var Gl=class{};var OF=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(pt(n=>n instanceof un),Tn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=il(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ee(i).pipe(Gi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=z(null);let s=i.pipe(Me(o=>o===null?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ee([s,o]).pipe(Gi())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(B(zt),B(cl),B(ct),B(Gl),B(Qg))}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ob=new L(""),kF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ps?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof un?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Dr&&n.code===Ll.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ul&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ul(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){JE()}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac})}}return t})();function _3(t,...e){return Rt([{provide:ba,multi:!0,useValue:t},[],{provide:Tr,useFactory:kb,deps:[zt]},{provide:Qo,multi:!0,useFactory:Fb},e.map(n=>n.\u0275providers)])}function kb(t){return t.routerState.root}function xa(t,e){return{\u0275kind:t,\u0275providers:e}}function Fb(){let t=M(Ge);return e=>{let n=t.get(mr);if(e!==n.components[0])return;let r=t.get(zt),i=t.get(Lb);t.get(Zg)===1&&r.initialNavigation(),t.get(Vb,null,X.Optional)?.setUpPreloading(),t.get(Ob,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Lb=new L("",{factory:()=>new Ue}),Zg=new L("",{providedIn:"root",factory:()=>1});function FF(){return xa(2,[{provide:Zg,useValue:0},{provide:al,multi:!0,deps:[Ge],useFactory:e=>{let n=e.get($D,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(zt),s=e.get(Lb);Pb(i,()=>{r(!0)}),e.get(Jg).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}])}function LF(){return xa(3,[{provide:al,multi:!0,useFactory:()=>{let e=M(zt);return()=>{e.setUpLocationChangeListener()}}},{provide:Zg,useValue:2}])}var Vb=new L("");function VF(t){return xa(0,[{provide:Vb,useExisting:OF},{provide:Gl,useExisting:t}])}function UF(){return xa(8,[JT,{provide:Wl,useExisting:JT}])}function jF(t){let e=[{provide:Nb,useValue:EF},{provide:Mb,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return xa(9,e)}var tb=new L("ROUTER_FORROOT_GUARD"),BF=[ws,{provide:Aa,useClass:xs},zt,Ra,{provide:Tr,useFactory:kb,deps:[zt]},Qg,[]],I3=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[BF,[],{provide:ba,multi:!0,useValue:n},{provide:tb,useFactory:qF,deps:[[zt,new Je,new ip]]},{provide:Ma,useValue:r||{}},r?.useHash?HF():zF(),$F(),r?.preloadingStrategy?VF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?GF(r):[],r?.bindToComponentInputs?UF().\u0275providers:[],r?.enableViewTransitions?jF().\u0275providers:[],WF()]}}static forChild(n){return{ngModule:t,providers:[{provide:ba,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(B(tb,8))}}static{this.\u0275mod=nn({type:t})}static{this.\u0275inj=tn({})}}return t})();function $F(){return{provide:Ob,useFactory:()=>{let t=M(qD),e=M(fe),n=M(Ma),r=M(Jg),i=M(Aa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new kF(i,r,t,e,n)}}}function HF(){return{provide:On,useClass:zD}}function zF(){return{provide:On,useClass:Wp}}function qF(t){return"guarded"}function GF(t){return[t.initialNavigation==="disabled"?LF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?FF().\u0275providers:[]]}var nb=new L("");function WF(){return[{provide:nb,useFactory:Fb},{provide:Qo,multi:!0,useExisting:nb}]}var jb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|d>>6,I=d&63;u||(I=64,o||(_=64)),r.push(n[f],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new em;let _=s<<2|c>>4;if(r.push(_),d!==64){let I=c<<4&240|d>>2;if(r.push(I),g!==64){let A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},em=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},YF=function(t){let e=jb(t);return Bb.encodeByteArray(e,!0)},Pa=function(t){return YF(t).replace(/\./g,"")},nm=function(t){try{return Bb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ZF=()=>JF().__FIREBASE_DEFAULTS__,XF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&nm(t[1]);return e&&JSON.parse(e)},Yl=()=>{try{return ZF()||XF()||eL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rm=t=>{var e,n;return(n=(e=Yl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$b=t=>{let e=rm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},im=()=>{var t;return(t=Yl())===null||t===void 0?void 0:t.config},sm=t=>{var e;return(e=Yl())===null||e===void 0?void 0:e[`_${t}`]};var Ql=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Hb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pa(JSON.stringify(n)),Pa(JSON.stringify(o)),""].join(".")}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function tL(){var t;let e=(t=Yl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){let t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qb(){return!tL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function om(){try{return typeof indexedDB=="object"}catch{return!1}}function Yb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var nL="FirebaseError",Et=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rL(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Et(i,c,r)}};function rL(t,e){return t.replace(iL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var iL=/\{\$([^}]+)}/g;function Jb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function di(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Ub(s)&&Ub(o)){if(!di(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Ub(t){return t!==null&&typeof t=="object"}function Oa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ls(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Zb(t,e){let n=new tm(t,e);return n.subscribe.bind(n)}var tm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xg),i.error===void 0&&(i.error=Xg),i.complete===void 0&&(i.complete=Xg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}var E3=4*60*60*1e3;function dt(t){return t&&t._delegate?t._delegate:t}var Ot=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hi="[DEFAULT]";var am=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ql;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aL(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oL(t){return t===hi?void 0:t}function aL(t){return t.instantiationMode==="EAGER"}var Jl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new am(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var cL=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),uL={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},lL=ae.INFO,dL={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},hL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=dL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cr=class{constructor(e){this.name=e,this._logLevel=lL,this._logHandler=hL,this._userLogHandler=null,cL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var fL=(t,e)=>e.some(n=>t instanceof n),Xb,eC;function pL(){return Xb||(Xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gL(){return eC||(eC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tC=new WeakMap,um=new WeakMap,nC=new WeakMap,cm=new WeakMap,dm=new WeakMap;function mL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ln(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tC.set(n,t)}).catch(()=>{}),dm.set(e,t),e}function yL(t){if(um.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});um.set(t,e)}var lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rC(t){lm=t(lm)}function vL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Zl(this),e,...n);return nC.set(r,e.sort?e.sort():[e]),ln(r)}:gL().includes(t)?function(...e){return t.apply(Zl(this),e),ln(tC.get(this))}:function(...e){return ln(t.apply(Zl(this),e))}}function _L(t){return typeof t=="function"?vL(t):(t instanceof IDBTransaction&&yL(t),fL(t,pL())?new Proxy(t,lm):t)}function ln(t){if(t instanceof IDBRequest)return mL(t);if(cm.has(t))return cm.get(t);let e=_L(t);return e!==t&&(cm.set(t,e),dm.set(e,t)),e}var Zl=t=>dm.get(t);function sC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=ln(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ln(o.result),u.oldVersion,u.newVersion,ln(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var IL=["get","getKey","getAll","getAllKeys","count"],wL=["put","add","delete","clear"],hm=new Map;function iC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=wL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IL.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return hm.set(e,s),s}rC(t=>re(k({},t),{get:(e,n,r)=>iC(e,n)||t.get(e,n,r),has:(e,n)=>!!iC(e,n)||t.has(e,n)}));var pm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function EL(t){let e=t.getComponent();return e?.type==="VERSION"}var gm="@firebase/app",oC="0.10.13";var jn=new Cr("@firebase/app"),DL="@firebase/app-compat",TL="@firebase/analytics-compat",bL="@firebase/analytics",CL="@firebase/app-check-compat",AL="@firebase/app-check",SL="@firebase/auth",RL="@firebase/auth-compat",NL="@firebase/database",ML="@firebase/data-connect",xL="@firebase/database-compat",PL="@firebase/functions",OL="@firebase/functions-compat",kL="@firebase/installations",FL="@firebase/installations-compat",LL="@firebase/messaging",VL="@firebase/messaging-compat",UL="@firebase/performance",jL="@firebase/performance-compat",BL="@firebase/remote-config",$L="@firebase/remote-config-compat",HL="@firebase/storage",zL="@firebase/storage-compat",qL="@firebase/firestore",GL="@firebase/vertexai-preview",WL="@firebase/firestore-compat",KL="firebase",QL="10.14.1";var mm="[DEFAULT]",YL={[gm]:"fire-core",[DL]:"fire-core-compat",[bL]:"fire-analytics",[TL]:"fire-analytics-compat",[AL]:"fire-app-check",[CL]:"fire-app-check-compat",[SL]:"fire-auth",[RL]:"fire-auth-compat",[NL]:"fire-rtdb",[ML]:"fire-data-connect",[xL]:"fire-rtdb-compat",[PL]:"fire-fn",[OL]:"fire-fn-compat",[kL]:"fire-iid",[FL]:"fire-iid-compat",[LL]:"fire-fcm",[VL]:"fire-fcm-compat",[UL]:"fire-perf",[jL]:"fire-perf-compat",[BL]:"fire-rc",[$L]:"fire-rc-compat",[HL]:"fire-gcs",[zL]:"fire-gcs-compat",[qL]:"fire-fst",[WL]:"fire-fst-compat",[GL]:"fire-vertex","fire-js":"fire-js",[KL]:"fire-js-all"};var ka=new Map,JL=new Map,ym=new Map;function aC(t,e){try{t.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){let e=t.name;if(ym.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,t);for(let n of ka.values())aC(n,t);for(let n of JL.values())aC(n,t);return!0}function La(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qt(t){return t.settings!==void 0}var ZL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Un("app","Firebase",ZL);var vm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}};var Rr=QL;function wm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=im()),!n)throw Ar.create("no-options");let s=ka.get(i);if(s){if(di(n,s.options)&&di(r,s.config))return s;throw Ar.create("duplicate-app",{appName:i})}let o=new Jl(i);for(let u of ym.values())o.addComponent(u);let c=new vm(n,r,o);return ka.set(i,c),c}function Us(t=mm){let e=ka.get(t);if(!e&&t===mm&&im())return wm();if(!e)throw Ar.create("no-app",{appName:t});return e}function Xl(){return Array.from(ka.values())}function Ve(t,e,n){var r;let i=(r=YL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(c.join(" "));return}Sr(new Ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var XL="firebase-heartbeat-database",eV=1,Fa="firebase-heartbeat-store",fm=null;function dC(){return fm||(fm=sC(XL,eV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ar.create("idb-open",{originalErrorMessage:t.message})})),fm}function tV(t){return w(this,null,function*(){try{let n=(yield dC()).transaction(Fa),r=yield n.objectStore(Fa).get(hC(t));return yield n.done,r}catch(e){if(e instanceof Et)jn.warn(e.message);else{let n=Ar.create("idb-get",{originalErrorMessage:e?.message});jn.warn(n.message)}}})}function cC(t,e){return w(this,null,function*(){try{let r=(yield dC()).transaction(Fa,"readwrite");yield r.objectStore(Fa).put(e,hC(t)),yield r.done}catch(n){if(n instanceof Et)jn.warn(n.message);else{let r=Ar.create("idb-set",{originalErrorMessage:n?.message});jn.warn(r.message)}}})}function hC(t){return`${t.name}!${t.options.appId}`}var nV=1024,rV=30*24*60*60*1e3,_m=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Im(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=rV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=uC(),{heartbeatsToSend:r,unsentEntries:i}=iV(this._heartbeatsCache.heartbeats),s=Pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return jn.warn(n),""}})}};function uC(){return new Date().toISOString().substring(0,10)}function iV(t,e=nV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Im=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return om()?Yb().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield tV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lC(t){return Pa(JSON.stringify({version:2,heartbeats:t})).length}function sV(t){Sr(new Ot("platform-logger",e=>new pm(e),"PRIVATE")),Sr(new Ot("heartbeat",e=>new _m(e),"PRIVATE")),Ve(gm,oC,t),Ve(gm,oC,"esm2017"),Ve("fire-js","")}sV("");var oV="firebase",aV="10.14.1";Ve(oV,aV,"app");var pi=new Sn("ANGULARFIRE2_VERSION");function td(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Va=(t,e)=>{let n=e?[e]:Xl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Bs=class{constructor(){return Va(cV)}},cV="app-check";function js(){}var ed=class{zone;delegate;constructor(e,n=zh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Em=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",js,{},js,js)),n.pipe(xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$s=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ed(Zone.current)),this.insideAngular=n.run(()=>new ed(Zone.current,Hh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(B(fe))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function uV(t){return nd().ngZone.runOutsideAngular(()=>t())}function fi(t){return nd().ngZone.run(()=>t())}function lV(t){return dV(nd())(t)}function dV(t){return function(n){return n=n.lift(new Em(t.ngZone)),n.pipe(rr(t.outsideAngular),nr(t.insideAngular))}}var hV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),fi(()=>t.apply(void 0,r))},Gt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=fi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",js,{},js,js))),r[s]=hV(r[s],n));let i=uV(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=nd();return i.pipe(rr(s.outsideAngular),nr(s.insideAngular))}else return fi(()=>i);return i instanceof ie?i.pipe(lV):i instanceof Promise?fi(()=>new Promise((s,o)=>i.then(c=>fi(()=>s(c)),c=>fi(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:fi(()=>i)};var Bn=class{constructor(e){return e}},gi=class{constructor(){return Xl()}};function fV(t){return t&&t.length===1?t[0]:new Bn(Us())}var Dm=new L("angularfire2._apps"),pV={provide:Bn,useFactory:fV,deps:[[new Je,Dm]]},gV={provide:gi,deps:[[new Je,Dm]]};function mV(t){return(e,n)=>{let r=n.get(xt);Ve("angularfire",pi.full,"core"),Ve("angularfire",pi.full,"app"),Ve("angular",SD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Bn(i)}}function c6(t,...e){return Rt([pV,gV,{provide:Dm,useFactory:mV(t),multi:!0,deps:[fe,Ge,$s,...e]}])}var u6=Gt(wm,!0);function RC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NC=RC,MC=new Un("auth","Firebase",RC());var cd=new Cr("@firebase/auth");function yV(t,...e){cd.logLevel<=ae.WARN&&cd.warn(`Auth (${Rr}): ${t}`,...e)}function id(t,...e){cd.logLevel<=ae.ERROR&&cd.error(`Auth (${Rr}): ${t}`,...e)}function hn(t,...e){throw Gm(t,...e)}function mi(t,...e){return Gm(t,...e)}function xC(t,e,n){let r=Object.assign(Object.assign({},NC()),{[e]:n});return new Un("auth","Firebase",r).create(e,{appName:t.name})}function zn(t){return xC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MC.create(t,...e)}function G(t,e,...n){if(!t)throw Gm(e,...n)}function $n(t){let e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function Mr(t,e){t||$n(e)}function Am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vV(){return fC()==="http:"||fC()==="https:"}function fC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function _V(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vV()||Gb()||"connection"in navigator)?navigator.onLine:!0}function IV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var yi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=zb()||Wb()}get(){return _V()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Wm(t,e){Mr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ud=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var EV=new yi(3e4,6e4);function xr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Pr(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return PC(t,i,()=>w(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Oa(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:_},d);return qb()||(I.referrerPolicy="no-referrer"),ud.fetch()(OC(t,t.config.apiHost,n,g),I)}))})}function PC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},wV),e);try{let i=new Sm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw rd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw rd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw rd(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xC(t,f,d);hn(t,f)}}catch(i){if(i instanceof Et)throw i;hn(t,"network-request-failed",{message:String(i)})}})}function Ga(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let d=yield Pr(t,e,n,r,i);return"mfaPendingCredential"in d&&hn(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function OC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Wm(t.config,i):`${t.config.apiScheme}://${i}`}function DV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Sm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),EV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function rd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mi(t,e,r);return i.customData._tokenResponse=n,i}function pC(t){return t!==void 0&&t.enterprise!==void 0}var Rm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function TV(t,e){return w(this,null,function*(){return Pr(t,"GET","/v2/recaptchaConfig",xr(t,e))})}function bV(t,e){return w(this,null,function*(){return Pr(t,"POST","/v1/accounts:delete",e)})}function kC(t,e){return w(this,null,function*(){return Pr(t,"POST","/v1/accounts:lookup",e)})}function Ua(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Km(t,e=!1){return w(this,null,function*(){let n=dt(t),r=yield n.getIdToken(e),i=Qm(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ua(Tm(i.auth_time)),issuedAtTime:Ua(Tm(i.iat)),expirationTime:Ua(Tm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Tm(t){return Number(t)*1e3}function Qm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{let i=nm(n);return i?JSON.parse(i):(id("Failed to decode base64 JWT payload"),null)}catch(i){return id("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gC(t){let e=Qm(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ba(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Et&&CV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function CV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Nm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var $a=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ld(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ba(t,kC(n,{idToken:r}));G(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?FC(s.providerUserInfo):[],c=AV(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new $a(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Ym(t){return w(this,null,function*(){let e=dt(t);yield ld(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function AV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FC(t){return t.map(e=>{var{providerId:n}=e,r=qh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function SV(t,e){return w(this,null,function*(){let n=yield PC(t,{},()=>w(this,null,function*(){let r=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ud.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function RV(t,e){return w(this,null,function*(){return Pr(t,"POST","/v2/accounts:revokeToken",xr(t,e))})}var ja=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=gC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield SV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return $n("not implemented")}};function Nr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Hs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $a(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Ba(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Km(this,e)}reload(){return Ym(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ld(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(qt(this.auth.app))return Promise.reject(zn(this.auth));let e=yield this.getIdToken();return yield Ba(this,bV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:U,emailVerified:ne,isAnonymous:Ie,providerData:ee,stsTokenManager:D}=n;G(U&&D,e,"internal-error");let m=ja.fromJSON(this.name,D);G(typeof U=="string",e,"internal-error"),Nr(g,e.name),Nr(_,e.name),G(typeof ne=="boolean",e,"internal-error"),G(typeof Ie=="boolean",e,"internal-error"),Nr(I,e.name),Nr(A,e.name),Nr(N,e.name),Nr(R,e.name),Nr(F,e.name),Nr(q,e.name);let y=new t({uid:U,auth:e,email:_,emailVerified:ne,displayName:g,isAnonymous:Ie,photoURL:A,phoneNumber:I,tenantId:N,stsTokenManager:m,createdAt:F,lastLoginAt:q});return ee&&Array.isArray(ee)&&(y.providerData=ee.map(E=>Object.assign({},E))),R&&(y._redirectEventId=R),y}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new ja;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ld(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];G(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?FC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new ja;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $a(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var mC=new Map;function Hn(t){Mr(t instanceof Function,"Expected a class definition");let e=mC.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mC.set(t,e),e)}var NV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Mm=NV;function sd(t,e,n){return`firebase:${t}:${e}:${n}`}var dd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Hs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Hn(Mm),e,r);let i=(yield Promise.all(n.map(d=>w(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Hn(Mm),o=sd(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(o);if(f){let g=Hs._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(d=>w(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function yC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($C(e))return"Blackberry";if(HC(e))return"Webos";if(VC(e))return"Safari";if((e.includes("chrome/")||UC(e))&&!e.includes("edge/"))return"Chrome";if(BC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function LC(t=Be()){return/firefox\//i.test(t)}function VC(t=Be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UC(t=Be()){return/crios\//i.test(t)}function jC(t=Be()){return/iemobile/i.test(t)}function BC(t=Be()){return/android/i.test(t)}function $C(t=Be()){return/blackberry/i.test(t)}function HC(t=Be()){return/webos/i.test(t)}function Jm(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MV(t=Be()){var e;return Jm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xV(){return Kb()&&document.documentMode===10}function zC(t=Be()){return Jm(t)||BC(t)||HC(t)||$C(t)||/windows phone/i.test(t)||jC(t)}function qC(t,e=[]){let n;switch(t){case"Browser":n=yC(Be());break;case"Worker":n=`${yC(Be())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rr}/${r}`}var xm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function PV(n){return w(this,arguments,function*(t,e={}){return Pr(t,"GET","/v2/passwordPolicy",xr(t,e))})}var OV=6,Pm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:OV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Om=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hd(this),this.idTokenSubscription=new hd(this),this.beforeStateQueue=new xm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield dd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield kC(this,{idToken:e}),r=yield Hs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(qt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield ld(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(qt(this.app))return Promise.reject(zn(this));let n=e?dt(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return qt(this.app)?Promise.reject(zn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qt(this.app)?Promise.reject(zn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Hn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield PV(this),n=new Pm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield RV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Hn(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield dd.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&yV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _i(t){return dt(t)}var hd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zb(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var _d={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kV(t){_d=t}function GC(t){return _d.loadJS(t)}function FV(){return _d.recaptchaEnterpriseScript}function LV(){return _d.gapiScript}function WC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var VV="recaptcha-enterprise",UV="NO_RECAPTCHA",km=class{constructor(e){this.type=VV,this.auth=_i(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){TV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new Rm(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;pC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(UV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&pC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=FV();u.length!==0&&(u+=c),GC(u).then(()=>{i(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})})}};function vC(t,e,n,r=!1){return w(this,null,function*(){let i=new km(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Fm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield vC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield vC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Zm(t,e){let n=La(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(di(s,e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}function jV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Xm(t,e,n){let r=_i(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=KC(e),{host:o,port:c}=BV(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$V()}function KC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BV(t){let e=KC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:_C(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:_C(o)}}}function _C(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function $V(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ha=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $n("not implemented")}_getIdTokenResponse(e){return $n("not implemented")}_linkToIdToken(e,n){return $n("not implemented")}_getReauthenticationResolver(e){return $n("not implemented")}};function HV(t,e){return w(this,null,function*(){return Pr(t,"POST","/v1/accounts:signUp",e)})}function zV(t,e){return w(this,null,function*(){return Ga(t,"POST","/v1/accounts:signInWithPassword",xr(t,e))})}function qV(t,e){return w(this,null,function*(){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))})}function GV(t,e){return w(this,null,function*(){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))})}var za=class t extends Ha{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fm(e,n,"signInWithPassword",zV);case"emailLink":return qV(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fm(e,r,"signUpPassword",HV);case"emailLink":return GV(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bm(t,e){return w(this,null,function*(){return Ga(t,"POST","/v1/accounts:signInWithIdp",xr(t,e))})}function WV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KV(t){let e=Ls(Vs(t)).link,n=e?Ls(Vs(e)).deep_link_id:null,r=Ls(Vs(t)).deep_link_id;return(r?Ls(Vs(r)).link:null)||r||n||e||t}var fd=class t{constructor(e){var n,r,i,s,o,c;let u=Ls(Vs(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=WV((i=u.mode)!==null&&i!==void 0?i:null);G(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=KV(e);try{return new t(n)}catch{return null}}};var QC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return za._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=fd.parseLink(r);return G(i,"argument-error"),za._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Lm=class extends pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function QV(t,e){return w(this,null,function*(){return Ga(t,"POST","/v1/accounts:signUp",xr(t,e))})}var zs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Hs._fromIdTokenResponse(e,r,i),o=IC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=IC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function IC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Vm=class t extends Et{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function YC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vm._fromErrorAndOperation(t,s,e,r):s})}function YV(t,e,n=!1){return w(this,null,function*(){let r=yield Ba(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return zs._forOperation(t,"link",r)})}function JV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(qt(r.app))return Promise.reject(zn(r));let i="reauthenticate";try{let s=yield Ba(t,YC(r,i,e,t),n);G(s.idToken,r,"internal-error");let o=Qm(s.idToken);G(o,r,"internal-error");let{sub:c}=o;return G(t.uid===c,r,"user-mismatch"),zs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&hn(r,"user-mismatch"),s}})}function JC(t,e,n=!1){return w(this,null,function*(){if(qt(t.app))return Promise.reject(zn(t));let r="signIn",i=yield YC(t,r,e),s=yield zs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ey(t,e){return w(this,null,function*(){return JC(_i(t),e)})}function ZC(t){return w(this,null,function*(){let e=_i(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ty(t,e,n){return w(this,null,function*(){if(qt(t.app))return Promise.reject(zn(t));let r=_i(t),o=yield Fm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ZC(t),u}),c=yield zs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function ny(t,e,n){return qt(t.app)?Promise.reject(zn(t)):ey(dt(t),QC.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ZC(t),r}))}function ry(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function iy(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function sy(t){return dt(t).signOut()}var gd="__sak";var md=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var ZV=1e3,XV=10,eU=(()=>{class t extends md{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);xV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,XV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},ZV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield er(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield er(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield er(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),XC=eU;var tU=(()=>{class t extends md{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),oy=tU;function nU(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var rU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),d=yield nU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function e0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Um=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let d=e0("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function dn(){return window}function iU(t){dn().location.href=t}function t0(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}function sU(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aU(){return t0()?self:null}var n0="firebaseLocalStorageDb",cU=1,yd="firebaseLocalStorage",r0="fbase_key",vi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Id(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function uU(){let t=indexedDB.deleteDatabase(n0);return new vi(t).toPromise()}function jm(){let t=indexedDB.open(n0,cU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(yd,{keyPath:r0})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),yield uU(),e(yield jm()))}))})}function wC(t,e,n){return w(this,null,function*(){let r=Id(t,!0).put({[r0]:e,value:n});return new vi(r).toPromise()})}function lU(t,e){return w(this,null,function*(){let n=Id(t,!1).get(e),r=yield new vi(n).toPromise();return r===void 0?null:r.value})}function EC(t,e){let n=Id(t,!0).delete(e);return new vi(n).toPromise()}var dU=800,hU=3,fU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield jm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>hU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return t0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=rU._getInstance(aU()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield sU(),!this.activeServiceWorker)return;this.sender=new Um(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield jm();return yield wC(n,gd,"1"),yield EC(n,gd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>wC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>lU(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>EC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Id(s,!1).getAll();return new vi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),dU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),i0=fU;var y6=WC("rcb"),v6=new yi(3e4,6e4);function pU(t,e){return e?Hn(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var qa=class extends Ha{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function gU(t){return JC(t.auth,new qa(t),t.bypassAuthState)}function mU(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),JV(n,new qa(t),t.bypassAuthState)}function yU(t){return w(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),YV(n,new qa(t),t.bypassAuthState)})}var Bm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gU;case"linkViaPopup":case"linkViaRedirect":return yU;case"reauthViaPopup":case"reauthViaRedirect":return mU;default:hn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var _6=new yi(2e3,1e4);var vU="pendingRedirect",od=new Map,$m=class t extends Bm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=od.get(this.auth._key());if(!e){try{let r=(yield _U(this.resolver,this.auth))?yield er(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return er(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,er(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function _U(t,e){return w(this,null,function*(){let n=EU(e),r=wU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function IU(t,e){od.set(t._key(),e)}function wU(t){return Hn(t._redirectPersistence)}function EU(t){return sd(vU,t.config.apiKey,t.name)}function DU(t,e,n=!1){return w(this,null,function*(){if(qt(t.app))return Promise.reject(zn(t));let r=_i(t),i=pU(r,e),o=yield new $m(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var TU=10*60*1e3,Hm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TU&&this.cachedEventUids.clear(),this.cachedEventUids.has(DC(e))}saveEventToCache(e){this.cachedEventUids.add(DC(e)),this.lastProcessedEventTime=Date.now()}};function DC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function bU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s0(t);default:return!1}}function CU(n){return w(this,arguments,function*(t,e={}){return Pr(t,"GET","/v1/projects",e)})}var AU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SU=/^https?/;function RU(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield CU(t);for(let n of e)try{if(NU(n))return}catch{}hn(t,"unauthorized-domain")})}function NU(t){let e=Am(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SU.test(n))return!1;if(AU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var MU=new yi(3e4,6e4);function TC(){let t=dn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xU(t){return new Promise((e,n)=>{var r,i,s;function o(){TC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TC(),n(mi(t,"network-request-failed"))},timeout:MU.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dn().gapi)===null||s===void 0)&&s.load)o();else{let c=WC("iframefcb");return dn()[c]=()=>{gapi.load?o():n(mi(t,"network-request-failed"))},GC(`${LV()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw ad=null,e})}var ad=null;function PU(t){return ad=ad||xU(t),ad}var OU=new yi(5e3,15e3),kU="__/auth/iframe",FU="emulator/auth/iframe",LU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UU(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Wm(e,FU):`https://${t.config.authDomain}/${kU}`,r={apiKey:e.apiKey,appName:t.name,v:Rr},i=VU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oa(r).slice(1)}`}function jU(t){return w(this,null,function*(){let e=yield PU(t),n=dn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:UU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LU,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=mi(t,"network-request-failed"),c=dn().setTimeout(()=>{s(o)},OU.get());function u(){dn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var BU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$U=500,HU=600,zU="_blank",qU="http://localhost",vd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GU(t,e,n,r=$U,i=HU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},BU),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Be().toLowerCase();n&&(c=UC(d)?zU:n),LC(d)&&(e=e||qU,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,A])=>`${_}${I}=${A},`,"");if(MV(d)&&c!=="_self")return WU(e||"",c),new vd(null);let g=window.open(e||"",c,f);G(g,t,"popup-blocked");try{g.focus()}catch{}return new vd(g)}function WU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var KU="__/auth/handler",QU="emulator/auth/handler",YU=encodeURIComponent("fac");function bC(t,e,n,r,i,s){return w(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rr,eventId:i};if(e instanceof pd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Jb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Lm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${YU}=${encodeURIComponent(u)}`:"";return`${JU(t)}?${Oa(c).slice(1)}${d}`})}function JU({config:t}){return t.emulator?Wm(t,QU):`https://${t.authDomain}/${KU}`}var Cm="webStorageSupport",zm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oy,this._completeRedirectFn=DU,this._overrideRedirectResult=IU}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield bC(e,n,r,Am(),i);return GU(e,o,e0())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield bC(e,n,r,Am(),i);return iU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield jU(e),r=new Hm(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Cm];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zC()||VC()||Jm()}},o0=zm;var CC="@firebase/auth",AC="1.7.9";var qm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ZU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XU(t){Sr(new Ot("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qC(t)},d=new Om(r,i,s,u);return jV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new Ot("auth-internal",e=>{let n=_i(e.getProvider("auth").getImmediate());return(r=>new qm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(CC,AC,ZU(t)),Ve(CC,AC,"esm2017")}var ej=5*60,tj=sm("authIdTokenMaxAge")||ej,SC=null,nj=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tj)return;let i=n?.token;SC!==i&&(SC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ay(t=Us()){let e=La(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Zm(t,{popupRedirectResolver:o0,persistence:[i0,XC,oy]}),r=sm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=nj(s.toString());iy(n,o,()=>o(n.currentUser)),ry(n,c=>o(c))}}let i=rm("auth");return i&&Xm(n,`http://${i}`),n}function rj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=mi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XU("Browser");var a0="auth",Ii=class{constructor(e){return e}},Wa=class{constructor(){return Va(a0)}};var cy=new L("angularfire2.auth-instances");function Wj(t,e){let n=td(a0,t,e);return n&&new Ii(n)}function Kj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ii(r)}}var Qj={provide:Wa,deps:[[new Je,cy]]},Yj={provide:Ii,useFactory:Wj,deps:[[new Je,cy],Bn]};function n8(t,...e){return Ve("angularfire",pi.full,"auth"),Rt([Yj,Qj,{provide:cy,useFactory:Kj(t),multi:!0,deps:[fe,Ge,$s,gi,[new Je,Bs],...e]}])}var r8=Gt(ty,!0);var i8=Gt(ay,!0);var c0=Gt(ny,!0);var u0=Gt(sy,!0);var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},d0={};var uy,h0;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,T,C){for(var v=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)v[vn-2]=arguments[vn];return m.prototype[T].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var T=0;16>T;++T)E[T]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(T=0;16>T;++T)E[T]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],T=D.g[2];var C=D.g[3],v=m+(C^y&(T^C))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+E[1]+3905402710&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+E[2]+606105819&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+E[3]+3250441966&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+E[5]+1200080426&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+E[6]+2821735955&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+E[7]+4249261313&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+E[9]+2336552879&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+E[10]+4294925233&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+E[11]+2304563134&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(C^y&(T^C))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=C+(T^m&(y^T))+E[13]+4254626195&4294967295,C=m+(v<<12&4294967295|v>>>20),v=T+(y^C&(m^y))+E[14]+2792965006&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(m^T&(C^m))+E[15]+1236535329&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(T^C&(y^T))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+E[6]+3225465664&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+E[11]+643717713&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+E[0]+3921069994&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+E[10]+38016083&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+E[15]+3634488961&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+E[4]+3889429448&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+E[14]+3275163606&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+E[3]+4107603335&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+E[8]+1163531501&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^C&(y^T))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(m^y))+E[2]+4243563512&4294967295,C=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(C^m))+E[7]+1735328473&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^m&(T^C))+E[12]+2368359562&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(y^T^C)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+E[8]+2272392833&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+E[11]+1839030562&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+E[14]+4259657740&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+E[4]+1272893353&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+E[7]+4139469664&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+E[10]+3200236656&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+E[0]+3936430074&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+E[3]+3572445317&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+E[6]+76029189&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^C)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=C+(m^y^T)+E[12]+3873151461&4294967295,C=m+(v<<11&4294967295|v>>>21),v=T+(C^m^y)+E[15]+530742520&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^m)+E[2]+3299628645&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(T^(y|~C))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+E[7]+1126891415&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+E[14]+2878612391&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+E[5]+4237533241&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+E[3]+2399980690&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+E[10]+4293915773&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+E[1]+2240044497&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+E[15]+4264355552&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+E[6]+2734768916&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+E[13]+1309151649&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~C))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=C+(y^(m|~T))+E[11]+3174756917&4294967295,C=m+(v<<10&4294967295|v>>>22),v=T+(m^(C|~y))+E[2]+718787259&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(T+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,T=this.h,C=0;C<m;){if(T==0)for(;C<=y;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<m;)if(E[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<m;)if(E[T++]=D[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],E=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;E&&C==m||(y[T]=C,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return R(d(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),E=g,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),v=parseInt(D.substring(T,T+C),m);8>C?(C=d(Math.pow(m,C)),E=E.j(C).add(d(v))):(E=E.j(y),E=E.add(d(v)))}return E}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var m=d(Math.pow(D,6)),y=this,E="";;){var T=ne(y,m).g;y=F(y,T.j(m));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=T,A(y))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=F(this,D),N(D)?-1:A(D)?0:1};function R(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new o(y,~D.h).add(_)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,T=0;T<=m;T++){var C=E+(this.i(T)&65535)+(D.i(T)&65535),v=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=v>>>16,C&=65535,v&=65535,y[T]=v<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(R(m))}t.j=function(D){if(A(this)||A(D))return g;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return d(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var C=this.i(E)>>>16,v=this.i(E)&65535,vn=D.i(T)>>>16,lo=D.i(T)&65535;y[2*E+2*T]+=v*lo,q(y,2*E+2*T),y[2*E+2*T+1]+=C*lo,q(y,2*E+2*T+1),y[2*E+2*T+1]+=v*vn,q(y,2*E+2*T+1),y[2*E+2*T+2]+=C*vn,q(y,2*E+2*T+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function q(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function U(D,m){this.g=D,this.h=m}function ne(D,m){if(A(m))throw Error("division by zero");if(A(D))return new U(g,g);if(N(D))return m=ne(R(D),m),new U(R(m.g),R(m.h));if(N(m))return m=ne(D,R(m)),new U(R(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=Ie(y),E=Ie(E);var T=ee(y,1),C=ee(E,1);for(E=ee(E,2),y=ee(y,2);!A(E);){var v=C.add(E);0>=v.l(D)&&(T=T.add(y),C=v),E=ee(E,1),y=ee(y,1)}return m=F(D,T.j(m)),new U(T,m)}for(T=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=d(y),v=C.j(m);N(v)||0<v.l(D);)y-=E,C=d(y),v=C.j(m);A(C)&&(C=_),T=T.add(C),D=F(D,v)}return new U(T,D)}t.A=function(D){return ne(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new o(y,this.h^D.h)};function Ie(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(y,D.h)}function ee(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,T=[],C=0;C<E;C++)T[C]=0<m?D.i(C+y)>>>m|D.i(C+y+1)<<32-m:D.i(C+y);return new o(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,h0=d0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,uy=d0.Integer=o}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn={};var ly,Zj,qs,dy,Ka,Ed,hy,fy,py;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof wd=="object"&&wd];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:l(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(l,b)}}return function(){return a.apply(l,arguments)}}function _(a,l,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var O=Array(arguments.length-2),me=2;me<arguments.length;me++)O[me-2]=arguments[me];return l.prototype[b].apply(p,O)}}function N(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function R(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let O=0;O<S;O++)a[b+O]=p[O]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function q(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ne(a){return ne[" "](a),a}ne[" "]=function(){};var Ie=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ee(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function D(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,l){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function T(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function v(){var a=th;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class vn{constructor(){this.h=this.g=null}add(l,h){let p=lo.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var lo=new F(()=>new xA,a=>a.reset());class xA{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ho,fo=!1,th=new vn,qv=()=>{let a=c.Promise.resolve(void 0);ho=()=>{a.then(PA)}};var PA=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){C(h)}var l=lo;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}fo=!1};function Yn(){this.s=this.s,this.C=this.C}Yn.prototype.s=!1,Yn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Yn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var OA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function po(a,l){if(We.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Ie){e:{try{ne(l.nodeName);var b=!0;break e}catch{}b=!1}b||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:kA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&po.aa.h.call(this)}}A(po,We);var kA={2:"touch",3:"pen",4:"mouse"};po.prototype.h=function(){po.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var go="closure_listenable_"+(1e6*Math.random()|0),FA=0;function LA(a,l,h,p,b){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=b,this.key=++FA,this.da=this.fa=!1}function cc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function uc(a){this.src=a,this.g={},this.h=0}uc.prototype.add=function(a,l,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var O=rh(a,l,p,b);return-1<O?(l=a[O],h||(l.fa=!1)):(l=new LA(l,this.src,S,!!p,b),l.fa=h,a.push(l)),l};function nh(a,l){var h=l.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,l,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(cc(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function rh(a,l,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==l&&S.capture==!!h&&S.ha==p)return b}return-1}var ih="closure_lm_"+(1e6*Math.random()|0),sh={};function Gv(a,l,h,p,b){if(p&&p.once)return Kv(a,l,h,p,b);if(Array.isArray(l)){for(var S=0;S<l.length;S++)Gv(a,l[S],h,p,b);return null}return h=uh(h),a&&a[go]?a.K(l,h,d(p)?!!p.capture:!!p,b):Wv(a,l,h,!1,p,b)}function Wv(a,l,h,p,b,S){if(!l)throw Error("Invalid event type");var O=d(b)?!!b.capture:!!b,me=ah(a);if(me||(a[ih]=me=new uc(a)),h=me.add(l,h,p,O,S),h.proxy)return h;if(p=VA(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)OA||(b=O),b===void 0&&(b=!1),a.addEventListener(l.toString(),p,b);else if(a.attachEvent)a.attachEvent(Yv(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function VA(){function a(h){return l.call(a.src,a.listener,h)}let l=UA;return a}function Kv(a,l,h,p,b){if(Array.isArray(l)){for(var S=0;S<l.length;S++)Kv(a,l[S],h,p,b);return null}return h=uh(h),a&&a[go]?a.L(l,h,d(p)?!!p.capture:!!p,b):Wv(a,l,h,!0,p,b)}function Qv(a,l,h,p,b){if(Array.isArray(l))for(var S=0;S<l.length;S++)Qv(a,l[S],h,p,b);else p=d(p)?!!p.capture:!!p,h=uh(h),a&&a[go]?(a=a.i,l=String(l).toString(),l in a.g&&(S=a.g[l],h=rh(S,h,p,b),-1<h&&(cc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[l],a.h--)))):a&&(a=ah(a))&&(l=a.g[l.toString()],a=-1,l&&(a=rh(l,h,p,b)),(h=-1<a?l[a]:null)&&oh(h))}function oh(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[go])nh(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(Yv(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=ah(l))?(nh(h,a),h.h==0&&(h.src=null,l[ih]=null)):cc(a)}}}function Yv(a){return a in sh?sh[a]:sh[a]="on"+a}function UA(a,l){if(a.da)a=!0;else{l=new po(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&oh(a),a=h.call(p,l)}return a}function ah(a){return a=a[ih],a instanceof uc?a:null}var ch="__closure_events_fn_"+(1e9*Math.random()>>>0);function uh(a){return typeof a=="function"?a:(a[ch]||(a[ch]=function(l){return a.handleEvent(l)}),a[ch])}function Ke(){Yn.call(this),this.i=new uc(this),this.M=this,this.F=null}A(Ke,Yn),Ke.prototype[go]=!0,Ke.prototype.removeEventListener=function(a,l,h,p){Qv(this,a,l,h,p)};function it(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new We(l,a);else if(l instanceof We)l.target=l.target||a;else{var b=l;l=new We(p,a),E(l,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var O=l.g=h[S];b=lc(O,p,!0,l)&&b}if(O=l.g=a,b=lc(O,p,!0,l)&&b,b=lc(O,p,!1,l)&&b,h)for(S=0;S<h.length;S++)O=l.g=h[S],b=lc(O,p,!1,l)&&b}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)cc(h[p]);delete a.g[l],a.h--}}this.F=null},Ke.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},Ke.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function lc(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var b=!0,S=0;S<l.length;++S){var O=l[S];if(O&&!O.da&&O.capture==h){var me=O.listener,ze=O.ha||O.src;O.fa&&nh(a.i,O),b=me.call(ze,p)!==!1&&b}}return b&&!p.defaultPrevented}function Jv(a,l,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function Zv(a){a.g=Jv(()=>{a.g=null,a.i&&(a.i=!1,Zv(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class jA extends Yn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Zv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(a){Yn.call(this),this.h=a,this.g={}}A(mo,Yn);var Xv=[];function e_(a){ee(a.g,function(l,h){this.g.hasOwnProperty(h)&&oh(l)},a),a.g={}}mo.prototype.N=function(){mo.aa.N.call(this),e_(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lh=c.JSON.stringify,BA=c.JSON.parse,$A=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function dh(){}dh.prototype.h=null;function t_(a){return a.h||(a.h=a.i())}function n_(){}var yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hh(){We.call(this,"d")}A(hh,We);function fh(){We.call(this,"c")}A(fh,We);var Ur={},r_=null;function dc(){return r_=r_||new Ke}Ur.La="serverreachability";function i_(a){We.call(this,Ur.La,a)}A(i_,We);function vo(a){let l=dc();it(l,new i_(l))}Ur.STAT_EVENT="statevent";function s_(a,l){We.call(this,Ur.STAT_EVENT,a),this.stat=l}A(s_,We);function st(a){let l=dc();it(l,new s_(l,a))}Ur.Ma="timingevent";function o_(a,l){We.call(this,Ur.Ma,a),this.size=l}A(o_,We);function _o(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Io(){this.g=!0}Io.prototype.xa=function(){this.g=!1};function HA(a,l,h,p,b,S){a.info(function(){if(a.g)if(S)for(var O="",me=S.split("&"),ze=0;ze<me.length;ze++){var he=me[ze].split("=");if(1<he.length){var Qe=he[0];he=he[1];var Ye=Qe.split("_");O=2<=Ye.length&&Ye[1]=="type"?O+(Qe+"="+he+"&"):O+(Qe+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+l+`
`+h+`
`+O})}function zA(a,l,h,p,b,S,O){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+l+`
`+h+`
`+S+" "+O})}function Mi(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+GA(a,h)+(p?" "+p:"")})}function qA(a,l){a.info(function(){return"TIMEOUT: "+l})}Io.prototype.info=function(){};function GA(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return lh(h)}catch{return l}}var hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},a_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ph;function fc(){}A(fc,dh),fc.prototype.g=function(){return new XMLHttpRequest},fc.prototype.i=function(){return{}},ph=new fc;function Jn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c_}function c_(){this.i=null,this.g="",this.h=!1}var u_={},gh={};function mh(a,l,h){a.L=1,a.v=yc(_n(l)),a.m=h,a.P=!0,l_(a,null)}function l_(a,l){a.F=Date.now(),pc(a),a.A=_n(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),T_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new c_,a.g=$_(a.j,h?l:null,!a.m),0<a.O&&(a.M=new jA(_(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Xv[0]=b.toString()),b=Xv);for(var S=0;S<b.length;S++){var O=Gv(h,b[S],p||l.handleEvent,!1,l.h||l);if(!O)break;l.g[O.key]=O}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),vo(),HA(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;let l=this.M;l&&In(a)==3?l.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{let Ye=In(this.g);var l=this.g.Ba();let Oi=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||M_(this.g)))){this.J||Ye!=4||l==7||(l==8||0>=Oi?vo(3):vo(2)),yh(this);var h=this.g.Z();this.X=h;t:if(d_(this)){var p=M_(this.g);a="";var b=p.length,S=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jr(this),wo(this);var O="";break t}this.h.i=new c.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(S&&l==b-1)});p.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,zA(this.i,this.u,this.A,this.l,this.R,Ye,h),this.o){if(this.T&&!this.K){t:{if(this.g){var me,ze=this.g;if((me=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(me)){var he=me;break t}}he=null}if(h=he)Mi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vh(this,h);else{this.o=!1,this.s=3,st(12),jr(this),wo(this);break e}}if(this.P){h=!0;let kt;for(;!this.J&&this.C<O.length;)if(kt=WA(this,O),kt==gh){Ye==4&&(this.s=4,st(14),h=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==u_){this.s=4,st(15),Mi(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else Mi(this.i,this.l,kt,null),vh(this,kt);if(d_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||O.length!=0||this.h.h||(this.s=1,st(16),h=!1),this.o=this.o&&h,!h)Mi(this.i,this.l,O,"[Invalid Chunked Response]"),jr(this),wo(this);else if(0<O.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Th(Qe),Qe.M=!0,st(11))}}else Mi(this.i,this.l,O,null),vh(this,O);Ye==4&&jr(this),this.o&&!this.J&&(Ye==4?V_(this.j,this):(this.o=!1,pc(this)))}else lS(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),jr(this),wo(this)}}}catch{}finally{}};function d_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function WA(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?gh:(h=Number(l.substring(h,p)),isNaN(h)?u_:(p+=1,p+h>l.length?gh:(l=l.slice(p,p+h),a.C=p+h,l)))}Jn.prototype.cancel=function(){this.J=!0,jr(this)};function pc(a){a.S=Date.now()+a.I,h_(a,a.I)}function h_(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=_o(_(a.ba,a),l)}function yh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(qA(this.i,this.A),this.L!=2&&(vo(),st(17)),jr(this),this.s=2,wo(this)):h_(this,this.S-a)};function wo(a){a.j.G==0||a.J||V_(a.j,a)}function jr(a){yh(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,e_(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function vh(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||_h(h.h,a))){if(!a.K&&_h(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ec(h),Ic(h);else break e;Dh(h),st(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=_o(_(h.Za,h),6e3));if(1>=g_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else $r(h,11)}else if((a.K||h.g==a)&&Ec(h),!q(l))for(b=h.Da.g.parse(l),l=0;l<b.length;l++){let he=b[l];if(h.T=he[0],he=he[1],h.G==2)if(he[0]=="c"){h.K=he[1],h.ia=he[2];let Qe=he[3];Qe!=null&&(h.la=Qe,h.j.info("VER="+h.la));let Ye=he[4];Ye!=null&&(h.Aa=Ye,h.j.info("SVER="+h.Aa));let Oi=he[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(p=1.5*Oi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let kt=a.g;if(kt){let Tc=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tc){var S=p.h;S.g||Tc.indexOf("spdy")==-1&&Tc.indexOf("quic")==-1&&Tc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ih(S,S.h),S.h=null))}if(p.D){let bh=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(p.ya=bh,we(p.I,p.D,bh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var O=a;if(p.qa=B_(p,p.J?p.ia:null,p.W),O.K){m_(p.h,O);var me=O,ze=p.L;ze&&(me.I=ze),me.B&&(yh(me),pc(me)),p.g=O}else F_(p);0<h.i.length&&wc(h)}else he[0]!="stop"&&he[0]!="close"||$r(h,7);else h.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?$r(h,7):Eh(h):he[0]!="noop"&&h.l&&h.l.ta(he),h.v=0)}}vo(4)}catch{}}var KA=class{constructor(a,l){this.g=a,this.map=l}};function f_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function g_(a){return a.h?1:a.g?a.g.size:0}function _h(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Ih(a,l){a.g?a.g.add(l):a.h=l}function m_(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}f_.prototype.cancel=function(){if(this.i=y_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function y_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return N(a.i)}function QA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function YA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function v_(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=YA(a),p=QA(a),b=p.length,S=0;S<b;S++)l.call(void 0,p[S],h&&h[S],a)}var __=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JA(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];l(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Br(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Br){this.h=a.h,gc(this,a.j),this.o=a.o,this.g=a.g,mc(this,a.s),this.l=a.l;var l=a.i,h=new To;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),I_(this,h),this.m=a.m}else a&&(l=String(a).match(__))?(this.h=!1,gc(this,l[1]||"",!0),this.o=Eo(l[2]||""),this.g=Eo(l[3]||"",!0),mc(this,l[4]),this.l=Eo(l[5]||"",!0),I_(this,l[6]||"",!0),this.m=Eo(l[7]||"")):(this.h=!1,this.i=new To(null,this.h))}Br.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Do(l,w_,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Do(l,w_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Do(h,h.charAt(0)=="/"?eS:XA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Do(h,nS)),a.join("")};function _n(a){return new Br(a)}function gc(a,l,h){a.j=h?Eo(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function mc(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function I_(a,l,h){l instanceof To?(a.i=l,rS(a.i,a.h)):(h||(l=Do(l,tS)),a.i=new To(l,a.h))}function we(a,l,h){a.i.set(l,h)}function yc(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Eo(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Do(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,ZA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ZA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var w_=/[#\/\?@]/g,XA=/[#\?:]/g,eS=/[#\?]/g,tS=/[#\?@]/g,nS=/#/g;function To(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Zn(a){a.g||(a.g=new Map,a.h=0,a.i&&JA(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=To.prototype,t.add=function(a,l){Zn(this),this.i=null,a=xi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function E_(a,l){Zn(a),l=xi(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function D_(a,l){return Zn(a),l=xi(a,l),a.g.has(l)}t.forEach=function(a,l){Zn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(l,b,p,this)},this)},this)},t.na=function(){Zn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(l[p])}return h},t.V=function(a){Zn(this);let l=[];if(typeof a=="string")D_(this,a)&&(l=l.concat(this.g.get(xi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return Zn(this),this.i=null,a=xi(this,a),D_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function T_(a,l,h){E_(a,l),0<h.length&&(a.i=null,a.g.set(xi(a,l),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let S=encodeURIComponent(String(p)),O=this.V(p);for(p=0;p<O.length;p++){var b=S;O[p]!==""&&(b+="="+encodeURIComponent(String(O[p]))),a.push(b)}}return this.i=a.join("&")};function xi(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function rS(a,l){l&&!a.j&&(Zn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(E_(this,p),T_(this,b,h))},a)),a.j=l}function iS(a,l){let h=new Io;if(c.Image){let p=new Image;p.onload=I(Xn,h,"TestLoadImage: loaded",!0,l,p),p.onerror=I(Xn,h,"TestLoadImage: error",!1,l,p),p.onabort=I(Xn,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=I(Xn,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function sS(a,l){let h=new Io,p=new AbortController,b=setTimeout(()=>{p.abort(),Xn(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?Xn(h,"TestPingServer: ok",!0,l):Xn(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),Xn(h,"TestPingServer: error",!1,l)})}function Xn(a,l,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function oS(){this.g=new $A}function aS(a,l,h){let p=h||"";try{v_(a,function(b,S){let O=b;d(b)&&(O=lh(b)),l.push(p+S+"="+encodeURIComponent(O))})}catch(b){throw l.push(p+"type="+encodeURIComponent("_badmap")),b}}function bo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(bo,dh),bo.prototype.g=function(){return new vc(this.l,this.j)},bo.prototype.i=function(a){return function(){return a}}({});function vc(a,l){Ke.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(vc,Ke),t=vc.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,Ao(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ao(this)),this.g&&(this.readyState=3,Ao(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;b_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function b_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Co(this):Ao(this),this.readyState==3&&b_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Co(this))},t.Qa=function(a){this.g&&(this.response=a,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ao(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function Ao(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function C_(a){let l="";return ee(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function wh(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=C_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):we(a,l,h))}function Te(a){Ke.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Te,Ke);var cS=/^https?$/i,uS=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ph.g(),this.v=this.o?t_(this.o):t_(ph),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(S){A_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(uS,l,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of h)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{N_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){A_(this,S)}};function A_(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,S_(a),_c(a)}function S_(a){a.A||(a.A=!0,it(a,"complete"),it(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,it(this,"complete"),it(this,"abort"),_c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?R_(this):this.bb())},t.bb=function(){R_(this)};function R_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||In(a)!=4||a.Z()!=2)){if(a.u&&In(a)==4)Jv(a.Ea,0,a);else if(it(a,"readystatechange"),In(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=O===0){var b=String(a.D).match(__)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!cS.test(b?b.toLowerCase():"")}h=p}if(h)it(a,"complete"),it(a,"success");else{a.m=6;try{var S=2<In(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",S_(a)}}finally{_c(a)}}}}function _c(a,l){if(a.g){N_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||it(a,"ready");try{h.onreadystatechange=p}catch{}}}function N_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function In(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),BA(l)}};function M_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lS(a){let l={};a=(a.g&&2<=In(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(q(a[p]))continue;var h=T(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=l[b]||[];l[b]=S,S.push(h)}D(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function x_(a){this.Aa=0,this.i=[],this.j=new Io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,a),this.cb=So("retryDelaySeedMs",1e4,a),this.Wa=So("forwardChannelMaxRetries",2,a),this.wa=So("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new f_(a&&a.concurrentRequestLimit),this.Da=new oS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=x_.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){st(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=B_(this,null,this.W),wc(this)};function Eh(a){if(P_(a),a.G==3){var l=a.U++,h=_n(a.I);if(we(h,"SID",a.K),we(h,"RID",l),we(h,"TYPE","terminate"),Ro(a,h),l=new Jn(a,a.j,l),l.L=2,l.v=yc(_n(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=$_(l.j,null),l.g.ea(l.v)),l.F=Date.now(),pc(l)}j_(a)}function Ic(a){a.g&&(Th(a),a.g.cancel(),a.g=null)}function P_(a){Ic(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ec(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function wc(a){if(!p_(a.h)&&!a.s){a.s=!0;var l=a.Ga;ho||qv(),fo||(ho(),fo=!0),th.add(l,a),a.B=0}}function dS(a,l){return g_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=_o(_(a.Ga,a,l),U_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Jn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=k_(this,b,l),h=_n(this.I),we(h,"RID",a),we(h,"CVER",22),this.D&&we(h,"X-HTTP-Session-Id",this.D),Ro(this,h),S&&(this.O?l="headers="+encodeURIComponent(String(C_(S)))+"&"+l:this.m&&wh(h,this.m,S)),Ih(this.h,b),this.Ua&&we(h,"TYPE","init"),this.P?(we(h,"$req",l),we(h,"SID","null"),b.T=!0,mh(b,h,null)):mh(b,h,l),this.G=2}}else this.G==3&&(a?O_(this,a):this.i.length==0||p_(this.h)||O_(this))};function O_(a,l){var h;l?h=l.l:h=a.U++;let p=_n(a.I);we(p,"SID",a.K),we(p,"RID",h),we(p,"AID",a.T),Ro(a,p),a.m&&a.o&&wh(p,a.m,a.o),h=new Jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=k_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ih(a.h,h),mh(h,p,l)}function Ro(a,l){a.H&&ee(a.H,function(h,p){we(l,p,h)}),a.l&&v_({},function(h,p){we(l,p,h)})}function k_(a,l,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let O=["count="+h];S==-1?0<h?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let me=!0;for(let ze=0;ze<h;ze++){let he=b[ze].g,Qe=b[ze].map;if(he-=S,0>he)S=Math.max(0,b[ze].g-100),me=!1;else try{aS(Qe,O,"req"+he+"_")}catch{p&&p(Qe)}}if(me){p=O.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function F_(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;ho||qv(),fo||(ho(),fo=!0),th.add(l,a),a.v=0}}function Dh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=_o(_(a.Fa,a),U_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,L_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=_o(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ic(this),L_(this))};function Th(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function L_(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=_n(a.qa);we(l,"RID","rpc"),we(l,"SID",a.K),we(l,"AID",a.T),we(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(l,"TO",a.ja),we(l,"TYPE","xmlhttp"),Ro(a,l),a.m&&a.o&&wh(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=yc(_n(l)),h.m=null,h.P=!0,l_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ic(this),Dh(this),st(19))};function Ec(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function V_(a,l){var h=null;if(a.g==l){Ec(a),Th(a),a.g=null;var p=2}else if(_h(a.h,l))h=l.D,m_(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var b=a.B;p=dc(),it(p,new o_(p,h)),wc(a)}else F_(a);else if(b=l.s,b==3||b==0&&0<l.X||!(p==1&&dS(a,l)||p==2&&Dh(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),b){case 1:$r(a,5);break;case 4:$r(a,10);break;case 3:$r(a,6);break;default:$r(a,2)}}}function U_(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function $r(a,l){if(a.j.info("Error code "+l),l==2){var h=_(a.fb,a),p=a.Xa;let b=!p;p=new Br(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||gc(p,"https"),yc(p),b?iS(p.toString(),h):sS(p.toString(),h)}else st(2);a.G=0,a.l&&a.l.sa(l),j_(a),P_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function j_(a){if(a.G=0,a.ka=[],a.l){let l=y_(a.h);(l.length!=0||a.i.length!=0)&&(R(a.ka,l),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function B_(a,l,h){var p=h instanceof Br?_n(h):new Br(h);if(p.g!="")l&&(p.g=l+"."+p.g),mc(p,p.s);else{var b=c.location;p=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;var S=new Br(null);p&&gc(S,p),l&&(S.g=l),b&&mc(S,b),h&&(S.l=h),p=S}return h=a.D,l=a.ya,h&&l&&we(p,h,l),we(p,"VER",a.la),Ro(a,p),p}function $_(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Te(new bo({eb:h})):new Te(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function H_(){}t=H_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dc(){}Dc.prototype.g=function(a,l){return new mt(a,l)};function mt(a,l){Ke.call(this),this.g=new x_(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!q(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!q(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Pi(this)}A(mt,Ke),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){Eh(this.g)},mt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=lh(a),a=h);l.i.push(new KA(l.Ya++,a)),l.G==3&&wc(l)},mt.prototype.N=function(){this.g.l=null,delete this.j,Eh(this.g),delete this.g,mt.aa.N.call(this)};function z_(a){hh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(z_,hh);function q_(){fh.call(this),this.status=1}A(q_,fh);function Pi(a){this.g=a}A(Pi,H_),Pi.prototype.ua=function(){it(this.g,"a")},Pi.prototype.ta=function(a){it(this.g,new z_(a))},Pi.prototype.sa=function(a){it(this.g,new q_)},Pi.prototype.ra=function(){it(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,py=qn.createWebChannelTransport=function(){return new Dc},fy=qn.getStatEventTarget=function(){return dc()},hy=qn.Event=Ur,Ed=qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hc.NO_ERROR=0,hc.TIMEOUT=8,hc.HTTP_ERROR=6,Ka=qn.ErrorCode=hc,a_.COMPLETE="complete",dy=qn.EventType=a_,n_.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,qs=qn.WebChannel=n_,Zj=qn.FetchXmlHttpFactory=bo,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,ly=qn.XhrIo=Te}).apply(typeof wd<"u"?wd:typeof self<"u"?self:typeof window<"u"?window:{});var f0="@firebase/firestore";var $e=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");var uo="10.14.0";var Ti=new Cr("@firebase/firestore");function Qa(){return Ti.logLevel}function $(t,...e){if(Ti.logLevel<=ae.DEBUG){let n=e.map(Ov);Ti.debug(`Firestore (${uo}): ${t}`,...n)}}function bi(t,...e){if(Ti.logLevel<=ae.ERROR){let n=e.map(Ov);Ti.error(`Firestore (${uo}): ${t}`,...n)}}function Sd(t,...e){if(Ti.logLevel<=ae.WARN){let n=e.map(Ov);Ti.warn(`Firestore (${uo}): ${t}`,...n)}}function Ov(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ce(t="Unexpected state"){let e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+t;throw bi(e),new Error(e)}function Re(t,e){t||ce()}function _e(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Et{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Rd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}},_y=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Iy=class{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Rd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new $e(e)}},wy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ey=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ty=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new Dy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Xj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Nd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Xj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function Qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Md=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fe=class t extends Md{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},e2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dt=class t extends Md{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return e2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};var by=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};by.UNKNOWN_ID=-1;function t2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ci(i,te.empty(),e)}function n2(t){return new Ci(t.readTime,t.key,-1)}var Ci=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Se.min(),te.empty(),-1)}static max(){return new t(Se.max(),te.empty(),-1)}};function r2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var i2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function F0(t){return w(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==i2)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function s2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yd(t){return t.name==="IndexedDbTransactionError"}var o2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function kv(t){return t==null}function tc(t){return t===0&&1/t==-1/0}function a2(t){return typeof t=="number"&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var c2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],y8=[...c2,"documentOverlays"],u2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],l2=u2,d2=[...l2,"indexConfiguration","indexState","indexEntries"];var v8=[...d2,"globals"];function p0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Tt=class t{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ws(this.root,e,this.comparator,!0)}},Ws=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xd(this.data.getIterator())}getIteratorFrom(e){return new xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gn=class t{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Dt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ay=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Kn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ay("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Kn.EMPTY_BYTE_STRING=new Kn("");var h2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(Re(!!t),typeof t=="string"){let e=0,n=h2.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}function Fv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function V0(t){let e=t.mapValue.fields.__previous_value__;return Fv(e)?V0(e):e}function Pd(t){let e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var Sy=class{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},Ry=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fv(t)?4:j0(t)?9007199254740991:U0(t)?10:11:ce()}function yn(t,e){if(t===e)return!0;let n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pd(t).isEqual(Pd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=kr(i.timestampValue),c=kr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ys(i.bytesValue).isEqual(Ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ke(i.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ke(i.integerValue)===ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ke(i.doubleValue),c=ke(s.doubleValue);return o===c?tc(o)===tc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Qs(t.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(p0(o)!==p0(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!yn(o[u],c[u])))return!1;return!0}(t,e);default:return ce()}}function nc(t,e){return(t.values||[]).find(n=>yn(n,e))!==void 0}function Zs(t,e){if(t===e)return 0;let n=Js(t),r=Js(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=ke(s.integerValue||s.doubleValue),u=ke(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return g0(t.timestampValue,e.timestampValue);case 4:return g0(Pd(t),Pd(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Ys(s),u=Ys(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=ve(c[d],u[d]);if(f!==0)return f}return ve(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ve(ke(s.latitude),ke(o.latitude));return c!==0?c:ve(ke(s.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return m0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,N=ve(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:m0(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Dd.mapValue&&o===Dd.mapValue)return 0;if(s===Dd.mapValue)return 1;if(o===Dd.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=ve(u[g],f[g]);if(_!==0)return _;let I=Zs(c[u[g]],d[f[g]]);if(I!==0)return I}return ve(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ce()}}function g0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=kr(t),r=kr(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function m0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Zs(n[i],r[i]);if(s)return s}return ve(n.length,r.length)}function Xs(t){return Ny(t)}function Ny(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Ny(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Ny(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function My(t){return!!t&&"integerValue"in t}function Lv(t){return!!t&&"arrayValue"in t}function Cd(t){return!!t&&"mapValue"in t}function U0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return sc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ja(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function j0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var pn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Ja(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ja(this.value))}};function B0(t){let e=[];return sc(t.fields,(n,r)=>{let i=new Dt([n]);if(Cd(r)){let s=B0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new gn(e)}var eo=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var to=class{constructor(e,n){this.position=e,this.inclusive=n}};function y0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Zs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yn(t.position[n],e.position[n]))return!1;return!0}var no=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function f2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Od=class{},He=class t extends Od{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Py(e,n,r):n==="array-contains"?new Fy(e,r):n==="in"?new Ly(e,r):n==="not-in"?new Vy(e,r):n==="array-contains-any"?new Uy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Oy(e,r):new ky(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zs(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fr=class t extends Od{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return $0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function $0(t){return t.op==="and"}function H0(t){return p2(t)&&$0(t)}function p2(t){for(let e of t.filters)if(e instanceof Fr)return!1;return!0}function xy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(H0(t))return t.filters.map(e=>xy(e)).join(",");{let e=t.filters.map(n=>xy(n)).join(",");return`${t.op}(${e})`}}function z0(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&yn(r.value,i.value)}(t,e):t instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&z0(o,i.filters[c]),!0):!1}(t,e):void ce()}function q0(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(t):"Filter"}var Py=class extends He{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},Oy=class extends He{constructor(e,n){super(e,"in",n),this.keys=G0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ky=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=G0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function G0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var Fy=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Lv(n)&&nc(n.arrayValue,this.value)}},Ly=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}},Vy=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}},Uy=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}};var jy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function _0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jy(t,e,n,r,i,s,o)}function Vv(t){let e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.ue=n}return e.ue}function Uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}var ro=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function g2(t,e,n,r,i,s,o,c){return new ro(t,e,n,r,i,s,o,c)}function m2(t){return new ro(t)}function I0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y2(t){return t.collectionGroup!==null}function Za(t){let e=_e(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ht(Dt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new no(s,r))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new no(Dt.keyField(),r))}return e.ce}function Ei(t){let e=_e(t);return e.le||(e.le=v2(e,Za(t))),e.le}function v2(t,e){if(t.limitType==="F")return _0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new no(i.field,s)});let n=t.endAt?new to(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new to(t.startAt.position,t.startAt.inclusive):null;return _0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function By(t,e,n){return new ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function W0(t,e){return Uv(Ei(t),Ei(e))&&t.limitType===e.limitType}function K0(t){return`${Vv(Ei(t))}|lt:${t.limitType}`}function Ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>q0(i)).join(", ")}]`),kv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xs(i)).join(",")),`Target(${r})`}(Ei(t))}; limitType=${t.limitType})`}function jv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let d=y0(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,Za(r),i)||r.endAt&&!function(o,c,u){let d=y0(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,Za(r),i))}(t,e)}function _2(t){return(e,n)=>{let r=!1;for(let i of Za(t)){let s=I2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function I2(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Zs(u,d):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var Lr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return L0(this.inner)}size(){return this.innerSize}};var w2=new Tt(te.comparator);function kd(){return w2}var Q0=new Tt(te.comparator);function Td(...t){let e=Q0;for(let n of t)e=e.insert(n.key,n);return e}function Y0(t){let e=Q0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return Xa()}function J0(){return Xa()}function Xa(){return new Lr(t=>t.toString(),(t,e)=>t.isEqual(e))}var E2=new Tt(te.comparator),D2=new ht(te.comparator);function nt(...t){let e=D2;for(let n of t)e=e.add(n);return e}var T2=new ht(ve);function b2(){return T2}function Bv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function Z0(t){return{integerValue:""+t}}function C2(t,e){return a2(e)?Z0(e):Bv(t,e)}var io=class{constructor(){this._=void 0}};function A2(t,e,n){return t instanceof so?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Fv(s)&&(s=V0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ai?eA(t,e):t instanceof Si?tA(t,e):function(i,s){let o=X0(i,s),c=w0(o)+w0(i.Pe);return My(o)&&My(i.Pe)?Z0(c):Bv(i.serializer,c)}(t,e)}function S2(t,e,n){return t instanceof Ai?eA(t,e):t instanceof Si?tA(t,e):n}function X0(t,e){return t instanceof oo?function(r){return My(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var so=class extends io{},Ai=class extends io{constructor(e){super(),this.elements=e}};function eA(t,e){let n=nA(e);for(let r of t.elements)n.some(i=>yn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Si=class extends io{constructor(e){super(),this.elements=e}};function tA(t,e){let n=nA(e);for(let r of t.elements)n=n.filter(i=>!yn(i,r));return{arrayValue:{values:n}}}var oo=class extends io{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function w0(t){return ke(t.integerValue||t.doubleValue)}function nA(t){return Lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function R2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ai&&i instanceof Ai||r instanceof Si&&i instanceof Si?Qs(r.elements,i.elements,yn):r instanceof oo&&i instanceof oo?yn(r.Pe,i.Pe):r instanceof so&&i instanceof so}(t.transform,e.transform)}var $y=class{constructor(e,n){this.version=e,this.transformResults=n}},Di=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ao=class{};function rA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fd(t.key,Di.none()):new Ri(t.key,t.data,Di.none());{let n=t.data,r=pn.empty(),i=new ht(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qn(t.key,r,new gn(i.toArray()),Di.none())}}function N2(t,e,n){t instanceof Ri?function(i,s,o){let c=i.value.clone(),u=D0(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Qn?function(i,s,o){if(!Ad(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=D0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(iA(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n,r){return t instanceof Ri?function(s,o,c,u){if(!Ad(s.precondition,o))return c;let d=s.value.clone(),f=T0(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qn?function(s,o,c,u){if(!Ad(s.precondition,o))return c;let d=T0(s.fieldTransforms,u,o),f=o.data;return f.setAll(iA(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Ad(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function M2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=X0(r.transform,i||null);s!=null&&(n===null&&(n=pn.empty()),n.set(r.field,s))}return n||null}function E0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qs(r,i,(s,o)=>R2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ri=class extends ao{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qn=class extends ao{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function iA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function D0(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,S2(o,c,n[i]))}return r}function T0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,A2(s,o,e))}return r}var Fd=class extends ao{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Hy=class extends ao{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&N2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=J0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=rA(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(n,r)=>E0(n,r))&&Qs(this.baseMutations,e.baseMutations,(n,r)=>E0(n,r))}},qy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return E2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Gy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pe,le;function x2(t){switch(t){default:return ce();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function P2(t){if(t===void 0)return bi("GRPC error has no .code"),x.UNKNOWN;switch(t){case Pe.OK:return x.OK;case Pe.CANCELLED:return x.CANCELLED;case Pe.UNKNOWN:return x.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return x.INTERNAL;case Pe.UNAVAILABLE:return x.UNAVAILABLE;case Pe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Pe.NOT_FOUND:return x.NOT_FOUND;case Pe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Pe.ABORTED:return x.ABORTED;case Pe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Pe.DATA_LOSS:return x.DATA_LOSS;default:return ce()}}(le=Pe||(Pe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var I8=new uy([4294967295,4294967295],0);var Wy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ky(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k2(t,e){return Ky(t,e.toTimestamp())}function Ks(t){return Re(!!t),Se.fromTimestamp(function(n){let r=kr(n);return new rt(r.seconds,r.nanos)}(t))}function sA(t,e){return Qy(t,e).canonicalString()}function Qy(t,e){let n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function F2(t){let e=Fe.fromString(t);return Re(z2(e)),e}function Yy(t,e){return sA(t.databaseId,e.path)}function L2(t){let e=F2(t);return e.length===4?Fe.emptyPath():U2(e)}function V2(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function U2(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b0(t,e,n){return{name:Yy(t,e),fields:n.value.mapValue.fields}}function j2(t,e){let n;if(e instanceof Ri)n={update:b0(t,e.key,e.value)};else if(e instanceof Fd)n={delete:Yy(t,e.key)};else if(e instanceof Qn)n={update:b0(t,e.key,e.data),updateMask:H2(e.fieldMask)};else{if(!(e instanceof Hy))return ce();n={verify:Yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof so)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ai)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Si)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof oo)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:k2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function B2(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ks(i.updateTime):Ks(s);return o.isEqual(Se.min())&&(o=Ks(s)),new $y(o,i.transformResults||[])}(n,e))):[]}function $2(t){let e=L2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=oA(g);return _ instanceof Fr&&H0(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(A){return new no(Gs(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,kv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new to(I,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,I=g.values||[];return new to(I,_)}(n.endAt)),g2(e,i,o,s,c,"F",u,d)}function oA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Gs(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Gs(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Gs(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Gs(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return He.create(Gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>oA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function Gs(t){return Dt.fromServerFormat(t.fieldPath)}function H2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Jy=class{constructor(e){this.ct=e}};function q2(t){let e=$2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?By(e,e.limit,"L"):e}var Ld=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),tc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=kr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ys(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?j0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):U0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ce()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ke(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ld.vt=new Ld;var Zy=class{constructor(){this.un=new Xy}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Ci.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Xy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Fe.comparator)).toArray()}};var w8=new Uint8Array(0);var fn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var rc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var ev=class{constructor(){this.changes=new Lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,eo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var nv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ec(r.mutation,i,gn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){let i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Td();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=kd(),o=Xa(),c=function(){return Xa()}();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Qn)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),ec(f.mutation,d,f.mutation.getFieldMask(),rt.now())):o.set(d.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new tv(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Xa(),i=new Tt((o,c)=>o-c),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||gn.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||nt()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=J0();f.forEach(_=>{if(!s.has(_)){let I=rA(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(wi()),c=-1,u=s;return o.next(d=>P.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,nt())).next(f=>({batchId:c,changes:Y0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Td();return this.indexManager.getCollectionParents(e,s).next(c=>P.forEach(c,u=>{let d=function(g,_){return new ro(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,eo.newInvalidDocument(f)))});let c=Td();return o.forEach((u,d)=>{let f=s.get(u);f!==void 0&&ec(f.mutation,d,gn.empty(),rt.now()),jv(n,d)&&(c=c.insert(u,d))}),c})}};var rv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ks(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:q2(i.bundledQuery),readTime:Ks(i.readTime)}}(n)),P.resolve()}};var iv=class{constructor(){this.overlays=new Tt(te.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=wi(),s=n.length+1,o=new te(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Tt((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=wi(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return P.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Gy(n,r));let s=this.Ir.get(n);s===void 0&&(s=nt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var sv=class{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var ic=class{constructor(){this.Tr=new ht(Oe.Er),this.dr=new ht(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new te(new Fe([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new te(new Fe([])),r=new Oe(n,e),i=new Oe(n,e+1),s=nt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||te.comparator(e.key,n.key)}};var ov=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ht(Oe.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new zy(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Oe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ve);return n.forEach(i=>{let s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new Oe(new te(s),0),c=new ht(ve);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},o),P.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var av=class{constructor(e){this.Mr=e,this.docs=function(){return new Tt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():eo.newInvalidDocument(n))}getEntries(e,n){let r=kd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():eo.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=kd(),o=n.path,c=new te(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||r2(n2(f),r)<=0||(i.has(f.key)||jv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cv(this)}getSize(e){return P.resolve(this.size)}},cv=class extends ev{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var uv=class{constructor(e){this.persistence=e,this.Nr=new Lr(n=>Vv(n),Uv),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ic,this.targetCount=0,this.kr=rc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var lv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new o2(0),this.Kr=!1,this.Kr=!0,this.$r=new sv,this.referenceDelegate=e(this),this.Ur=new uv(this),this.indexManager=new Zy,this.remoteDocumentCache=function(i){return new av(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Jy(n),this.Gr=new rv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ov(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new dv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},dv=class extends Cy{constructor(e){super(),this.currentSequenceNumber=e}},hv=class t{constructor(e){this.persistence=e,this.Jr=new ic,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=te.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var fv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=nt(),i=nt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var pv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Qb()?8:s2(Be())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new pv;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Qa()<=ae.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Qa()<=ae.DEBUG&&$("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Qa()<=ae.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):P.resolve())}Yi(e,n){if(I0(n))return P.resolve(null);let r=Ei(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=By(n,null,"F"),r=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=nt(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,c);return this.ns(n,d,o,u.readTime)?this.Yi(e,By(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return I0(n)||i.isEqual(Se.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(Qa()<=ae.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(n)),this.rs(e,o,n,t2(i,-1)).next(c=>c))})}ts(e,n){let r=new ht(_2(e));return n.forEach((i,s)=>{jv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Qa()<=ae.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ci.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var mv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Tt(ve),this._s=new Lr(s=>Vv(s),Uv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function G2(t,e,n,r){return new mv(t,e,n,r)}function aA(t,e){return w(this,null,function*(){let n=_e(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=nt();for(let d of i){o.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function W2(t,e){let n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let g=d.batch,_=g.keys(),I=P.resolve();return _.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(N=>{let R=d.docVersions.get(A);Re(R!==null),N.version.compareTo(R)<0&&(g.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),f.addEntry(N)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=nt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function K2(t){let e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Q2(t,e){let n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Vd=class{constructor(){this.activeTargetIds=b2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yv=class{constructor(){this.so=new Vd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vv=class{_o(e){}shutdown(){}};var Ud=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bd=null;function gy(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}var Y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var _v=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var tt="WebChannelConnection",Iv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=gy(),u=this.xo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(f=>($("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Sd("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Y2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=gy();return new Promise((o,c)=>{let u=new ly;u.setWithCredentials(!0),u.listenOnce(dy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ka.NO_ERROR:let f=u.getResponseJson();$(tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ka.TIMEOUT:$(tt,`RPC '${e}' ${s} timed out`),c(new H(x.DEADLINE_EXCEEDED,"Request time out"));break;case Ka.HTTP_ERROR:let g=u.getStatus();if($(tt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let A=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(F)>=0?F:x.UNKNOWN}(I.status);c(new H(A,I.message))}else c(new H(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(x.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{$(tt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);$(tt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=gy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=py(),c=fy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");$(tt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,A=new _v({Io:R=>{I?$(tt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||($(tt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),$(tt,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),N=(R,F,q)=>{R.listen(F,U=>{try{q(U)}catch(ne){setTimeout(()=>{throw ne},0)}})};return N(g,qs.EventType.OPEN,()=>{I||($(tt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(g,qs.EventType.CLOSE,()=>{I||(I=!0,$(tt,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(g,qs.EventType.ERROR,R=>{I||(I=!0,Sd(tt,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new H(x.UNAVAILABLE,"The operation could not be completed")))}),N(g,qs.EventType.MESSAGE,R=>{var F;if(!I){let q=R.data[0];Re(!!q);let U=q,ne=U.error||((F=U[0])===null||F===void 0?void 0:F.error);if(ne){$(tt,`RPC '${e}' stream ${i} received error:`,ne);let Ie=ne.status,ee=function(y){let E=Pe[y];if(E!==void 0)return P2(E)}(Ie),D=ne.message;ee===void 0&&(ee=x.INTERNAL,D="Unknown error status: "+Ie+" with message "+ne.message),I=!0,A.So(new H(ee,D)),g.close()}else $(tt,`RPC '${e}' stream ${i} received:`,q),A.bo(q)}}),N(c,hy.STAT_EVENT,R=>{R.stat===Ed.PROXY?$(tt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ed.NOPROXY&&$(tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function my(){return typeof document<"u"?document:null}function Jd(t){return new Wy(t,!0)}var jd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var wv=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Ev=class extends wv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=B2(e.writeResults,e.commitTime),r=Ks(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=V2(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>j2(this.serializer,r))};this.a_(n)}};var Dv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Qy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(x.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Qy(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(x.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Tv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(bi(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var bv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){ac(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let d=_e(u);d.L_.add(4),yield oc(d),d.q_.set("Unknown"),d.L_.delete(4),yield Zd(d)})}(this))}))}),this.q_=new Tv(r,i)}};function Zd(t){return w(this,null,function*(){if(ac(t))for(let e of t.B_)yield e(!0)})}function oc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function ac(t){return _e(t).L_.size===0}function cA(t,e,n){return w(this,null,function*(){if(!Yd(e))throw e;t.L_.add(1),yield oc(t),t.q_.set("Offline"),n||(n=()=>K2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Zd(t)}))})}function uA(t,e){return e().catch(n=>cA(t,n,e))}function Xd(t){return w(this,null,function*(){let e=_e(t),n=Vr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;J2(e);)try{let i=yield Q2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Z2(e,i)}catch(i){yield cA(e,i)}lA(e)&&dA(e)})}function J2(t){return ac(t)&&t.O_.length<10}function Z2(t,e){t.O_.push(e);let n=Vr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function lA(t){return ac(t)&&!Vr(t).n_()&&t.O_.length>0}function dA(t){Vr(t).start()}function X2(t){return w(this,null,function*(){Vr(t).p_()})}function eB(t){return w(this,null,function*(){let e=Vr(t);for(let n of t.O_)e.m_(n.mutations)})}function tB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=qy.from(r,e,n);yield uA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Xd(t)})}function nB(t,e){return w(this,null,function*(){e&&Vr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return x2(o)&&o!==x.ABORTED}(i.code)){let s=r.O_.shift();Vr(r).s_(),yield uA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Xd(r)}})}(t,e)),lA(t)&&dA(t)})}function C0(t,e){return w(this,null,function*(){let n=_e(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=ac(n);n.L_.add(3),yield oc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Zd(n)})}function rB(t,e){return w(this,null,function*(){let n=_e(t);e?(n.L_.delete(2),yield Zd(n)):e||(n.L_.add(2),yield oc(n),n.q_.set("Unknown"))})}function Vr(t){return t.U_||(t.U_=function(n,r,i){let s=_e(n);return s.w_(),new Ev(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:X2.bind(null,t),mo:nB.bind(null,t),f_:eB.bind(null,t),g_:tB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Xd(t)):(yield t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Cv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hA(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Yd(t))return new H(x.UNAVAILABLE,`${e}: ${t}`);throw t}var Av=class{constructor(){this.queries=A0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=_e(n),s=i.queries;i.queries=A0(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new H(x.ABORTED,"Firestore shutting down"))}};function A0(){return new Lr(t=>K0(t),W0)}function iB(t){t.Y_.forEach(e=>{e.next()})}var S0,R0;(R0=S0||(S0={})).ea="default",R0.Cache="cache";var Sv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Lr(c=>K0(c),W0),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(te.comparator),this.Na=new Map,this.La=new ic,this.Ba={},this.ka=new Map,this.qa=rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function sB(t,e,n){return w(this,null,function*(){let r=uB(t);try{let i=yield function(o,c){let u=_e(o),d=rt.now(),f=c.reduce((I,A)=>I.add(A.key),nt()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=kd(),N=nt();return u.cs.getEntries(I,f).next(R=>{A=R,A.forEach((F,q)=>{q.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(R=>{g=R;let F=[];for(let q of c){let U=M2(q,g.get(q.key).overlayedDocument);U!=null&&F.push(new Qn(q.key,U,B0(U.value.mapValue),Di.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,F,c)}).next(R=>{_=R;let F=R.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(I,R.batchId,F)})}).then(()=>({batchId:_.batchId,changes:Y0(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Tt(ve)),d=d.insert(c,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield eh(r,i.changes),yield Xd(r.remoteStore)}catch(i){let s=hA(i,"Failed to persist write");n.reject(s)}})}function N0(t,e,n){let r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=_e(o);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(d=!0)}),d&&iB(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oB(t,e){return w(this,null,function*(){let n=_e(t),r=e.batch.batchId;try{let i=yield W2(n.localStore,e);pA(n,r,null),fA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield eh(n,i)}catch(i){yield F0(i)}})}function aB(t,e,n){return w(this,null,function*(){let r=_e(t);try{let i=yield function(o,c){let u=_e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(Re(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);pA(r,e,n),fA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield eh(r,i)}catch(i){yield F0(i)}})}function fA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function pA(t,e,n){let r=_e(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function eh(t,e,n){return w(this,null,function*(){let r=_e(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=fv.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return w(this,null,function*(){let f=_e(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(d,_=>P.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>P.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Yd(g))throw g;$("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),A=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,N)}}})}(r.localStore,s))})}function cB(t,e){return w(this,null,function*(){let n=_e(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield aA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new H(x.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield eh(n,r.hs)}})}function uB(t){let e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aB.bind(null,e),e}var M0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=Jd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return G2(this.persistence,new gv,n.initialUser,this.serializer)}Ga(n){return new lv(hv.Zr,this.serializer)}Wa(n){return new yv}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var lB=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>N0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cB.bind(null,this.syncEngine),yield rB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Av}()}createDatastore(n){let r=Jd(n.databaseInfo.databaseId),i=function(o){return new Iv(o)}(n.databaseInfo);return function(o,c,u,d){return new Dv(o,c,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new bv(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>N0(this.syncEngine,r,0),function(){return Ud.D()?new Ud:new vv}())}createSyncEngine(n,r){return function(s,o,c,u,d,f,g){let _=new Sv(s,o,c,u,d,f);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=_e(s);$("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield oc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Rv=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$e.UNAUTHENTICATED,this.clientId=Nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){$("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=hA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield aA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function x0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield dB(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>C0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>C0(e.remoteStore,i)),t._onlineComponents=e})}function dB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Sd("Error using user provided cache. Falling back to memory cache: "+n),yield yy(t,new M0)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield yy(t,new M0);return t._offlineComponents})}function hB(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield x0(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield x0(t,new lB))),t._onlineComponents})}function fB(t){return hB(t).then(e=>e.syncEngine)}function gA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var P0=new Map;function mA(t,e,n){if(!n)throw new H(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pB(t,e,n,r){if(e===!0&&r===!0)throw new H(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O0(t){if(!te.isDocumentKey(t))throw new H(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k0(t){if(te.isDocumentKey(t))throw new H(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $v(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function yA(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=$v(t);throw new H(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Bd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},co=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vy;switch(r.type){case"firstParty":return new Ey(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=P0.get(n);r&&($("ComponentProvider","Removing Datastore"),P0.delete(n),r.terminate())}(this),Promise.resolve()}};function vA(t,e,n,r={}){var i;let s=(t=yA(t,co))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Sd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=$e.MOCK_USER;else{c=Hb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $e(d)}t._authCredentials=new _y(new Rd(c,u))}}var Nv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Wn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Or=class t extends Nv{constructor(e,n,r){super(e,n,m2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function _A(t,e,...n){if(t=dt(t),mA("collection","path",e),t instanceof co){let r=Fe.fromString(e,...n);return k0(r),new Or(t,null,r)}{if(!(t instanceof Wn||t instanceof Or))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return k0(r),new Or(t.firestore,null,r)}}function IA(t,e,...n){if(t=dt(t),arguments.length===1&&(e=Nd.newId()),mA("doc","path",e),t instanceof co){let r=Fe.fromString(e,...n);return O0(r),new Wn(t,null,new te(r))}{if(!(t instanceof Wn||t instanceof Or))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return O0(r),new Wn(t.firestore,t instanceof Or?t.converter:null,new te(r))}}var $d=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jd(this,"async_queue_retry"),this.Vu=()=>{let r=my();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=my();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=my();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Gn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yd(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw bi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Cv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Hd=class extends co{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $d,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new $d(e),this._firestoreClient=void 0,yield e}})}};function wA(t,e){let n=typeof t=="object"?t:Us(),r=typeof t=="string"?t:e||"(default)",i=La(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=$b("firestore");s&&vA(i,...s)}return i}function gB(t){if(t._terminated)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mB(t),t._firestoreClient}function mB(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,d,f){return new Sy(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,gA(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Rv(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var zd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Kn.fromBase64String(e))}catch(n){throw new H(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var qd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gd=class{constructor(e){this._methodName=e}};var Wd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var Kd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var yB=/^__.*__$/,Mv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ri(e,this.data,n,this.fieldTransforms)}};function EA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var xv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(EA(this.Cu)&&yB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Pv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jd(e)}Qu(e,n,r,i=!1){return new xv({Cu:e,methodName:n,qu:r,path:Dt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function vB(t){let e=t._freezeSettings(),n=Jd(t._databaseId);return new Pv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _B(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);CA("Data must be an object, but it was:",o,r);let c=TA(r,o),u,d;if(s.merge)u=new gn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=IB(e,g,n);if(!o.contains(_))throw new H(x.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);DB(f,_)||f.push(_)}u=new gn(f),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new Mv(new pn(c),u,d)}function DA(t,e){if(bA(t=dt(t)))return CA("Unsupported field value:",e,t),TA(t,e);if(t instanceof Gd)return function(r,i){if(!EA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=DA(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=rt.fromDate(r);return{timestampValue:Ky(i.serializer,s)}}if(r instanceof rt){let s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ky(i.serializer,s)}}if(r instanceof Wd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zd)return{bytesValue:O2(i.serializer,r._byteString)};if(r instanceof Wn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kd)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Bv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$v(r)}`)}(t,e)}function TA(t,e){let n={};return L0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(t,(r,i)=>{let s=DA(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Wd||t instanceof zd||t instanceof Wn||t instanceof Gd||t instanceof Kd)}function CA(t,e,n){if(!bA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=$v(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function IB(t,e,n){if((e=dt(e))instanceof qd)return e._internalPath;if(typeof e=="string")return EB(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}var wB=new RegExp("[~\\*/\\[\\]]");function EB(t,e,n){if(e.search(wB)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(x.INVALID_ARGUMENT,c+t+u)}function DB(t,e){return t.some(n=>n.isEqual(e))}function TB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function AA(t,e){let n=yA(t.firestore,Hd),r=IA(t),i=TB(t.converter,e);return bB(n,[_B(vB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Di.exists(!1))]).then(()=>r)}function bB(t,e){return function(r,i){let s=new Gn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return sB(yield fB(r),i,s)})),s.promise}(gB(t),e)}(function(e,n=!0){(function(i){uo=i})(Rr),Sr(new Ot("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Hd(new Iy(r.getProvider("auth-internal")),new Ty(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ry(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ve(f0,"4.7.3",e),Ve(f0,"4.7.3","esm2017")})();var Ni=class{constructor(e){return e}},SA="firestore",Hv=class{constructor(){return Va(SA)}};var zv=new L("angularfire2.firestore-instances");function CB(t,e){let n=td(SA,t,e);return n&&new Ni(n)}function AB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var SB={provide:Hv,deps:[[new Je,zv]]},RB={provide:Ni,useFactory:CB,deps:[[new Je,zv],Bn]};function z5(t,...e){return Ve("angularfire",pi.full,"fst"),Rt([RB,SB,{provide:zv,useFactory:AB(t),multi:!0,deps:[fe,Ge,$s,gi,[new Je,Wa],[new Je,Bs],...e]}])}var RA=Gt(AA,!0);var NA=Gt(_A,!0);var q5=Gt(wA,!0);var MA=class t{constructor(e,n,r){this.auth=e;this.router=n;this.firestore=r;this.auth.onAuthStateChanged(i=>{this.userActive=i})}userActive=null;isLoading=!1;Login(e,n){return w(this,null,function*(){this.isLoading=!0;try{let r=yield c0(this.auth,e,n);this.userActive=r.user;let i=NA(this.firestore,"logins");yield RA(i,{userId:r.user.uid,email:r.user.email,loginTime:new Date}),this.router.navigate(["/bienvenida"])}catch(r){throw console.error("Error al iniciar sesi\xF3n:",r),r}finally{this.isLoading=!1}})}logout(){return w(this,null,function*(){yield u0(this.auth),this.userActive=null,this.router.navigate(["/bienvenida"])})}isLoggedIn(){return this.userActive!==null}getUser(){return this.userActive}getUserEmail(){return this.userActive?this.userActive.email:null}static \u0275fac=function(n){return new(n||t)(B(Ii),B(zt),B(Ni))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};export{k as a,re as b,w as c,Ue as d,z as e,Y as f,Dn as g,V as h,tn as i,B as j,Ow as k,nn as l,Y4 as m,J4 as n,Z4 as o,X4 as p,eM as q,eW as r,W as s,iP as t,mP as u,wD as v,ED as w,Vp as x,NP as y,MP as z,iW as A,Bt as B,sW as C,LP as D,TD as E,oW as F,aW as G,UP as H,bD as I,jP as J,cW as K,BP as L,AD as M,uW as N,lW as O,dW as P,LW as Q,VW as R,mO as S,CO as T,ZW as U,T9 as V,C1 as W,zt as X,v3 as Y,_3 as Z,I3 as _,c6 as $,u6 as aa,Ii as ba,n8 as ca,r8 as da,i8 as ea,Ni as fa,z5 as ga,RA as ha,NA as ia,q5 as ja,MA as ka,lk as la,ET as ma,dT as na,$9 as oa,H9 as pa,Ok as qa,Lk as ra,q9 as sa,Uk as ta,Bk as ua,Hk as va,zT as wa,G9 as xa,W9 as ya,Yk as za,K9 as Aa,Q9 as Ba,Y9 as Ca};
