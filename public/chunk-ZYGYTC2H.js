import{$ as Ee,$a as Rn,$b as vi,A as G,Ab as wt,B as ye,Bb as It,C as xe,Cb as ii,D as Be,Da as bn,Db as ri,E as Le,Ea as _n,Eb as At,F as rn,Fa as Cn,Fb as oi,G as ne,Ga as ae,Gb as ai,H as ie,Ha as vn,Hb as si,I as re,Ia as yn,Ib as li,J as p,Ja as xn,Jb as ci,K as B,Ka as En,Kb as di,L as v,La as Sn,Lb as ui,M as h,Ma as wn,Mb as pi,N as s,Na as In,Nb as fi,O as a,Oa as An,Ob as mi,P as _,Pa as Ie,Q as je,Qa as vt,Qb as hi,R as W,Ra as Pn,Rb as gi,S as E,Sa as Ke,T as on,Ta as yt,U as ze,Ua as kn,V as an,Va as Tn,Vb as bi,W as sn,Wa as Mn,X as ln,Xa as On,Xb as se,Ya as Dn,Yb as _i,Z as l,Za as Nn,Zb as Ci,_ as y,_a as Fn,_b as M,a as _e,ab as Bn,ac as yi,b as Qt,bb as Ln,c as Yt,cb as jn,d as Ce,da as cn,db as We,dc as xi,e as De,ea as Ue,eb as xt,ec as Ei,f as q,fa as dn,fb as zn,fc as Si,g as O,gb as V,gc as wi,h as C,ha as ht,hb as Un,hc as Ii,i as Xt,ia as Ge,ib as Gn,ic as Ai,j as ve,ja as L,jb as Vn,jc as Pi,k as pt,ka as un,kb as qn,l as en,la as Ve,lb as $n,lc as ki,m as tn,ma as pn,mb as Hn,n as Ne,nb as Kn,o as Fe,ob as Wn,p as ft,pb as Jn,pc as Ti,q as Re,qb as Je,qc as Mi,r as K,ra as qe,rb as Zn,rc as Oi,s as mt,sb as Et,t as te,ta as gt,tb as St,tc as Di,u as U,ua as oe,ub as Qn,uc as Ni,v as x,va as we,vb as Yn,vc as Fi,w as m,wa as He,wb as Xn,wc as Ri,xa as w,xb as ei,xc as Bi,y as nn,yb as ti,yc as le,z as R,zb as ni}from"./chunk-YEXN66B4.js";import{a as I}from"./chunk-7XIV62LP.js";import{A as gn,E as _t,L as Ct,e as fn,i as bt,q as mn,s as hn,x as $e,y as Se}from"./chunk-WRDE4YEV.js";import{a as ee,b as be,i as F}from"./chunk-5KHZBZE7.js";var ce=class n{constructor(e){this.http=e}ruta="https://restcountries.com/v3.1/all";paises=[];transformarPais(e){return{nombre:this.obtenerNombreEnEspa\u00F1ol(e),banderaUrl:e.flags?.png||"",codigo:e.cca2,continente:this.traducirContinente(e.region||"Desconocido")}}traerPaises(){return this.http.get(this.ruta).pipe(C(e=>e.map(t=>this.transformarPais(t)).sort((t,i)=>t.nombre.localeCompare(i.nombre))),pt(e=>(console.error("Error al obtener pa\xEDses:",e),O([]))))}getPaisOrigen(e){return this.paises.find(t=>t.codigo===e)||null}obtenerNombreEnEspa\u00F1ol(e){let t=e.name?.translations?.spa?.common||e.name?.common||"Desconocido";return this.traducirNombrePais(t)}obtenerPaisesPorContinente(e){return this.traerPaises().pipe(C(t=>t.filter(i=>i.continente===e)),pt(t=>(console.error("Error al obtener pa\xEDses por continente:",t),O([]))))}obtenerPaisesEnEspa\u00F1ol(){return this.traerPaises().pipe(C(e=>e.map(t=>t.nombre)))}traducirNombrePais(e){return this.traducciones[e]||e}traducirContinente(e){return this.traduccionesContinentes[e]||"Desconocido"}traduccionesContinentes={Europe:"Europa",Asia:"Asia",Africa:"\xC1frica",Oceania:"Ocean\xEDa",Americas:"Am\xE9ricas",Antarctic:"Ant\xE1rtida"};traducciones={Afghanistan:"Afganist\xE1n",Albania:"Albania",Algeria:"Argelia",Andorra:"Andorra",Angola:"Angola","Antigua and Barbuda":"Antigua y Barbuda",Argentina:"Argentina",Armenia:"Armenia",Australia:"Australia",Austria:"Austria",Azerbaijan:"Azerbaiy\xE1n",Antarctic:"Antartida",Antarctica:"Antartida",Bahamas:"Bahamas",Bahrain:"Bar\xE9in",Bangladesh:"Banglad\xE9s",Barbados:"Barbados",Belarus:"Bielorrusia",Belgium:"B\xE9lgica",Belize:"Belice",Benin:"Ben\xEDn",Bhutan:"But\xE1n",Bolivia:"Bolivia","Bosnia and Herzegovina":"Bosnia y Herzegovina",Botswana:"Botsuana",Brazil:"Brasil",Brunei:"Brun\xE9i",Bulgaria:"Bulgaria","Burkina Faso":"Burkina Faso",Burundi:"Burundi","British Indian Ocean Territory":"Territorio Britanico del Oceano Indico","Caribbean Netherlands":"Caribe Holandes","Cayman Islands":"Isla Caiman","Cabo Verde":"Cabo Verde",Cambodia:"Camboya",Cameroon:"Camer\xFAn",Canada:"Canad\xE1","Cape Verde":"Cabo Verde","Central African Republic":"Rep\xFAblica Centroafricana",Chad:"Chad",Chile:"Chile",China:"China",Czechia:"Republica Checa",Colombia:"Colombia",Comoros:"Comoras","Congo, Democratic Republic of the":"Rep\xFAblica Democr\xE1tica del Congo","Congo, Republic of the":"Rep\xFAblica del Congo","Costa Rica":"Costa Rica","Cook Islands":"Isla de Cook",Croatia:"Croacia","Christmas Island":"Isla de Navidad",Cuba:"Cuba",Cyprus:"Chipre","Czech Republic":"Rep\xFAblica Checa",Denmark:"Dinamarca",Djibouti:"Yibuti",Dominica:"Dominica","DR Congo":"Republica Democratica del congo","Dominican Republic":"Rep\xFAblica Dominicana",Ecuador:"Ecuador",Egypt:"Egipto","El Salvador":"El Salvador","Equatorial Guinea":"Guinea Ecuatorial",Eritrea:"Eritrea",Estonia:"Estonia",Eswatini:"Esuatini",Ethiopia:"Etiop\xEDa",Fiji:"Fiyi",Finland:"Finlandia","French Polynesia":"Polinesia Francesa",France:"Francia","Faroe Islands":"Islas de Faroe","Falkland Islands":"Isla Falkland","French Guiana":"Guayana Francesa","French Southern and Antarctic Lands":"Tierras Australes y Ant\xE1rticas Francesas",Gabon:"Gab\xF3n",Gambia:"Gambia",Georgia:"Georgia",Germany:"Alemania",Ghana:"Ghana",Greece:"Grecia",Grenada:"Granada",Greenland:"Groenlandia",Guatemala:"Guatemala",Guinea:"Guinea",Guernsey:"Isla Guernsey","Guinea-Bissau":"Guinea-Bis\xE1u",Guyana:"Guyana",Haiti:"Hait\xED",Honduras:"Honduras","Heard Island and McDonald Islands":"Islas Heard y McDonald",Hungary:"Hungr\xEDa",Iceland:"Islandia","Isle of Man":"Isla de Man","\xC5land Islands":"Isla Aland",India:"India",Indonesia:"Indonesia",Iran:"Ir\xE1n",Iraq:"Irak",Ireland:"Irlanda",Israel:"Israel",Italy:"Italia","Svalbard and Jan Mayen":"Isla Svalbard y Jan Mayen","Ivory Coast":"Costa de Marfil",Jamaica:"Jamaica",Japan:"Jap\xF3n",Jordan:"Jordania",Kazakhstan:"Kazajist\xE1n",Kenya:"Kenia",Kiribati:"Kiribati",Kuwait:"Kuwait",Kyrgyzstan:"Kirguist\xE1n",Laos:"Laos",Latvia:"Letonia",Lebanon:"L\xEDbano",Lesotho:"Lesoto",Liberia:"Liberia",Libya:"Libia",Liechtenstein:"Liechtenstein",Lithuania:"Lituania",Luxembourg:"Luxemburgo",Madagascar:"Madagascar",Malawi:"Malawi",Malaysia:"Malasia",Maldives:"Maldivas",Mali:"Mal\xED",Malta:"Malta","Marshall Islands":"Islas Marshall",Mauritania:"Mauritania",Mauritius:"Mauricio",Mexico:"M\xE9xico",Micronesia:"Micronesia",Moldova:"Moldavia",Monaco:"M\xF3naco",Mongolia:"Mongolia",Montenegro:"Montenegro",Morocco:"Marruecos",Mozambique:"Mozambique",Myanmar:"Birmania",Namibia:"Namibia",Nauru:"Nauru",Nepal:"Nepal",Netherlands:"Pa\xEDses Bajos","New Zealand":"Nueva Zelanda",Nicaragua:"Nicaragua",Niger:"N\xEDger",Nigeria:"Nigeria","North Korea":"Corea del Norte","North Macedonia":"Macedonia del Norte","Northern Mariana Islands":"Islas de Mariana del Norte","Norfolk Island":"Isla de Norfolk","Bouvet Island":"Isla de Bouvet",Norway:"Noruega",Oman:"Om\xE1n",Pakistan:"Pakist\xE1n",Palau:"Palaos",Palestine:"Palestina",Panama:"Panam\xE1","Papua New Guinea":"Pap\xFAa Nueva Guinea",Paraguay:"Paraguay",Peru:"Per\xFA",Philippines:"Filipinas","Pitcairn Islands":"Las Islas Pitcairn",Poland:"Polonia",Portugal:"Portugal",Qatar:"Catar",Romania:"Ruman\xEDa","Republic of the Congo":"Republica de Congo",Russia:"Rusia",Rwanda:"Ruanda","Saint Kitts and Nevis":"San Crist\xF3bal y Nieves","Sint Maarten":"Isla de San Martin(Frances)","Saint Martin":"Isla de San Martin (Holandes)","Saint Pierre and Miquelon":"San Pedro y Miquelon","Saint Vincent and the Grenadines":"San Vicente y las Granadinas",Samoa:"Samoa","San Marino":"San Marino","Saint Barth\xE9lemy":"San Bartolome","S\xE3o Tom\xE9 and Pr\xEDncipe":"Santo Tom\xE9 y Pr\xEDncipe","Saint Helena, Ascension and Tristan da Cunha":" Islas de Santa Elena, Ascensi\xF3n y Trist\xE1n de Acu\xF1a","Saudi Arabia":"Arabia Saudita",Senegal:"Senegal",Serbia:"Serbia",Seychelles:"Seychelles","Sierra Leone":"Sierra Leona",Singapore:"Singapur",Slovakia:"Eslovaquia",Slovenia:"Eslovenia","Solomon Islands":"Islas Salom\xF3n",Somalia:"Somalia","South Africa":"Sud\xE1frica","South Georgia":"Georgia del Sur","South Korea":"Corea del Sur","South Sudan":"Sud\xE1n del Sur",Spain:"Espa\xF1a","Sri Lanka":"Sri Lanka",Sudan:"Sud\xE1n",Suriname:"Surinam",Sweden:"Suecia",Switzerland:"Suiza",Syria:"Siria",Taiwan:"Taiw\xE1n",Tajikistan:"Tayikist\xE1n","Turks and Caicos Islands":"Islas Turcas y Caicos",Tanzania:"Tanzania",Thailand:"Tailandia",Togo:"Togo",Tonga:"Tonga","Trinidad and Tobago":"Trinidad y Tobago",Tunisia:"T\xFAnez",Turkey:"Turqu\xEDa",Turkmenistan:"Turkmenist\xE1n",Tuvalu:"Tuvalu",Uganda:"Uganda",Ukraine:"Ucrania","United Arab Emirates":"Emiratos \xC1rabes Unidos","United Kingdom":"Reino Unido","United States":"Estados Unidos","United States Virgin Islands":"Islas Virgenes de los Estados Unidos","United States Minor Outlying Islands":"Islas Ultramarinas Menores de los Estados Unidos",Uruguay:"Uruguay",Uzbekistan:"Uzbekist\xE1n",Vanuatu:"Vanuatu","Vatican City":"Ciudad del Vaticano",Venezuela:"Venezuela",Vietnam:"Vietnam",Yemen:"Yemen","Wallis and Futuna":"Wallis y Futuna",Zambia:"Zambia",Zimbabwe:"Zimbabue"};static \u0275fac=function(t){return new(t||n)(m(pn))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})};var _r=()=>["/bienvenida"];function Cr(n,e){n&1&&(s(0,"div",29),l(1," Este campo es obligatorio. Solo debe contener letras "),a())}function vr(n,e){n&1&&(s(0,"div",29),l(1," Este campo es obligatorio. "),a())}function yr(n,e){n&1&&(s(0,"div",29),l(1," El DNI debe ser un n\xFAmero v\xE1lido de 8 d\xEDgitos. "),a())}function xr(n,e){n&1&&(s(0,"div",29),l(1," Este campo es obligatorio. "),a())}function Er(n,e){n&1&&(s(0,"div",29),l(1," Debe ser mayor de 18 y menor de 50 a\xF1os. "),a())}function Sr(n,e){n&1&&(s(0,"div",29),l(1," El n\xFAmero de licencia debe tener un minimo de 7 d\xEDgitos. "),a())}function wr(n,e){n&1&&(s(0,"div",29),l(1," Debe ser un n\xFAmero v\xE1lido. "),a())}function Ir(n,e){if(n&1&&(s(0,"option",30),l(1),a()),n&2){let t=e.$implicit;h("value",t.codigo),p(),y(t.nombre)}}function Ar(n,e){n&1&&(s(0,"div",31),l(1," Debe seleccionar un pa\xEDs de origen. "),a())}function Pr(n,e){if(n&1&&(s(0,"div",32)(1,"h3"),l(2,"Pa\xEDs Seleccionado:"),a(),s(3,"p")(4,"strong"),l(5,"Nombre:"),a(),l(6),a(),s(7,"p")(8,"strong"),l(9,"Continente:"),a(),l(10),a(),_(11,"img",33),a()),n&2){let t=E(2);p(6),Ee(" ",t.paisSeleccionado.nombre,""),p(4),Ee(" ",t.paisSeleccionado.continente,""),p(),ze("alt","Bandera de ",t.paisSeleccionado.nombre,""),h("src",t.paisSeleccionado.banderaUrl,re)}}function kr(n,e){if(n&1){let t=je();s(0,"form",10),W("ngSubmit",function(){ye(t);let r=E();return xe(r.altaChofer())}),s(1,"div",11)(2,"label",12),l(3,"Nombre:"),a(),_(4,"input",13),v(5,Cr,2,0,"div",9),a(),s(6,"div",11)(7,"label",14),l(8,"DNI:"),a(),_(9,"input",15),v(10,vr,2,0,"div",9)(11,yr,2,0,"div",9),a(),s(12,"div",11)(13,"label",16),l(14,"Edad:"),a(),_(15,"input",17),v(16,xr,2,0,"div",9)(17,Er,2,0,"div",9),a(),s(18,"div",11)(19,"label",18),l(20,"N\xFAmero de Licencia:"),a(),_(21,"input",19),v(22,Sr,2,0,"div",9)(23,wr,2,0,"div",9),a(),s(24,"div",11)(25,"label",20),l(26,"\xBFTiene Licencia Profesional:?"),a(),_(27,"input",21),a(),s(28,"div",11)(29,"label",22),l(30,"Pa\xEDs de origen:"),a(),s(31,"select",23),W("change",function(r){ye(t);let o=E();return xe(o.onPaisChange(r))}),s(32,"option",24),l(33,"Selecciona un pa\xEDs"),a(),v(34,Ir,2,2,"option",25),a(),v(35,Ar,2,0,"div",26),a(),v(36,Pr,12,5,"div",27),_(37,"br"),s(38,"button",28),l(39,"Alta Chofer"),a()()}if(n&2){let t,i,r,o,d,c,u,g,f=E();h("formGroup",f.choferForm),p(5),h("ngIf",((t=f.choferForm.get("nombre"))==null?null:t.invalid)&&(((t=f.choferForm.get("nombre"))==null?null:t.touched)||f.submitted)),p(5),h("ngIf",((i=f.choferForm.get("dni"))==null?null:i.invalid)&&(((i=f.choferForm.get("dni"))==null?null:i.touched)||f.submitted)),p(),h("ngIf",(r=f.choferForm.get("dni"))==null?null:r.hasError("pattern")),p(5),h("ngIf",((o=f.choferForm.get("edad"))==null?null:o.invalid)&&(((o=f.choferForm.get("edad"))==null?null:o.touched)||f.submitted)),p(),h("ngIf",((d=f.choferForm.get("edad"))==null?null:d.hasError("min"))||((d=f.choferForm.get("edad"))==null?null:d.hasError("max"))),p(5),h("ngIf",((c=f.choferForm.get("nrolicencia"))==null?null:c.invalid)&&(((c=f.choferForm.get("nrolicencia"))==null?null:c.touched)||f.submitted)),p(),h("ngIf",(u=f.choferForm.get("nrolicencia"))==null?null:u.hasError("pattern")),p(11),h("ngForOf",f.paises),p(),h("ngIf",((g=f.choferForm.get("paisOrigen"))==null?null:g.invalid)&&((g=f.choferForm.get("paisOrigen"))==null?null:g.touched)),p(),h("ngIf",f.paisSeleccionado)}}function Tr(n,e){n&1&&(s(0,"div",34),_(1,"div",35),a())}function Mr(n,e){n&1&&(s(0,"div",36)(1,"p"),l(2,"\u{1F60A}Chofer dado de alta satisfactoriamente. \xA1Carga terminada! \u{1F60A}"),a()())}function Or(n,e){n&1&&(s(0,"p",29),l(1,"Por favor completa todos los campos obligatorios."),a())}var Ze=class n{constructor(e,t,i,r){this.paisService=e;this.fb=t;this.authService=i;this.firestore=r;this.choferForm=this.fb.group({nombre:["",[M.required,M.pattern("^[a-zA-Z ]+$")]],dni:["",[M.required,M.pattern("^[0-9]{8}$")]],edad:["",[M.required,M.min(18),M.max(50)]],nrolicencia:["",[M.required,M.minLength(7),M.pattern("^[0-9]+$")]],licencia:[!1],paisOrigen:["",M.required]})}paises=[];paisSeleccionado=null;choferForm;submitted=!1;isLoading=!1;completed=!1;ngOnInit(){this.cargarPaises()}cargarPaises(){this.paisService.traerPaises().subscribe(e=>{this.paises=e,console.log(this.paises)})}seleccionarPais(e){this.paisSeleccionado=e,this.choferForm.patchValue({paisOrigen:e.codigo})}altaChofer(){return F(this,null,function*(){if(this.submitted=!0,this.choferForm.markAllAsTouched(),this.choferForm.invalid)return;let e=this.authService.getUser()?.uid;if(e){this.isLoading=!0;try{let t=gi(this.firestore,"choferes"),i=this.choferForm.value.licencia?"s\xED":"no",r=this.paisSeleccionado?this.paisSeleccionado.nombre:"";yield hi(t,be(ee({},this.choferForm.value),{licencia:i,paisOrigen:r,usuarioId:e,timestamp:new Date})),this.choferForm.reset(),this.submitted=!1,this.paisSeleccionado=null,this.completed=!0,setTimeout(()=>{this.isLoading=!1,this.completed=!0},1e3)}catch(t){this.isLoading=!1,console.error("Error al dar de alta chofer: ",t)}}else console.warn("No hay usuario logueado")})}onPaisChange(e){let t=e.target;if(t){let i=t.value,r=this.paises.find(o=>o.codigo===i);r&&(this.paisSeleccionado=r,this.choferForm.patchValue({paisOrigen:i}))}else console.error("El elemento select no se encontr\xF3")}static \u0275fac=function(t){return new(t||n)(B(ce),B(Ti),B(bi),B(mi))};static \u0275cmp=R({type:n,selectors:[["app-alta-chofer"]],decls:14,vars:6,consts:[[1,"button",3,"routerLink"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"altas-choferes-container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","spinner-overlay",4,"ngIf"],["class","confirmation-message",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","dni"],["id","dni","type","number","formControlName","dni","required","",1,"form-control"],["for","edad"],["id","edad","type","number","formControlName","edad","required","",1,"form-control"],["for","nrolicencia"],["type","text","id","nrolicencia","formControlName","nrolicencia","required","",1,"form-control"],["for","licencia"],["id","licencia","type","checkbox","formControlName","licencia"],["for","paisOrigen"],["id","paisOrigen","formControlName","paisOrigen",1,"form-select",3,"change"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["class","pais-seleccionado",4,"ngIf"],["type","submit",1,"submit-btn"],[1,"error-message"],[3,"value"],[1,"error"],[1,"pais-seleccionado"],["width","50",3,"src","alt"],[1,"spinner-overlay"],[1,"spinner"],[1,"confirmation-message"]],template:function(t,i){t&1&&(_(0,"app-header"),s(1,"div")(2,"a",0)(3,"div",1)(4,"span",2),Be(),s(5,"svg",3),_(6,"path",4),a()()()()(),Le(),s(7,"div",5)(8,"h2"),l(9,"Alta de Chofer"),a(),v(10,kr,40,11,"form",6),a(),v(11,Tr,2,0,"div",7)(12,Mr,3,0,"div",8)(13,Or,2,0,"p",9)),t&2&&(p(2),h("routerLink",Ue(5,_r)),p(8),h("ngIf",!i.completed),p(),h("ngIf",i.isLoading),p(),h("ngIf",i.completed),p(),h("ngIf",i.submitted&&i.choferForm.invalid))},dependencies:[Ge,L,qe,xi,Ai,Pi,Ci,Ei,_i,Ii,vi,yi,ki,Si,wi,se],styles:[".button-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;top:30px;left:30px;background-color:#00000080;padding:10px;border-radius:50px;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease,box-shadow .3s ease}.button-box[_ngcontent-%COMP%]:hover{background-color:#000000b3;box-shadow:0 6px 12px #0003}.button-elem[_ngcontent-%COMP%]{display:block;width:24px;height:24px;margin:0 12px;transform:rotate(180deg);fill:#fff;transition:fill .3s ease,transform .3s ease}.button-elem[_ngcontent-%COMP%]:hover{fill:#00bcd4;transform:rotate(180deg) scale(1.1)}.altas-choferes-container[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:25px;border-radius:10px;background-color:#f4f6f9;box-shadow:0 6px 15px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#444}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:12px;border:1px solid #ccc;border-radius:6px;font-size:16px;transition:border-color .3s,box-shadow .3s;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff4d;outline:none}button.submit-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 20px;border:none;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s;width:auto;display:block;margin:0 auto}button.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.error-message[_ngcontent-%COMP%]{font-size:14px;color:#e74c3c;margin-top:5px}.error[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.pais-seleccionado[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding:10px;border:1px solid #007bff;border-radius:4px;background-color:#e9f5ff}.pais-seleccionado[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin:0 0 10px;color:#007bff}.pais-seleccionado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:5px;border-radius:4px}.confirmation-message[_ngcontent-%COMP%]{text-align:center;font-size:18px;color:#28a745;font-weight:700;margin-top:20px}.confirmation-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #ffffff;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.altas-choferes-container[_ngcontent-%COMP%]{padding:15px}button.submit-btn[_ngcontent-%COMP%]{margin-top:5px;font-size:14px}}"]})};function Dr(n,e){if(n&1&&(s(0,"div",1)(1,"h2",2),l(2,"Detalle del Pa\xEDs"),a(),s(3,"div",3)(4,"p")(5,"strong"),l(6,"Nombre:"),a(),s(7,"span"),l(8),a()(),s(9,"p")(10,"strong"),l(11,"Continente:"),a(),s(12,"span"),l(13),a()(),_(14,"img",4),a()()),n&2){let t=E();p(8),y(t.pais.nombre),p(5),y(t.pais.continente),p(),on("alt",t.pais.nombre),h("src",t.pais.banderaUrl,re)}}var de=class n{pais=null;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-detalle-pais"]],inputs:{pais:"pais"},standalone:!0,features:[cn],decls:1,vars:1,consts:[["class","detalle-pais-container",4,"ngIf"],[1,"detalle-pais-container"],[1,"detalle-titulo"],[1,"detalle-info"],[1,"bandera-img",3,"src","alt"]],template:function(t,i){t&1&&v(0,Dr,15,4,"div",0),t&2&&h("ngIf",i.pais)},dependencies:[L],styles:[".detalle-pais-container[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:10px;padding:15px;box-shadow:0 2px 5px #0000001a;max-width:300px;margin:15px auto}.detalle-titulo[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:24px;font-weight:600;color:#333;text-align:center;color:#4a90e2;font-size:1rem;margin-bottom:10px}.detalle-info[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:16px;color:#555;line-height:1.4}.bandera-img[_ngcontent-%COMP%]{width:100%;max-width:100px;height:auto;border-radius:5px;display:block;margin:5px auto}"]})};var Ye=class{constructor(e,t,i,r,o,d){this.nombre=e;this.dni=t;this.edad=i;this.nrolicencia=r;this.licencia=o;this.paisOrigen=d}};var Rr=["choferList"];function Br(n,e){if(n&1){let t=je();s(0,"tr",9),W("click",function(){let r=ye(t).$implicit,o=E();return xe(o.seleccionarChofer(r))}),s(1,"td"),l(2),a(),s(3,"td"),l(4),a(),s(5,"td"),l(6),a(),s(7,"td"),l(8),a(),s(9,"td"),l(10),a(),s(11,"td"),l(12),a(),s(13,"td"),_(14,"img",10),a()()}if(n&2){let t=e.$implicit,i=E();p(2),y(t.nombre),p(2),y(t.dni),p(2),y(t.edad),p(2),y(t.licencia),p(2),y(t.nrolicencia),p(2),y(t.paisOrigen),p(2),ze("alt","Bandera de ",t.paisOrigen,""),h("src",i.getBanderaUrl(t.paisOrigen),re)}}function Lr(n,e){n&1&&(s(0,"div",11)(1,"p"),l(2,"No hay choferes disponibles."),a()())}var ue=class n{constructor(e){this.choferService=e}searchText="";choferes=[];choferSeleccionado=new rn;choferList=null;choferDetallado=null;ngOnInit(){this.cargarChoferes()}cargarChoferes(){this.choferService.obtenerChoferes().subscribe(e=>{this.choferes=e.map(t=>new Ye(t.nombre,t.dni,t.edad,t.nrolicencia,t.licencia,t.paisOrigen))})}seleccionarChofer(e){this.choferSeleccionado.emit(e),this.scrollToChofer(e)}scrollToChofer(e){if(this.choferList){let t=this.choferList.nativeElement.querySelector(`li[class*="${e.dni}"]`);if(t&&!t.scrollIntoView({behavior:"smooth",block:"start"})){let r=t.getBoundingClientRect(),o=this.choferList.nativeElement.scrollTop;window.scrollTo({top:r.top+o,behavior:"smooth"})}}}getBanderaUrl(e){return`https://flagcdn.com/w40/${{Afganist\u00E1n:"af",Albania:"al",Argelia:"dz",Andorra:"ad",Angola:"ao","Antigua y Barbuda":"ag",Argentina:"ar",Armenia:"am",Australia:"au",Austria:"at",Azerbaiy\u00E1n:"az",Bahamas:"bs",Bar\u00E9in:"bh",Banglad\u00E9s:"bd",Barbados:"bb",Bielorrusia:"by",B\u00E9lgica:"be",Belice:"bz",Ben\u00EDn:"bj",But\u00E1n:"bt",Bolivia:"bo","Bosnia y Herzegovina":"ba",Botsuana:"bw",Brasil:"br",Brun\u00E9i:"bn",Bulgaria:"bg","Burkina Faso":"bf",Burundi:"bi","Cabo Verde":"cv",Camboya:"kh",Camer\u00FAn:"cm",Canad\u00E1:"ca","Rep\xFAblica Centroafricana":"cf",Chad:"td",Chile:"cl",China:"cn",Colombia:"co",Comoras:"km","Rep\xFAblica Democr\xE1tica del Congo":"cd","Rep\xFAblica del Congo":"cg","Costa Rica":"cr",Croacia:"hr",Cuba:"cu",Chipre:"cy","Rep\xFAblica Checa":"cz",Dinamarca:"dk",Yibuti:"dj",Dominica:"dm","Rep\xFAblica Dominicana":"do",Ecuador:"ec",Egipto:"eg","El Salvador":"sv","Guinea Ecuatorial":"gq",Eritrea:"er",Estonia:"ee",Esuatini:"sz",Etiop\u00EDa:"et",Fiyi:"fj",Finlandia:"fi",Francia:"fr",Gab\u00F3n:"ga",Gambia:"gm",Georgia:"ge",Alemania:"de",Ghana:"gh",Grecia:"gr",Granada:"gd",Guatemala:"gt",Guinea:"gn","Guinea-Bis\xE1u":"gw",Guyana:"gy",Hait\u00ED:"ht",Honduras:"hn",Hungr\u00EDa:"hu",Islandia:"is",India:"in",Indonesia:"id",Ir\u00E1n:"ir",Irak:"iq",Irlanda:"ie",Israel:"il",Italia:"it",Jamaica:"jm",Jap\u00F3n:"jp",Jordania:"jo",Kazajist\u00E1n:"kz",Kenia:"ke",Kiribati:"ki",Kuwait:"kw",Kirguist\u00E1n:"kg",Laos:"la",Letonia:"lv",L\u00EDbano:"lb",Lesoto:"ls",Liberia:"lr",Libia:"ly",Liechtenstein:"li",Lituania:"lt",Luxemburgo:"lu",Madagascar:"mg",Malawi:"mw",Malasia:"my",Maldivas:"mv",Mal\u00ED:"ml",Malta:"mt","Islas Marshall":"mh",Mauritania:"mr",Mauricio:"mu",M\u00E9xico:"mx",Micronesia:"fm",Moldavia:"md",M\u00F3naco:"mc",Mongolia:"mn",Montenegro:"me",Marruecos:"ma",Mozambique:"mz",Birmania:"mm",Namibia:"na",Nauru:"nr",Nepal:"np","Pa\xEDses Bajos":"nl","Nueva Zelanda":"nz",Nicaragua:"ni",N\u00EDger:"ne",Nigeria:"ng","Corea del Norte":"kp","Macedonia del Norte":"mk",Noruega:"no",Om\u00E1n:"om",Pakist\u00E1n:"pk",Palaos:"pw",Palestina:"ps",Panam\u00E1:"pa","Pap\xFAa Nueva Guinea":"pg",Paraguay:"py",Per\u00FA:"pe",Filipinas:"ph",Polonia:"pl",Portugal:"pt",Catar:"qa",Ruman\u00EDa:"ro",Rusia:"ru",Ruanda:"rw","San Crist\xF3bal y Nieves":"kn","Santa Luc\xEDa":"lc","San Vicente y las Granadinas":"vc",Samoa:"ws","San Marino":"sm","Santo Tom\xE9 y Pr\xEDncipe":"st","Arabia Saudita":"sa",Senegal:"sn",Serbia:"rs",Seychelles:"sc","Sierra Leona":"sl",Singapur:"sg",Eslovaquia:"sk",Eslovenia:"si","Islas Salom\xF3n":"sb",Somalia:"so",Sud\u00E1frica:"za","Corea del Sur":"kr","Sud\xE1n del Sur":"ss",Espa\u00F1a:"es","Sri Lanka":"lk",Sud\u00E1n:"sd",Surinam:"sr",Suecia:"se",Suiza:"ch",Siria:"sy",Taiw\u00E1n:"tw",Tayikist\u00E1n:"tj",Tanzania:"tz",Tailandia:"th",Togo:"tg",Tonga:"to","Trinidad y Tobago":"tt",T\u00FAnez:"tn",Turqu\u00EDa:"tr",Turkmenist\u00E1n:"tm",Tuvalu:"tv",Uganda:"ug",Ucrania:"ua","Emiratos \xC1rabes Unidos":"ae","Reino Unido":"gb","Estados Unidos":"us",Uruguay:"uy",Uzbekist\u00E1n:"uz",Vanuatu:"vu","Ciudad del Vaticano":"va",Venezuela:"ve",Vietnam:"vn",Yemen:"ye",Zambia:"zm",Zimbabue:"zw"}[e]||"xx"}.png`}static \u0275fac=function(t){return new(t||n)(B(le))};static \u0275cmp=R({type:n,selectors:[["app-listados-choferes"]],viewQuery:function(t,i){if(t&1&&an(Rr,7),t&2){let r;sn(r=ln())&&(i.choferList=r.first)}},outputs:{choferSeleccionado:"choferSeleccionado"},decls:27,vars:2,consts:[[1,"mb-4","text-center"],[1,"container","my-5"],[1,"row"],[1,"col-12"],[1,"table-responsive"],[1,"table"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],["class","text-center mt-4",4,"ngIf"],[3,"click"],[1,"bandera-img",2,"width","30px","height","auto",3,"src","alt"],[1,"text-center","mt-4"]],template:function(t,i){t&1&&(_(0,"app-header"),s(1,"h2",0),l(2,"Listado de Choferes"),a(),s(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),l(11,"Nombre"),a(),s(12,"th",6),l(13,"Dni"),a(),s(14,"th",6),l(15,"Edad"),a(),s(16,"th",6),l(17,"licencia"),a(),s(18,"th",6),l(19,"nro licencia"),a(),s(20,"th",6),l(21,"Pais Origen"),a(),s(22,"th",6),l(23,"Bandera"),a()()(),s(24,"tbody"),v(25,Br,15,9,"tr",7),a()()(),v(26,Lr,3,0,"div",8),a()()()),t&2&&(p(25),h("ngForOf",i.choferes),p(),h("ngIf",i.choferes.length===0))},dependencies:[Ge,L,se],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:20px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:24px;font-weight:600;color:#343a40;color:#4a90e2;font-size:1rem;margin-bottom:10px}ul.list-choferes[_ngcontent-%COMP%]{padding:0}.chofer-item[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:8px;margin-bottom:10px;padding:15px;transition:box-shadow .3s ease-in-out;background-color:#fff}.chofer-item[_ngcontent-%COMP%]:hover{box-shadow:0 6px 12px #0000001a}.chofer-descripcion[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:18px;font-weight:500;color:#495057}.chofer-codigo[_ngcontent-%COMP%]{font-size:14px}.badge[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.botonVolver[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#007bff;border:none;padding:10px 20px;color:#fff;border-radius:8px;transition:background-color .3s ease}.botonVolver[_ngcontent-%COMP%]:hover{background-color:#0056b3}.table[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:600}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;cursor:pointer}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.table-responsive[_ngcontent-%COMP%]{margin-top:20px;overflow-x:auto}"]})};function zr(n,e){if(n&1&&(s(0,"div",1)(1,"h2",2),l(2,"Detalle del chofer"),a(),s(3,"div",3)(4,"p")(5,"strong"),l(6,"Nombre:"),a(),s(7,"span"),l(8),a()(),s(9,"p")(10,"strong"),l(11,"Dni:"),a(),s(12,"span"),l(13),a()(),s(14,"p")(15,"strong"),l(16,"Edad:"),a(),s(17,"span"),l(18),a()(),s(19,"p")(20,"strong"),l(21,"Nro Licencia:"),a(),s(22,"span"),l(23),a()(),s(24,"p")(25,"strong"),l(26,"Licencia:"),a(),l(27),a(),s(28,"p")(29,"strong"),l(30,"Nacionalidad:"),a(),s(31,"span"),l(32),a()()()()),n&2){let t=E();p(8),y(t.chofer.nombre),p(5),y(t.chofer.dni),p(5),y(t.chofer.edad),p(5),y(t.chofer.nrolicencia),p(4),Ee(" ",t.chofer.licencia?"S\xED":"No",""),p(5),y(t.chofer.paisOrigen)}}var Xe=class n{chofer=null;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-detalle-chofer"]],inputs:{chofer:"chofer"},decls:1,vars:1,consts:[["class","detalle-chofer-container",4,"ngIf"],[1,"detalle-chofer-container"],[1,"detalle-titulo"],[1,"detalle-info"]],template:function(t,i){t&1&&v(0,zr,33,6,"div",0),t&2&&h("ngIf",i.chofer)},dependencies:[L],styles:[".detalle-chofer-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 10px #0000001a;margin:20px 0}.detalle-titulo[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:28px;font-weight:600;color:#333;text-align:center;color:#4a90e2;font-size:1rem;margin-bottom:10px}.detalle-info[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:18px;color:#555;line-height:1.6}.detalle-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#007bff}.detalle-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px;font-weight:400}"]})};var Gr=()=>["/bienvenida"];function Vr(n,e){if(n&1&&(s(0,"div",11)(1,"h1"),l(2,"Detalle del Chofer Seleccionado"),a(),_(3,"app-detalle-chofer",12),a()),n&2){let t=E();p(3),h("chofer",t.choferSeleccionado)}}function qr(n,e){if(n&1&&(s(0,"div",13)(1,"h1"),l(2,"Datos del Pa\xEDs de Origen"),a(),_(3,"app-detalle-pais",14),a()),n&2){let t=E();p(3),h("pais",t.pais)}}var et=class n{constructor(e,t){this.choferService=e;this.paisService=t}choferSeleccionado=null;pais=null;paises=[];searchText="";ngOnInit(){this.paisService.traerPaises().subscribe(e=>{this.paises=e})}seleccionarChofer(e){this.choferSeleccionado=e,this.pais=this.getPaisOrigen(e.paisOrigen),console.log(this.choferSeleccionado)}getPaisOrigen(e){return this.paises.find(t=>t.nombre.toLowerCase()===e.toLowerCase())||null}static \u0275fac=function(t){return new(t||n)(B(le),B(ce))};static \u0275cmp=R({type:n,selectors:[["app-chofer-pais"]],decls:13,vars:4,consts:[[1,"button",3,"routerLink"],[1,"button-box"],[1,"button-elem"],["viewBox","0 0 46 40","xmlns","http://www.w3.org/2000/svg"],["d","M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"],[1,"container"],[1,"jumbotron","scrollable-list"],[3,"choferSeleccionado"],[1,"details-container"],["class","background",4,"ngIf"],["class","borders",4,"ngIf"],[1,"background"],[3,"chofer"],[1,"borders"],[3,"pais"]],template:function(t,i){t&1&&(s(0,"a",0)(1,"div",1)(2,"span",2),Be(),s(3,"svg",3),_(4,"path",4),a()()()(),Le(),s(5,"h1"),l(6," Informacion General"),a(),s(7,"div",5)(8,"div",6)(9,"app-listados-choferes",7),W("choferSeleccionado",function(o){return i.seleccionarChofer(o)}),a()(),s(10,"div",8),v(11,Vr,4,1,"div",9)(12,qr,4,1,"div",10),a()()),t&2&&(h("routerLink",Ue(3,Gr)),p(11),h("ngIf",i.choferSeleccionado),p(),h("ngIf",i.pais))},dependencies:[L,qe,de,ue,Xe],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:10px;box-shadow:0 4px 8px #0000001a;background-color:#f9f9f9}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px}.button-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;top:30px;left:30px;background-color:#00000080;padding:10px;border-radius:50px;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease,box-shadow .3s ease}.button-box[_ngcontent-%COMP%]:hover{background-color:#000000b3;box-shadow:0 6px 12px #0003}.button-elem[_ngcontent-%COMP%]{display:block;width:24px;height:24px;margin:0 12px;transform:rotate(180deg);fill:#fff;transition:fill .3s ease,transform .3s ease}.button-elem[_ngcontent-%COMP%]:hover{fill:#00bcd4;transform:rotate(180deg) scale(1.1)}.jumbotron[_ngcontent-%COMP%]{background-color:#e0f7fa;padding:20px;border-radius:10px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a;height:200px;overflow-y:auto}.details-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px}.background[_ngcontent-%COMP%]{flex:1;background-color:#fff;border:2px solid #e0e0e0;padding:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease}.background[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.borders[_ngcontent-%COMP%]{flex:1;background-color:#fff;border:2px solid #e0e0e0;padding:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease}.borders[_ngcontent-%COMP%]:hover{transform:scale(1.05)}h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:15px;color:#333}@media (max-width: 768px){.details-container[_ngcontent-%COMP%]{flex-direction:column}.jumbotron[_ngcontent-%COMP%]{height:150px}}h1[_ngcontent-%COMP%]{text-align:center;color:#4a90e2;font-size:1.5rem;margin-bottom:20px}"]})};var $r=[{path:"alta-chofer",component:Ze},{path:"chofer-pais",component:et},{path:"listados-choferes",component:ue},{path:"detalle-pais",component:de},{path:"vehiculos",component:Bi}],tt=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=G({type:n});static \u0275inj=U({imports:[gt.forChild($r),gt]})};var ji={production:!1,firebase:{apiKey:"AIzaSyBnG3mCVj6G46UINgyA5kSyHk7VugErgJc",authDomain:"choferes-e79f3.firebaseapp.com",projectId:"choferes-e79f3",storageBucket:"choferes-e79f3.appspot.com",messagingSenderId:"531334371820",appId:"1:531334371820:web:fb88e3cba7bb43d4c408c9",measurementId:"G-FSRP1Q04M5"}};var Hr="firebase",Kr="10.14.1";I.registerVersion(Hr,Kr,"app-compat");var Wr=["ngOnDestroy"],Ui=(n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Wr.indexOf(o)>-1)return()=>{};let d=e.toPromise().then(c=>{let u=c?.[o];return typeof u=="function"?u.bind(c):u?.then?u.then(g=>t.run(()=>g)):t.run(()=>u)});return new Proxy(()=>{},{get:(c,u)=>d[u],apply:(c,u,g)=>d.then(f=>{let T=f?.(...g);return i?.spy?.apply&&i.spy.apply(o,g,T),T})})})});var nt=class{constructor(e){return e}},pe=new x("angularfire2.app.options"),fe=new x("angularfire2.app.name");function Ae(n,e,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let d=I.apps.filter(c=>c&&c.name===r.name)[0]||e.runOutsideAngular(()=>I.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(d.options)){let c=!!module.hot;Jr("error",`${d.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new nt(d)}var Jr=(n,...e)=>{ht()&&typeof console<"u"&&console[n](...e)},Zr={provide:nt,useFactory:Ae,deps:[pe,ne,[new nn,fe]]},Gi=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:pe,useValue:t},{provide:fe,useValue:i}]}}constructor(t){I.registerVersion("angularfire",oe.full,"core"),I.registerVersion("angularfire",oe.full,"app-compat"),I.registerVersion("angular",dn.full,t.toString())}static \u0275fac=function(i){return new(i||n)(m(ie))};static \u0275mod=G({type:n});static \u0275inj=U({providers:[Zr]})}return n})();function it(n,e,t,i,r){let[,o,d]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===n)||[];if(o)return Qr(r,d)||(zi("error",`${e} was already initialized on the ${t} Firebase App with different settings.${Yr?" You may need to reload as Firebase is not HMR aware.":""}`),zi("warn",{is:r,was:d})),o;{let c=i();return globalThis.\u0275AngularfireInstanceCache.push([n,c,r]),c}}function Qr(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var Yr=typeof module<"u"&&!!module.hot,zi=(n,...e)=>{ht()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Xr=new Map,eo={activated:!1,tokenObservers:[]},to={initialized:!1,enabled:!1};function D(n){return Xr.get(n)||Object.assign({},eo)}function Ki(){return to}var no="https://content-firebaseappcheck.googleapis.com/v1";var io="exchangeDebugToken",Vi={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ja=24*60*60*1e3;var Tt=class{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return F(this,null,function*(){this.stop();try{this.pending=new bt,this.pending.promise.catch(t=>{}),yield ro(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bt,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function ro(n){return new Promise(e=>{setTimeout(e,n)})}var oo={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$=new hn("appCheck","AppCheck",oo);function Wi(n){if(!D(n).activated)throw $.create("use-before-activation",{appName:n.name})}function Ji(i,r){return F(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){let A=yield d.getHeartbeatsHeader();A&&(o["X-Firebase-Client"]=A)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(A){throw $.create("fetch-network-error",{originalErrorMessage:A?.message})}if(u.status!==200)throw $.create("fetch-status-error",{httpStatus:u.status});let g;try{g=yield u.json()}catch(A){throw $.create("fetch-parse-error",{originalErrorMessage:A?.message})}let f=g.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw $.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});let T=Number(f[1])*1e3,X=Date.now();return{token:g.token,expireTimeMillis:X+T,issuedAtTimeMillis:X}})}function Zi(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${no}/projects/${t}/apps/${i}:${io}?key=${r}`,body:{debug_token:e}}}var ao="firebase-app-check-database",so=1,Mt="firebase-app-check-store";var rt=null;function lo(){return rt||(rt=new Promise((n,e)=>{try{let t=indexedDB.open(ao,so);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e($.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Mt,{keyPath:"compositeKey"})}}}catch(t){e($.create("storage-open",{originalErrorMessage:t?.message}))}}),rt)}function co(n,e){return uo(po(n),e)}function uo(n,e){return F(this,null,function*(){let i=(yield lo()).transaction(Mt,"readwrite"),o=i.objectStore(Mt).put({compositeKey:n,value:e});return new Promise((d,c)=>{o.onsuccess=u=>{d()},i.onerror=u=>{var g;c($.create("storage-set",{originalErrorMessage:(g=u.target.error)===null||g===void 0?void 0:g.message}))}})})}function po(n){return`${n.options.appId}-${n.name}`}var Ot=new gn("@firebase/app-check");function kt(n,e){return mn()?co(n,e).catch(t=>{Ot.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Qi(){return Ki().enabled}function Yi(){return F(this,null,function*(){let n=Ki();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var fo={error:"UNKNOWN_ERROR"};function mo(n){return fn.encodeString(JSON.stringify(n),!1)}function Dt(n,e=!1){return F(this,null,function*(){let t=n.app;Wi(t);let i=D(t),r=i.token,o;if(r&&!Pe(r)&&(i.token=void 0,r=void 0),!r){let u=yield i.cachedTokenPromise;u&&(Pe(u)?r=u:yield kt(t,void 0))}if(!e&&r&&Pe(r))return{token:r.token};let d=!1;if(Qi()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ji(Zi(t,yield Yi()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);let u=yield i.exchangeTokenPromise;return yield kt(t,u),i.token=u,{token:u.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield D(t).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?Ot.warn(u.message):Ot.error(u),o=u}let c;return r?o?Pe(r)?c={token:r.token,internalError:o}:c=$i(o):(c={token:r.token},i.token=r,yield kt(t,r)):c=$i(o),d&&_o(t,c),c})}function ho(n){return F(this,null,function*(){let e=n.app;Wi(e);let{provider:t}=D(e);if(Qi()){let i=yield Yi(),{token:r}=yield Ji(Zi(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function go(n,e,t,i){let{app:r}=n,o=D(r),d={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,d],o.token&&Pe(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),qi(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>qi(n))}function Xi(n,e){let t=D(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function qi(n){let{app:e}=n,t=D(e),i=t.tokenRefresher;i||(i=bo(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function bo(n){let{app:e}=n;return new Tt(()=>F(this,null,function*(){let t=D(e),i;if(t.token?i=yield Dt(n,!0):i=yield Dt(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=D(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Vi.RETRIAL_MIN_WAIT,Vi.RETRIAL_MAX_WAIT)}function _o(n,e){let t=D(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Pe(n){return n.expireTimeMillis-Date.now()>0}function $i(n){return{token:mo(fo),error:n}}var Nt=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=D(this.app);for(let t of e)Xi(this.app,t.next);return Promise.resolve()}};function Co(n,e){return new Nt(n,e)}function vo(n){return{getToken:e=>Dt(n,e),getLimitedUseToken:()=>ho(n),addTokenListener:e=>go(n,"INTERNAL",e),removeTokenListener:e=>Xi(n.app,e)}}var yo="@firebase/app-check",xo="0.8.8";var Eo="app-check",Hi="app-check-internal";function So(){_t(new Se(Eo,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Co(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Hi).initialize()})),_t(new Se(Hi,n=>{let e=n.getProvider("app-check").getImmediate();return vo(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ct(yo,xo)}So();var wo=["localhost","0.0.0.0","127.0.0.1"],Qa=typeof window<"u"&&wo.includes(window.location.hostname);var Ft=new x("angularfire2.auth.use-emulator"),Rt=new x("angularfire2.auth.settings"),Bt=new x("angularfire2.auth.tenant-id"),Lt=new x("angularfire2.auth.langugage-code"),jt=new x("angularfire2.auth.use-device-language"),zt=new x("angularfire.auth.persistence"),Ut=(n,e,t,i,r,o,d,c)=>it(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),i&&(u.tenantId=i),u.languageCode=r,o&&u.useDeviceLanguage(),d)for(let[g,f]of Object.entries(d))u.settings[g]=f;return c&&u.setPersistence(c),u},[t,i,r,o,d,c]),tr=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,d,c,u,g,f,T,X,A){let Te=new Qt,H=O(void 0).pipe(Ce(d.outsideAngular),K(()=>o.runOutsideAngular(()=>import("./chunk-UOYPNWOI.js"))),C(()=>Ae(t,o,i)),C(N=>Ut(N,o,c,g,f,T,u,X)),ft({bufferSize:1,refCount:!1}));if(Ve(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=O(null);else{H.pipe(tn()).subscribe();let N=H.pipe(K(b=>b.getRedirectResult().then(P=>P,()=>null)),w,ft({bufferSize:1,refCount:!1})),Me=H.pipe(K(b=>new _e(P=>({unsubscribe:o.runOutsideAngular(()=>b.onAuthStateChanged(k=>P.next(k),k=>P.error(k),()=>P.complete()))})))),Oe=H.pipe(K(b=>new _e(P=>({unsubscribe:o.runOutsideAngular(()=>b.onIdTokenChanged(k=>P.next(k),k=>P.error(k),()=>P.complete()))}))));this.authState=N.pipe(mt(Me),De(d.outsideAngular),Ce(d.insideAngular)),this.user=N.pipe(mt(Oe),De(d.outsideAngular),Ce(d.insideAngular)),this.idToken=this.user.pipe(K(b=>b?q(b.getIdToken()):O(null))),this.idTokenResult=this.user.pipe(K(b=>b?q(b.getIdTokenResult()):O(null))),this.credential=Xt(N,Te,this.authState.pipe(ve(b=>!b))).pipe(C(b=>b?.user?b:null),De(d.outsideAngular),Ce(d.insideAngular))}return Ui(this,H,o,{spy:{apply:(N,Me,Oe)=>{(N.startsWith("signIn")||N.startsWith("createUser"))&&Oe.then(b=>Te.next(b))}}})}static \u0275fac=function(i){return new(i||n)(m(pe),m(fe,8),m(ie),m(ne),m(He),m(Ft,8),m(Rt,8),m(Bt,8),m(Lt,8),m(jt,8),m(zt,8),m(we,8))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var Po="@firebase/firestore-compat",ko="0.3.38";function Kt(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function nr(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function ir(){if(!En())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ot=class n{constructor(e){this._delegate=e}static fromBase64String(e){return ir(),new n(We.fromBase64String(e))}static fromUint8Array(e){return nr(),new n(We.fromUint8Array(e))}toBase64(){return ir(),this._delegate.toBase64()}toUint8Array(){return nr(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function Gt(n){return To(n,["next","error","complete"])}function To(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}var Vt=class{enableIndexedDbPersistence(e,t){return On(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Dn(e._delegate)}clearIndexedDbPersistence(e){return Nn(e._delegate)}},at=class{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Sn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&_n("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){An(this._delegate,e,t,i)}enableNetwork(){return Rn(this._delegate)}disableNetwork(){return Bn(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,wn("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Fn(this._delegate)}onSnapshotsInSync(e){return oi(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ge(this,vt(this._delegate,e))}catch(t){throw S(t,"collection()","Firestore.collection()")}}doc(e){try{return new z(this,Ke(this._delegate,e))}catch(t){throw S(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Y(this,Pn(this._delegate,e))}catch(t){throw S(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return li(this._delegate,t=>e(new st(this,t)))}batch(){return Mn(this._delegate),new lt(new si(this._delegate,e=>ai(this._delegate,e)))}loadBundle(e){return Ln(this._delegate,e)}namedQuery(e){return jn(this._delegate,e).then(t=>t?new Y(this,t):null)}},me=class extends Jn{constructor(e){super(),this.firestore=e}convertBytes(e){return new ot(new We(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return z.forKey(t,this.firestore,null)}};function Mo(n){bn(n)}var st=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new me(e)}get(e){let t=J(e);return this._delegate.get(t).then(i=>new Z(this._firestore,new Je(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){let r=J(e);return i?(Kt("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let o=J(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){let t=J(e);return this._delegate.delete(t),this}},lt=class{constructor(e){this._delegate=e}set(e,t,i){let r=J(e);return i?(Kt("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){let o=J(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){let t=J(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},he=class n{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){let i=new Zn(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Q(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let i=n.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new n(e,new me(e),t),r.set(t,o)),o}};he.INSTANCES=new WeakMap;var z=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new me(e)}static forPath(e,t,i){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Ie(t._delegate,i,new xn(e)))}static forKey(e,t,i){return new n(t,new Ie(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ge(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ge(this.firestore,vt(this._delegate,e))}catch(t){throw S(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=$e(e),e instanceof Ie?yt(this._delegate,e):!1}set(e,t){t=Kt("DocumentReference.set",t);try{return t?wt(this._delegate,e,t):wt(this._delegate,e)}catch(i){throw S(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?It(this._delegate,e):It(this._delegate,e,t,...i)}catch(r){throw S(r,"updateDoc()","DocumentReference.update()")}}delete(){return ii(this._delegate)}onSnapshot(...e){let t=rr(e),i=or(e,r=>new Z(this.firestore,new Je(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return At(this._delegate,t,i)}get(e){let t;return e?.source==="cache"?t=Yn(this._delegate):e?.source==="server"?t=Xn(this._delegate):t=Qn(this._delegate),t.then(i=>new Z(this.firestore,new Je(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(he.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function S(n,e,t){return n.message=n.message.replace(e,t),n}function rr(n){for(let e of n)if(typeof e=="object"&&!Gt(e))return e;return{}}function or(n,e){var t,i;let r;return Gt(n[0])?r=n[0]:Gt(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:(t=r.error)===null||t===void 0?void 0:t.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Z=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new z(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return St(this._delegate,e._delegate)}},Q=class extends Z{data(e){let t=this._delegate.data(e);return this._delegate._converter||Cn(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},Y=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new me(e)}where(e,t,i){try{return new n(this.firestore,V(this._delegate,Un(e,t,i)))}catch(r){throw S(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,V(this._delegate,Gn(e,t)))}catch(i){throw S(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,V(this._delegate,Vn(e)))}catch(t){throw S(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,V(this._delegate,qn(e)))}catch(t){throw S(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,V(this._delegate,$n(...e)))}catch(t){throw S(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,V(this._delegate,Hn(...e)))}catch(t){throw S(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,V(this._delegate,Kn(...e)))}catch(t){throw S(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,V(this._delegate,Wn(...e)))}catch(t){throw S(t,"endAt()","Query.endAt()")}}isEqual(e){return kn(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=ti(this._delegate):e?.source==="server"?t=ni(this._delegate):t=ei(this._delegate),t.then(i=>new ke(this.firestore,new Et(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let t=rr(e),i=or(e,r=>new ke(this.firestore,new Et(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return At(this._delegate,t,i)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(he.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},qt=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Q(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},ke=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Y(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Q(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qt(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Q(this._firestore,i))})}isEqual(e){return St(this._delegate,e._delegate)}},ge=class n extends Y{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new z(this.firestore,e):null}doc(e){try{return e===void 0?new z(this.firestore,Ke(this._delegate)):new z(this.firestore,Ke(this._delegate,e))}catch(t){throw S(t,"doc()","CollectionReference.doc()")}}add(e){return ri(this._delegate,e).then(t=>new z(this.firestore,t))}isEqual(e){return yt(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(he.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function J(n){return In(n,Ie)}var $t=class n{constructor(...e){this._delegate=new xt(...e)}static documentId(){return new n(yn.keyField().canonicalString())}isEqual(e){return e=$e(e),e instanceof xt?this._delegate._internalPath.isEqual(e._internalPath):!1}};var Ht=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=di();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=ci();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=ui(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=pi(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=fi(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var Oo={Firestore:at,GeoPoint:zn,Timestamp:vn,Blob:ot,Transaction:st,WriteBatch:lt,DocumentReference:z,DocumentSnapshot:Z,Query:Y,QueryDocumentSnapshot:Q,QuerySnapshot:ke,CollectionReference:ge,FieldPath:$t,FieldValue:Ht,setLogLevel:Mo,CACHE_SIZE_UNLIMITED:Tn};function Do(n,e){n.INTERNAL.registerComponent(new Se("firestore-compat",t=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Oo)))}function No(n){Do(n,(e,t)=>new at(e,t,new Vt)),n.registerVersion(Po,ko)}No(I);function Fo(n,e=Yt){return new _e(t=>{let i;return e!=null?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}function ar(n,e){return Fo(n,e)}function Ro(n,e){return ar(n,e).pipe(Re(void 0),Ne(),C(t=>{let[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function Zt(n,e){return ar(n,e).pipe(C(t=>({payload:t,type:"query"})))}var ct=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let i=this.ref.collection(e),{ref:r,query:o}=ur(i,t);return new ut(r,o,this.afs)}snapshotChanges(){return Ro(this.ref,this.afs.schedulers.outsideAngular).pipe(w)}valueChanges(e={}){return this.snapshotChanges().pipe(C(({payload:t})=>e.idField?be(ee({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return q(this.ref.get(e)).pipe(w)}};function dt(n,e){return Zt(n,e).pipe(Re(void 0),Ne(),C(t=>{let[i,r]=t,o=r.payload.docChanges(),d=o.map(c=>({type:c.type,payload:c}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,u)=>{let g=o.find(T=>T.doc.ref.isEqual(c.ref)),f=i?.payload.docs.find(T=>T.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&f&&JSON.stringify(f.metadata)===JSON.stringify(c.metadata)||d.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:c}})}),d}))}function sr(n,e,t){return dt(n,t).pipe(Fe((i,r)=>Bo(i,r.map(o=>o.payload),e),[]),en(),C(i=>i.map(r=>({type:r.type,payload:r}))))}function Bo(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=Lo(n,i))}),n}function Wt(n,e,t,...i){let r=n.slice();return r.splice(e,t,...i),r}function Lo(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return Wt(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return Wt(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Wt(n,e.oldIndex,1);break}return n}function lr(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var ut=class{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=dt(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(C(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Re(void 0),Ne(),ve(([i,r])=>r.length>0||!i),C(([,i])=>i),w)}auditTrail(e){return this.stateChanges(e).pipe(Fe((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=lr(e);return sr(this.query,t,this.afs.schedulers.outsideAngular).pipe(w)}valueChanges(e={}){return Zt(this.query,this.afs.schedulers.outsideAngular).pipe(C(t=>t.payload.docs.map(i=>e.idField?be(ee({},i.data()),{[e.idField]:i.id}):i.data())),w)}get(e){return q(this.query.get(e)).pipe(w)}add(e){return this.ref.add(e)}doc(e){return new ct(this.ref.doc(e),this.afs)}},Jt=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?dt(this.query,this.afs.schedulers.outsideAngular).pipe(w):dt(this.query,this.afs.schedulers.outsideAngular).pipe(C(t=>t.filter(i=>e.indexOf(i.type)>-1)),ve(t=>t.length>0),w)}auditTrail(e){return this.stateChanges(e).pipe(Fe((t,i)=>[...t,...i],[]))}snapshotChanges(e){let t=lr(e);return sr(this.query,t,this.afs.schedulers.outsideAngular).pipe(w)}valueChanges(e={}){return Zt(this.query,this.afs.schedulers.outsideAngular).pipe(C(i=>i.payload.docs.map(r=>e.idField?ee({[e.idField]:r.id},r.data()):r.data())),w)}get(e){return q(this.query.get(e)).pipe(w)}},cr=new x("angularfire2.enableFirestorePersistence"),dr=new x("angularfire2.firestore.persistenceSettings"),jo=new x("angularfire2.firestore.settings"),zo=new x("angularfire2.firestore.use-emulator");function ur(n,e=t=>t){return{query:e(n),ref:n}}var Uo=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,d,c,u,g,f,T,X,A,Te,H,N,Me,Oe){this.schedulers=u;let b=Ae(t,c,i),P=f;T&&Ut(b,c,X,Te,H,N,A,Me),[this.firestore,this.persistenceEnabled$]=it(`${b.name}.firestore`,"AngularFirestore",b.name,()=>{let k=c.runOutsideAngular(()=>b.firestore());if(o&&k.settings(o),P&&k.useEmulator(...P),r&&!Ve(d)){let mr=()=>{try{return q(k.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(hr){return typeof console<"u"&&console.warn(hr),O(!1)}};return[k,c.runOutsideAngular(mr)]}else return[k,O(!1)]},[o,P,r])}collection(t,i){let r;typeof t=="string"?r=this.firestore.collection(t):r=t;let{ref:o,query:d}=ur(r,i),c=this.schedulers.ngZone.run(()=>o);return new ut(c,d,this)}collectionGroup(t,i){let r=i||(d=>d),o=this.firestore.collectionGroup(t);return new Jt(r(o),this)}doc(t){let i;typeof t=="string"?i=this.firestore.doc(t):i=t;let r=this.schedulers.ngZone.run(()=>i);return new ct(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(m(pe),m(fe,8),m(cr,8),m(jo,8),m(ie),m(ne),m(He),m(dr,8),m(zo,8),m(tr,8),m(Ft,8),m(Rt,8),m(Bt,8),m(Lt,8),m(jt,8),m(zt,8),m(we,8))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),pr=(()=>{class n{constructor(){I.registerVersion("angularfire",oe.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:cr,useValue:!0},{provide:dr,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=G({type:n});static \u0275inj=U({providers:[Uo]})}return n})();var fr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=G({type:n});static \u0275inj=U({providers:[le],imports:[un,tt,Oi,Mi,Gi.initializeApp(ji.firebase),pr,Ri,Di,Fi,Ni,se]})};export{fr as ChoferesModule};
